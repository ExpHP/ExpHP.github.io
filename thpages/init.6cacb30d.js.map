{"version":3,"sources":["../src/loader.js","../src/options.js","../src/showdown.js","../src/helpers.js","../src/converter.js","../src/subParsers/anchors.js","../src/subParsers/autoLinks.js","../src/subParsers/blockGamut.js","../src/subParsers/blockQuotes.js","../src/subParsers/codeBlocks.js","../src/subParsers/codeSpans.js","../src/subParsers/completeHTMLDocument.js","../src/subParsers/detab.js","../src/subParsers/ellipsis.js","../src/subParsers/emoji.js","../src/subParsers/encodeAmpsAndAngles.js","../src/subParsers/encodeBackslashEscapes.js","../src/subParsers/encodeCode.js","../src/subParsers/escapeSpecialCharsWithinTagAttributes.js","../src/subParsers/githubCodeBlocks.js","../src/subParsers/hashBlock.js","../src/subParsers/hashCodeTags.js","../src/subParsers/hashElement.js","../src/subParsers/hashHTMLBlocks.js","../src/subParsers/hashHTMLSpans.js","../src/subParsers/hashPreCodeTags.js","../src/subParsers/headers.js","../src/subParsers/horizontalRule.js","../src/subParsers/images.js","../src/subParsers/italicsAndBold.js","../src/subParsers/lists.js","../src/subParsers/metadata.js","../src/subParsers/outdent.js","../src/subParsers/paragraphs.js","../src/subParsers/runExtension.js","../src/subParsers/spanGamut.js","../src/subParsers/strikethrough.js","../src/subParsers/stripLinkDefinitions.js","../src/subParsers/tables.js","../src/subParsers/underline.js","../src/subParsers/unescapeSpecialChars.js","../src/subParsers/makeMarkdown/blockquote.js","../src/subParsers/makeMarkdown/codeBlock.js","../src/subParsers/makeMarkdown/codeSpan.js","../src/subParsers/makeMarkdown/emphasis.js","../src/subParsers/makeMarkdown/header.js","../src/subParsers/makeMarkdown/hr.js","../src/subParsers/makeMarkdown/image.js","../src/subParsers/makeMarkdown/links.js","../src/subParsers/makeMarkdown/list.js","../src/subParsers/makeMarkdown/listItem.js","../src/subParsers/makeMarkdown/node.js","../src/subParsers/makeMarkdown/paragraph.js","../src/subParsers/makeMarkdown/pre.js","../src/subParsers/makeMarkdown/strikethrough.js","../src/subParsers/makeMarkdown/strong.js","../src/subParsers/makeMarkdown/table.js","../src/subParsers/makeMarkdown/tableCell.js","../src/subParsers/makeMarkdown/txt.js","js/resolver.ts","js/game-names.ts","js/url-format.ts","js/tips.ts","js/ref.ts","js/lib/dedent.ts","js/markdown.ts","js/anm/eclmap.ts","js/anm/versions.ts","js/settings.ts","js/lib/gridviewscroll.ts","js/anm/stats.ts","js/util.ts","js/anm/ins-table.js","js/anm/var-table.js","js/anm/std-table.js","js/anm/tables.ts","js/navbar.ts","node_modules/highlight.js/lib/core.js","node_modules/highlight.js/lib/languages/c-like.js","node_modules/highlight.js/lib/languages/cpp.js","node_modules/highlight.js/lib/languages/javascript.js","js/main.js","js/init.js"],"names":["UNASSIGNED","ref","wip","ANM_BY_OPCODE","Map","ANM_GROUPS_V8","min","max","title","set","get","inner","entries","opcode","NumMap","ANM_INS_DATA","Object","assign","sig","args","desc","succ","JUMP_DATA","jmpEq","jmpNe","jmpLt","jmpLe","jmpGt","jmpGe","mnemonic","operator","suffix","ty","OPERATOR_DATA","add","sub","mul","div","mod","refTy","valTy","OPERATOR_3_DATA","game","table","opcodeStr","id","entry","substring","length","undefined","minGame","maxGame","window","console","error","key","value","re","RegExp","replace","ANM_VARS_BY_NUMBER","num","ANM_VAR_DATA","type","mut","STD_BY_OPCODE","GROUPS_V8","STD_INS_DATA","thing","init","onContentLoad","clb","contentLoadListeners","push","document","querySelector","addEventListener","buildOrScrollToContent","initResize","hljs","registerLanguage","hljsCLike","hljsCpp","hljsJs","MAIN_TITLE","$content","$scriptContent","lastQuery","pageMarkdownCache","contentLoaded","func","getPossiblyCachedContentMd","page","err","xhr","XMLHttpRequest","open","onreadystatechange","readyState","status","responseText","apply","send","loadContent","md","loadMd","getErrorString","txt","resetScroll","setWindowTitle","innerHTML","html","MD","makeHtml","context","location","hash","transformHtml","body","scrollTop","documentElement","text","sep","head","query","s","a","trySeveralTimes","times","$elem","getElementById","scrollIntoView","scrollBy","setTimeout","highlightCode","content","lang","fixMarkup","highlight","resize","screen","width","setAttribute","w","height","onresize"],"mappings":"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A,IAAK,gBAAiBC,IAAK,KAIlCC,EAAcM,IAAI,KAAM,CACnB,EAAA,CAACR,IAAK,WACN,EAAA,CAACA,IAAK,cACN,EAAA,CAACA,IAAK,cACN,EAAA,CAACA,IAAK,cACN,EAAA,CAACA,IAAK,WACN,EAAA,CAACA,IAAK,cACN,EAAA,CAACA,IAAK,WACN,EAAA,CAACA,IAAK,aACN,EAAA,CAACA,IAAK,aACN,EAAA,CAACA,IAAK,iBACL,GAAA,CAACA,IAAK,aACN,GAAA,CAACA,IAAK,aACN,GAAA,CAACA,IAAK,cACN,GAAA,CAACA,IAAK,gBACN,GAAA,CAACA,IAAK,mBACN,GAAA,CAACA,IAAK,uBACND,GAAAA,EACA,GAAA,CAACC,IAAK,qBACN,GAAA,CAACA,IAAK,sBACN,GAAA,CAACA,IAAK,uBACN,GAAA,CAACA,IAAK,YACN,GAAA,CAACA,IAAK,YACND,GAAAA,EACA,GAAA,CAACC,IAAK,aACN,GAAA,CAACA,IAAK,eACN,GAAA,CAACA,IAAK,aACN,GAAA,CAACA,IAAK,YACN,GAAA,CAACA,IAAK,YACN,GAAA,CAACA,IAAK,eACN,GAAA,CAACA,IAAK,uBACND,GAAAA,EACAA,GAAAA,EACA,GAAA,CAACC,IAAK,eACN,GAAA,CAACA,IAAK,qBACN,GAAA,CAACA,IAAK,iBACN,GAAA,CAACA,IAAK,kBACN,GAAA,CAACA,IAAK,iBAEN,GAAA,CAACA,IAAK,WACN,GAAA,CAACA,IAAK,YACN,GAAA,CAACA,IAAK,WACN,GAAA,CAACA,IAAK,YACN,GAAA,CAACA,IAAK,WACN,GAAA,CAACA,IAAK,YACN,GAAA,CAACA,IAAK,WACN,GAAA,CAACA,IAAK,YACN,GAAA,CAACA,IAAK,WACN,GAAA,CAACA,IAAK,YACN,GAAA,CAACA,IAAK,WACN,GAAA,CAACA,IAAK,YACN,GAAA,CAACA,IAAK,YACN,GAAA,CAACA,IAAK,aACN,GAAA,CAACA,IAAK,YACN,GAAA,CAACA,IAAK,aACN,GAAA,CAACA,IAAK,YACN,GAAA,CAACA,IAAK,aACN,GAAA,CAACA,IAAK,YACN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AEA,CACA,MA3IA,qBA4IA,SAAA,EACA,UAAA,GAEA,CACA,MAAA,EAAA,aAAA,EACA,SAAA,CAAA,GACA,UAAA,GAEA,CACA,UAAA,SACA,MAAA,KAAA,IAAA,KACA,SAAA,EACA,UAAA,EACA,SAAA,CACA,EAAA,oBACA,EAAA,qBACA,EACA,EACA,EAEA,CACA,MAAA,KAAA,IAAA,KACA,SAAA,EACA,UAAA,EACA,SAAA,CACA,OACA,EAAA,oBACA,EAAA,qBACA,EACA,EACA,MAKA,EACA,EAAA,oBACA,EAAA,qBACA,IAIA,MAAA,CACA,QAAA,CAAA,IAAA,KAAA,IAAA,MAAA,MAAA,MAAA,KAAA,MAAA,OACA,SAAA,EAGA,mBAAA,EACA,QAAA,KACA,SAAA,GAAA,OACA,EACA,EACA,EACA,CACA,EACA,CACA,MAAA,uKAAA,IAAA,IACA,SAAA,EACA,SAAA,CAAA,OAAA,IAEA,CACA,MAAA,EAAA,SAAA,KACA,SAAA,GAEA,CACA,UAAA,QACA,cAAA,eAAA,IAAA,QACA,SAAA,CACA,CAAA,MAAA,IAAA,IAAA,IAAA,SAAA,CAAA,SACA,EAAA,eAIA,QAAA,CACA,aAAA,EACA,QAAA,EACA,SAAA,IAKA,OAAA,QAAA;;ACzOA,SAAA,EAAA,GACA,IAAA,EAAA,EAAA,YAAA,UAAA,gBAKA,OAHA,EAAA,mBAAA,EACA,EAAA,KAAA,MACA,EAAA,QAAA,CAAA,KAAA,MAAA,MAAA,MAAA,KAAA,MAAA,OACA,EAGA,OAAA,QAAA;;ACjBA,MAAA,EAAA,2BACA,EAAA,CACA,KACA,KACA,KACA,KACA,MACA,QACA,UACA,MACA,MACA,WACA,KACA,SACA,OACA,OACA,QACA,QACA,aACA,OACA,QACA,OACA,UACA,MACA,SACA,WACA,SACA,SACA,MACA,QACA,QACA,QAIA,WACA,QACA,QACA,SACA,SACA,OACA,SACA,WAEA,EAAA,CACA,OACA,QACA,OACA,YACA,MACA,YAGA,EAAA,CACA,OACA,WACA,SACA,OACA,OACA,SACA,SACA,SACA,WACA,UACA,QACA,SACA,MACA,MACA,UACA,UAC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","file":"init.6cacb30d.js","sourceRoot":"..","sourcesContent":["var root = this;\n\n// AMD Loader\nif (typeof define === 'function' && define.amd) {\n  define(function () {\n    'use strict';\n    return showdown;\n  });\n\n// CommonJS/nodeJS Loader\n} else if (typeof module !== 'undefined' && module.exports) {\n  module.exports = showdown;\n\n// Regular Browser loader\n} else {\n  root.showdown = showdown;\n}\n","/**\n * Created by Tivie on 13-07-2015.\n */\n\nfunction getDefaultOpts (simple) {\n  'use strict';\n\n  var defaultOptions = {\n    omitExtraWLInCodeBlocks: {\n      defaultValue: false,\n      describe: 'Omit the default extra whiteline added to code blocks',\n      type: 'boolean'\n    },\n    noHeaderId: {\n      defaultValue: false,\n      describe: 'Turn on/off generated header id',\n      type: 'boolean'\n    },\n    prefixHeaderId: {\n      defaultValue: false,\n      describe: 'Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic \\'section-\\' prefix',\n      type: 'string'\n    },\n    rawPrefixHeaderId: {\n      defaultValue: false,\n      describe: 'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the \" char is used in the prefix)',\n      type: 'boolean'\n    },\n    ghCompatibleHeaderId: {\n      defaultValue: false,\n      describe: 'Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)',\n      type: 'boolean'\n    },\n    rawHeaderId: {\n      defaultValue: false,\n      describe: 'Remove only spaces, \\' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids',\n      type: 'boolean'\n    },\n    headerLevelStart: {\n      defaultValue: false,\n      describe: 'The header blocks level start',\n      type: 'integer'\n    },\n    parseImgDimensions: {\n      defaultValue: false,\n      describe: 'Turn on/off image dimension parsing',\n      type: 'boolean'\n    },\n    simplifiedAutoLink: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM autolink style',\n      type: 'boolean'\n    },\n    excludeTrailingPunctuationFromURLs: {\n      defaultValue: false,\n      describe: 'Excludes trailing punctuation from links generated with autoLinking',\n      type: 'boolean'\n    },\n    literalMidWordUnderscores: {\n      defaultValue: false,\n      describe: 'Parse midword underscores as literal underscores',\n      type: 'boolean'\n    },\n    literalMidWordAsterisks: {\n      defaultValue: false,\n      describe: 'Parse midword asterisks as literal asterisks',\n      type: 'boolean'\n    },\n    strikethrough: {\n      defaultValue: false,\n      describe: 'Turn on/off strikethrough support',\n      type: 'boolean'\n    },\n    tables: {\n      defaultValue: false,\n      describe: 'Turn on/off tables support',\n      type: 'boolean'\n    },\n    tablesHeaderId: {\n      defaultValue: false,\n      describe: 'Add an id to table headers',\n      type: 'boolean'\n    },\n    ghCodeBlocks: {\n      defaultValue: true,\n      describe: 'Turn on/off GFM fenced code blocks support',\n      type: 'boolean'\n    },\n    tasklists: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM tasklist support',\n      type: 'boolean'\n    },\n    smoothLivePreview: {\n      defaultValue: false,\n      describe: 'Prevents weird effects in live previews due to incomplete input',\n      type: 'boolean'\n    },\n    smartIndentationFix: {\n      defaultValue: false,\n      description: 'Tries to smartly fix indentation in es6 strings',\n      type: 'boolean'\n    },\n    disableForced4SpacesIndentedSublists: {\n      defaultValue: false,\n      description: 'Disables the requirement of indenting nested sublists by 4 spaces',\n      type: 'boolean'\n    },\n    simpleLineBreaks: {\n      defaultValue: false,\n      description: 'Parses simple line breaks as <br> (GFM Style)',\n      type: 'boolean'\n    },\n    requireSpaceBeforeHeadingText: {\n      defaultValue: false,\n      description: 'Makes adding a space between `#` and the header text mandatory (GFM Style)',\n      type: 'boolean'\n    },\n    ghMentions: {\n      defaultValue: false,\n      description: 'Enables github @mentions',\n      type: 'boolean'\n    },\n    ghMentionsLink: {\n      defaultValue: 'https://github.com/{u}',\n      description: 'Changes the link generated by @mentions. Only applies if ghMentions option is enabled.',\n      type: 'string'\n    },\n    encodeEmails: {\n      defaultValue: true,\n      description: 'Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities',\n      type: 'boolean'\n    },\n    openLinksInNewWindow: {\n      defaultValue: false,\n      description: 'Open all links in new windows',\n      type: 'boolean'\n    },\n    backslashEscapesHTMLTags: {\n      defaultValue: false,\n      description: 'Support for HTML Tag escaping. ex: \\<div>foo\\</div>',\n      type: 'boolean'\n    },\n    emoji: {\n      defaultValue: false,\n      description: 'Enable emoji support. Ex: `this is a :smile: emoji`',\n      type: 'boolean'\n    },\n    underline: {\n      defaultValue: false,\n      description: 'Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`',\n      type: 'boolean'\n    },\n    completeHTMLDocument: {\n      defaultValue: false,\n      description: 'Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags',\n      type: 'boolean'\n    },\n    metadata: {\n      defaultValue: false,\n      description: 'Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).',\n      type: 'boolean'\n    },\n    splitAdjacentBlockquotes: {\n      defaultValue: false,\n      description: 'Split adjacent blockquote blocks',\n      type: 'boolean'\n    }\n  };\n  if (simple === false) {\n    return JSON.parse(JSON.stringify(defaultOptions));\n  }\n  var ret = {};\n  for (var opt in defaultOptions) {\n    if (defaultOptions.hasOwnProperty(opt)) {\n      ret[opt] = defaultOptions[opt].defaultValue;\n    }\n  }\n  return ret;\n}\n\nfunction allOptionsOn () {\n  'use strict';\n  var options = getDefaultOpts(true),\n      ret = {};\n  for (var opt in options) {\n    if (options.hasOwnProperty(opt)) {\n      ret[opt] = true;\n    }\n  }\n  return ret;\n}\n","/**\n * Created by Tivie on 06-01-2015.\n */\n\n// Private properties\nvar showdown = {},\n    parsers = {},\n    extensions = {},\n    globalOptions = getDefaultOpts(true),\n    setFlavor = 'vanilla',\n    flavor = {\n      github: {\n        omitExtraWLInCodeBlocks:              true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        disableForced4SpacesIndentedSublists: true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghCompatibleHeaderId:                 true,\n        ghMentions:                           true,\n        backslashEscapesHTMLTags:             true,\n        emoji:                                true,\n        splitAdjacentBlockquotes:             true\n      },\n      original: {\n        noHeaderId:                           true,\n        ghCodeBlocks:                         false\n      },\n      ghost: {\n        omitExtraWLInCodeBlocks:              true,\n        parseImgDimensions:                   true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        smoothLivePreview:                    true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghMentions:                           false,\n        encodeEmails:                         true\n      },\n      vanilla: getDefaultOpts(true),\n      allOn: allOptionsOn()\n    };\n\n/**\n * helper namespace\n * @type {{}}\n */\nshowdown.helper = {};\n\n/**\n * TODO LEGACY SUPPORT CODE\n * @type {{}}\n */\nshowdown.extensions = {};\n\n/**\n * Set a global option\n * @static\n * @param {string} key\n * @param {*} value\n * @returns {showdown}\n */\nshowdown.setOption = function (key, value) {\n  'use strict';\n  globalOptions[key] = value;\n  return this;\n};\n\n/**\n * Get a global option\n * @static\n * @param {string} key\n * @returns {*}\n */\nshowdown.getOption = function (key) {\n  'use strict';\n  return globalOptions[key];\n};\n\n/**\n * Get the global options\n * @static\n * @returns {{}}\n */\nshowdown.getOptions = function () {\n  'use strict';\n  return globalOptions;\n};\n\n/**\n * Reset global options to the default values\n * @static\n */\nshowdown.resetOptions = function () {\n  'use strict';\n  globalOptions = getDefaultOpts(true);\n};\n\n/**\n * Set the flavor showdown should use as default\n * @param {string} name\n */\nshowdown.setFlavor = function (name) {\n  'use strict';\n  if (!flavor.hasOwnProperty(name)) {\n    throw Error(name + ' flavor was not found');\n  }\n  showdown.resetOptions();\n  var preset = flavor[name];\n  setFlavor = name;\n  for (var option in preset) {\n    if (preset.hasOwnProperty(option)) {\n      globalOptions[option] = preset[option];\n    }\n  }\n};\n\n/**\n * Get the currently set flavor\n * @returns {string}\n */\nshowdown.getFlavor = function () {\n  'use strict';\n  return setFlavor;\n};\n\n/**\n * Get the options of a specified flavor. Returns undefined if the flavor was not found\n * @param {string} name Name of the flavor\n * @returns {{}|undefined}\n */\nshowdown.getFlavorOptions = function (name) {\n  'use strict';\n  if (flavor.hasOwnProperty(name)) {\n    return flavor[name];\n  }\n};\n\n/**\n * Get the default options\n * @static\n * @param {boolean} [simple=true]\n * @returns {{}}\n */\nshowdown.getDefaultOptions = function (simple) {\n  'use strict';\n  return getDefaultOpts(simple);\n};\n\n/**\n * Get or set a subParser\n *\n * subParser(name)       - Get a registered subParser\n * subParser(name, func) - Register a subParser\n * @static\n * @param {string} name\n * @param {function} [func]\n * @returns {*}\n */\nshowdown.subParser = function (name, func) {\n  'use strict';\n  if (showdown.helper.isString(name)) {\n    if (typeof func !== 'undefined') {\n      parsers[name] = func;\n    } else {\n      if (parsers.hasOwnProperty(name)) {\n        return parsers[name];\n      } else {\n        throw Error('SubParser named ' + name + ' not registered!');\n      }\n    }\n  }\n};\n\n/**\n * Gets or registers an extension\n * @static\n * @param {string} name\n * @param {object|function=} ext\n * @returns {*}\n */\nshowdown.extension = function (name, ext) {\n  'use strict';\n\n  if (!showdown.helper.isString(name)) {\n    throw Error('Extension \\'name\\' must be a string');\n  }\n\n  name = showdown.helper.stdExtName(name);\n\n  // Getter\n  if (showdown.helper.isUndefined(ext)) {\n    if (!extensions.hasOwnProperty(name)) {\n      throw Error('Extension named ' + name + ' is not registered!');\n    }\n    return extensions[name];\n\n    // Setter\n  } else {\n    // Expand extension if it's wrapped in a function\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    // Ensure extension is an array\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExtension = validate(ext, name);\n\n    if (validExtension.valid) {\n      extensions[name] = ext;\n    } else {\n      throw Error(validExtension.error);\n    }\n  }\n};\n\n/**\n * Gets all extensions registered\n * @returns {{}}\n */\nshowdown.getAllExtensions = function () {\n  'use strict';\n  return extensions;\n};\n\n/**\n * Remove an extension\n * @param {string} name\n */\nshowdown.removeExtension = function (name) {\n  'use strict';\n  delete extensions[name];\n};\n\n/**\n * Removes all extensions\n */\nshowdown.resetExtensions = function () {\n  'use strict';\n  extensions = {};\n};\n\n/**\n * Validate extension\n * @param {array} extension\n * @param {string} name\n * @returns {{valid: boolean, error: string}}\n */\nfunction validate (extension, name) {\n  'use strict';\n\n  var errMsg = (name) ? 'Error in ' + name + ' extension->' : 'Error in unnamed extension',\n      ret = {\n        valid: true,\n        error: ''\n      };\n\n  if (!showdown.helper.isArray(extension)) {\n    extension = [extension];\n  }\n\n  for (var i = 0; i < extension.length; ++i) {\n    var baseMsg = errMsg + ' sub-extension ' + i + ': ',\n        ext = extension[i];\n    if (typeof ext !== 'object') {\n      ret.valid = false;\n      ret.error = baseMsg + 'must be an object, but ' + typeof ext + ' given';\n      return ret;\n    }\n\n    if (!showdown.helper.isString(ext.type)) {\n      ret.valid = false;\n      ret.error = baseMsg + 'property \"type\" must be a string, but ' + typeof ext.type + ' given';\n      return ret;\n    }\n\n    var type = ext.type = ext.type.toLowerCase();\n\n    // normalize extension type\n    if (type === 'language') {\n      type = ext.type = 'lang';\n    }\n\n    if (type === 'html') {\n      type = ext.type = 'output';\n    }\n\n    if (type !== 'lang' && type !== 'output' && type !== 'listener') {\n      ret.valid = false;\n      ret.error = baseMsg + 'type ' + type + ' is not recognized. Valid values: \"lang/language\", \"output/html\" or \"listener\"';\n      return ret;\n    }\n\n    if (type === 'listener') {\n      if (showdown.helper.isUndefined(ext.listeners)) {\n        ret.valid = false;\n        ret.error = baseMsg + '. Extensions of type \"listener\" must have a property called \"listeners\"';\n        return ret;\n      }\n    } else {\n      if (showdown.helper.isUndefined(ext.filter) && showdown.helper.isUndefined(ext.regex)) {\n        ret.valid = false;\n        ret.error = baseMsg + type + ' extensions must define either a \"regex\" property or a \"filter\" method';\n        return ret;\n      }\n    }\n\n    if (ext.listeners) {\n      if (typeof ext.listeners !== 'object') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"listeners\" property must be an object but ' + typeof ext.listeners + ' given';\n        return ret;\n      }\n      for (var ln in ext.listeners) {\n        if (ext.listeners.hasOwnProperty(ln)) {\n          if (typeof ext.listeners[ln] !== 'function') {\n            ret.valid = false;\n            ret.error = baseMsg + '\"listeners\" property must be an hash of [event name]: [callback]. listeners.' + ln +\n              ' must be a function but ' + typeof ext.listeners[ln] + ' given';\n            return ret;\n          }\n        }\n      }\n    }\n\n    if (ext.filter) {\n      if (typeof ext.filter !== 'function') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"filter\" must be a function, but ' + typeof ext.filter + ' given';\n        return ret;\n      }\n    } else if (ext.regex) {\n      if (showdown.helper.isString(ext.regex)) {\n        ext.regex = new RegExp(ext.regex, 'g');\n      }\n      if (!(ext.regex instanceof RegExp)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" property must either be a string or a RegExp object, but ' + typeof ext.regex + ' given';\n        return ret;\n      }\n      if (showdown.helper.isUndefined(ext.replace)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" extensions must implement a replace string or function';\n        return ret;\n      }\n    }\n  }\n  return ret;\n}\n\n/**\n * Validate extension\n * @param {object} ext\n * @returns {boolean}\n */\nshowdown.validateExtension = function (ext) {\n  'use strict';\n\n  var validateExtension = validate(ext, null);\n  if (!validateExtension.valid) {\n    console.warn(validateExtension.error);\n    return false;\n  }\n  return true;\n};\n","/**\n * showdownjs helper functions\n */\n\nif (!showdown.hasOwnProperty('helper')) {\n  showdown.helper = {};\n}\n\n/**\n * Check if var is string\n * @static\n * @param {string} a\n * @returns {boolean}\n */\nshowdown.helper.isString = function (a) {\n  'use strict';\n  return (typeof a === 'string' || a instanceof String);\n};\n\n/**\n * Check if var is a function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isFunction = function (a) {\n  'use strict';\n  var getType = {};\n  return a && getType.toString.call(a) === '[object Function]';\n};\n\n/**\n * isArray helper function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isArray = function (a) {\n  'use strict';\n  return Array.isArray(a);\n};\n\n/**\n * Check if value is undefined\n * @static\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n */\nshowdown.helper.isUndefined = function (value) {\n  'use strict';\n  return typeof value === 'undefined';\n};\n\n/**\n * ForEach helper function\n * Iterates over Arrays and Objects (own properties only)\n * @static\n * @param {*} obj\n * @param {function} callback Accepts 3 params: 1. value, 2. key, 3. the original array/object\n */\nshowdown.helper.forEach = function (obj, callback) {\n  'use strict';\n  // check if obj is defined\n  if (showdown.helper.isUndefined(obj)) {\n    throw new Error('obj param is required');\n  }\n\n  if (showdown.helper.isUndefined(callback)) {\n    throw new Error('callback param is required');\n  }\n\n  if (!showdown.helper.isFunction(callback)) {\n    throw new Error('callback param must be a function/closure');\n  }\n\n  if (typeof obj.forEach === 'function') {\n    obj.forEach(callback);\n  } else if (showdown.helper.isArray(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      callback(obj[i], i, obj);\n    }\n  } else if (typeof (obj) === 'object') {\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop)) {\n        callback(obj[prop], prop, obj);\n      }\n    }\n  } else {\n    throw new Error('obj does not seem to be an array or an iterable object');\n  }\n};\n\n/**\n * Standardidize extension name\n * @static\n * @param {string} s extension name\n * @returns {string}\n */\nshowdown.helper.stdExtName = function (s) {\n  'use strict';\n  return s.replace(/[_?*+\\/\\\\.^-]/g, '').replace(/\\s/g, '').toLowerCase();\n};\n\nfunction escapeCharactersCallback (wholeMatch, m1) {\n  'use strict';\n  var charCodeToEscape = m1.charCodeAt(0);\n  return '¨E' + charCodeToEscape + 'E';\n}\n\n/**\n * Callback used to escape characters when passing through String.replace\n * @static\n * @param {string} wholeMatch\n * @param {string} m1\n * @returns {string}\n */\nshowdown.helper.escapeCharactersCallback = escapeCharactersCallback;\n\n/**\n * Escape characters in a string\n * @static\n * @param {string} text\n * @param {string} charsToEscape\n * @param {boolean} afterBackslash\n * @returns {XML|string|void|*}\n */\nshowdown.helper.escapeCharacters = function (text, charsToEscape, afterBackslash) {\n  'use strict';\n  // First we have to escape the escape characters so that\n  // we can build a character class out of them\n  var regexString = '([' + charsToEscape.replace(/([\\[\\]\\\\])/g, '\\\\$1') + '])';\n\n  if (afterBackslash) {\n    regexString = '\\\\\\\\' + regexString;\n  }\n\n  var regex = new RegExp(regexString, 'g');\n  text = text.replace(regex, escapeCharactersCallback);\n\n  return text;\n};\n\n/**\n * Unescape HTML entities\n * @param txt\n * @returns {string}\n */\nshowdown.helper.unescapeHTMLEntities = function (txt) {\n  'use strict';\n\n  return txt\n    .replace(/&quot;/g, '\"')\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n    .replace(/&amp;/g, '&');\n};\n\nvar rgxFindMatchPos = function (str, left, right, flags) {\n  'use strict';\n  var f = flags || '',\n      g = f.indexOf('g') > -1,\n      x = new RegExp(left + '|' + right, 'g' + f.replace(/g/g, '')),\n      l = new RegExp(left, f.replace(/g/g, '')),\n      pos = [],\n      t, s, m, start, end;\n\n  do {\n    t = 0;\n    while ((m = x.exec(str))) {\n      if (l.test(m[0])) {\n        if (!(t++)) {\n          s = x.lastIndex;\n          start = s - m[0].length;\n        }\n      } else if (t) {\n        if (!--t) {\n          end = m.index + m[0].length;\n          var obj = {\n            left: {start: start, end: s},\n            match: {start: s, end: m.index},\n            right: {start: m.index, end: end},\n            wholeMatch: {start: start, end: end}\n          };\n          pos.push(obj);\n          if (!g) {\n            return pos;\n          }\n        }\n      }\n    }\n  } while (t && (x.lastIndex = s));\n\n  return pos;\n};\n\n/**\n * matchRecursiveRegExp\n *\n * (c) 2007 Steven Levithan <stevenlevithan.com>\n * MIT License\n *\n * Accepts a string to search, a left and right format delimiter\n * as regex patterns, and optional regex flags. Returns an array\n * of matches, allowing nested instances of left/right delimiters.\n * Use the \"g\" flag to return all matches, otherwise only the\n * first is returned. Be careful to ensure that the left and\n * right format delimiters produce mutually exclusive matches.\n * Backreferences are not supported within the right delimiter\n * due to how it is internally combined with the left delimiter.\n * When matching strings whose format delimiters are unbalanced\n * to the left or right, the output is intentionally as a\n * conventional regex library with recursion support would\n * produce, e.g. \"<<x>\" and \"<x>>\" both produce [\"x\"] when using\n * \"<\" and \">\" as the delimiters (both strings contain a single,\n * balanced instance of \"<x>\").\n *\n * examples:\n * matchRecursiveRegExp(\"test\", \"\\\\(\", \"\\\\)\")\n * returns: []\n * matchRecursiveRegExp(\"<t<<e>><s>>t<>\", \"<\", \">\", \"g\")\n * returns: [\"t<<e>><s>\", \"\"]\n * matchRecursiveRegExp(\"<div id=\\\"x\\\">test</div>\", \"<div\\\\b[^>]*>\", \"</div>\", \"gi\")\n * returns: [\"test\"]\n */\nshowdown.helper.matchRecursiveRegExp = function (str, left, right, flags) {\n  'use strict';\n\n  var matchPos = rgxFindMatchPos (str, left, right, flags),\n      results = [];\n\n  for (var i = 0; i < matchPos.length; ++i) {\n    results.push([\n      str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n      str.slice(matchPos[i].match.start, matchPos[i].match.end),\n      str.slice(matchPos[i].left.start, matchPos[i].left.end),\n      str.slice(matchPos[i].right.start, matchPos[i].right.end)\n    ]);\n  }\n  return results;\n};\n\n/**\n *\n * @param {string} str\n * @param {string|function} replacement\n * @param {string} left\n * @param {string} right\n * @param {string} flags\n * @returns {string}\n */\nshowdown.helper.replaceRecursiveRegExp = function (str, replacement, left, right, flags) {\n  'use strict';\n\n  if (!showdown.helper.isFunction(replacement)) {\n    var repStr = replacement;\n    replacement = function () {\n      return repStr;\n    };\n  }\n\n  var matchPos = rgxFindMatchPos(str, left, right, flags),\n      finalStr = str,\n      lng = matchPos.length;\n\n  if (lng > 0) {\n    var bits = [];\n    if (matchPos[0].wholeMatch.start !== 0) {\n      bits.push(str.slice(0, matchPos[0].wholeMatch.start));\n    }\n    for (var i = 0; i < lng; ++i) {\n      bits.push(\n        replacement(\n          str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n          str.slice(matchPos[i].match.start, matchPos[i].match.end),\n          str.slice(matchPos[i].left.start, matchPos[i].left.end),\n          str.slice(matchPos[i].right.start, matchPos[i].right.end)\n        )\n      );\n      if (i < lng - 1) {\n        bits.push(str.slice(matchPos[i].wholeMatch.end, matchPos[i + 1].wholeMatch.start));\n      }\n    }\n    if (matchPos[lng - 1].wholeMatch.end < str.length) {\n      bits.push(str.slice(matchPos[lng - 1].wholeMatch.end));\n    }\n    finalStr = bits.join('');\n  }\n  return finalStr;\n};\n\n/**\n * Returns the index within the passed String object of the first occurrence of the specified regex,\n * starting the search at fromIndex. Returns -1 if the value is not found.\n *\n * @param {string} str string to search\n * @param {RegExp} regex Regular expression to search\n * @param {int} [fromIndex = 0] Index to start the search\n * @returns {Number}\n * @throws InvalidArgumentError\n */\nshowdown.helper.regexIndexOf = function (str, regex, fromIndex) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  if (regex instanceof RegExp === false) {\n    throw 'InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp';\n  }\n  var indexOf = str.substring(fromIndex || 0).search(regex);\n  return (indexOf >= 0) ? (indexOf + (fromIndex || 0)) : indexOf;\n};\n\n/**\n * Splits the passed string object at the defined index, and returns an array composed of the two substrings\n * @param {string} str string to split\n * @param {int} index index to split string at\n * @returns {[string,string]}\n * @throws InvalidArgumentError\n */\nshowdown.helper.splitAtIndex = function (str, index) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  return [str.substring(0, index), str.substring(index)];\n};\n\n/**\n * Obfuscate an e-mail address through the use of Character Entities,\n * transforming ASCII characters into their equivalent decimal or hex entities.\n *\n * Since it has a random component, subsequent calls to this function produce different results\n *\n * @param {string} mail\n * @returns {string}\n */\nshowdown.helper.encodeEmailAddress = function (mail) {\n  'use strict';\n  var encode = [\n    function (ch) {\n      return '&#' + ch.charCodeAt(0) + ';';\n    },\n    function (ch) {\n      return '&#x' + ch.charCodeAt(0).toString(16) + ';';\n    },\n    function (ch) {\n      return ch;\n    }\n  ];\n\n  mail = mail.replace(/./g, function (ch) {\n    if (ch === '@') {\n      // this *must* be encoded. I insist.\n      ch = encode[Math.floor(Math.random() * 2)](ch);\n    } else {\n      var r = Math.random();\n      // roughly 10% raw, 45% hex, 45% dec\n      ch = (\n        r > 0.9 ? encode[2](ch) : r > 0.45 ? encode[1](ch) : encode[0](ch)\n      );\n    }\n    return ch;\n  });\n\n  return mail;\n};\n\n/**\n *\n * @param str\n * @param targetLength\n * @param padString\n * @returns {string}\n */\nshowdown.helper.padEnd = function padEnd (str, targetLength, padString) {\n  'use strict';\n  /*jshint bitwise: false*/\n  // eslint-disable-next-line space-infix-ops\n  targetLength = targetLength>>0; //floor if number or convert non-number to 0;\n  /*jshint bitwise: true*/\n  padString = String(padString || ' ');\n  if (str.length > targetLength) {\n    return String(str);\n  } else {\n    targetLength = targetLength - str.length;\n    if (targetLength > padString.length) {\n      padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed\n    }\n    return String(str) + padString.slice(0,targetLength);\n  }\n};\n\n/**\n * POLYFILLS\n */\n// use this instead of builtin is undefined for IE8 compatibility\nif (typeof console === 'undefined') {\n  console = {\n    warn: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    log: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    error: function (msg) {\n      'use strict';\n      throw msg;\n    }\n  };\n}\n\n/**\n * Common regexes.\n * We declare some common regexes to improve performance\n */\nshowdown.helper.regexes = {\n  asteriskDashAndColon: /([*_:~])/g\n};\n\n/**\n * EMOJIS LIST\n */\nshowdown.helper.emojis = {\n  '+1':'\\ud83d\\udc4d',\n  '-1':'\\ud83d\\udc4e',\n  '100':'\\ud83d\\udcaf',\n  '1234':'\\ud83d\\udd22',\n  '1st_place_medal':'\\ud83e\\udd47',\n  '2nd_place_medal':'\\ud83e\\udd48',\n  '3rd_place_medal':'\\ud83e\\udd49',\n  '8ball':'\\ud83c\\udfb1',\n  'a':'\\ud83c\\udd70\\ufe0f',\n  'ab':'\\ud83c\\udd8e',\n  'abc':'\\ud83d\\udd24',\n  'abcd':'\\ud83d\\udd21',\n  'accept':'\\ud83c\\ude51',\n  'aerial_tramway':'\\ud83d\\udea1',\n  'airplane':'\\u2708\\ufe0f',\n  'alarm_clock':'\\u23f0',\n  'alembic':'\\u2697\\ufe0f',\n  'alien':'\\ud83d\\udc7d',\n  'ambulance':'\\ud83d\\ude91',\n  'amphora':'\\ud83c\\udffa',\n  'anchor':'\\u2693\\ufe0f',\n  'angel':'\\ud83d\\udc7c',\n  'anger':'\\ud83d\\udca2',\n  'angry':'\\ud83d\\ude20',\n  'anguished':'\\ud83d\\ude27',\n  'ant':'\\ud83d\\udc1c',\n  'apple':'\\ud83c\\udf4e',\n  'aquarius':'\\u2652\\ufe0f',\n  'aries':'\\u2648\\ufe0f',\n  'arrow_backward':'\\u25c0\\ufe0f',\n  'arrow_double_down':'\\u23ec',\n  'arrow_double_up':'\\u23eb',\n  'arrow_down':'\\u2b07\\ufe0f',\n  'arrow_down_small':'\\ud83d\\udd3d',\n  'arrow_forward':'\\u25b6\\ufe0f',\n  'arrow_heading_down':'\\u2935\\ufe0f',\n  'arrow_heading_up':'\\u2934\\ufe0f',\n  'arrow_left':'\\u2b05\\ufe0f',\n  'arrow_lower_left':'\\u2199\\ufe0f',\n  'arrow_lower_right':'\\u2198\\ufe0f',\n  'arrow_right':'\\u27a1\\ufe0f',\n  'arrow_right_hook':'\\u21aa\\ufe0f',\n  'arrow_up':'\\u2b06\\ufe0f',\n  'arrow_up_down':'\\u2195\\ufe0f',\n  'arrow_up_small':'\\ud83d\\udd3c',\n  'arrow_upper_left':'\\u2196\\ufe0f',\n  'arrow_upper_right':'\\u2197\\ufe0f',\n  'arrows_clockwise':'\\ud83d\\udd03',\n  'arrows_counterclockwise':'\\ud83d\\udd04',\n  'art':'\\ud83c\\udfa8',\n  'articulated_lorry':'\\ud83d\\ude9b',\n  'artificial_satellite':'\\ud83d\\udef0',\n  'astonished':'\\ud83d\\ude32',\n  'athletic_shoe':'\\ud83d\\udc5f',\n  'atm':'\\ud83c\\udfe7',\n  'atom_symbol':'\\u269b\\ufe0f',\n  'avocado':'\\ud83e\\udd51',\n  'b':'\\ud83c\\udd71\\ufe0f',\n  'baby':'\\ud83d\\udc76',\n  'baby_bottle':'\\ud83c\\udf7c',\n  'baby_chick':'\\ud83d\\udc24',\n  'baby_symbol':'\\ud83d\\udebc',\n  'back':'\\ud83d\\udd19',\n  'bacon':'\\ud83e\\udd53',\n  'badminton':'\\ud83c\\udff8',\n  'baggage_claim':'\\ud83d\\udec4',\n  'baguette_bread':'\\ud83e\\udd56',\n  'balance_scale':'\\u2696\\ufe0f',\n  'balloon':'\\ud83c\\udf88',\n  'ballot_box':'\\ud83d\\uddf3',\n  'ballot_box_with_check':'\\u2611\\ufe0f',\n  'bamboo':'\\ud83c\\udf8d',\n  'banana':'\\ud83c\\udf4c',\n  'bangbang':'\\u203c\\ufe0f',\n  'bank':'\\ud83c\\udfe6',\n  'bar_chart':'\\ud83d\\udcca',\n  'barber':'\\ud83d\\udc88',\n  'baseball':'\\u26be\\ufe0f',\n  'basketball':'\\ud83c\\udfc0',\n  'basketball_man':'\\u26f9\\ufe0f',\n  'basketball_woman':'\\u26f9\\ufe0f&zwj;\\u2640\\ufe0f',\n  'bat':'\\ud83e\\udd87',\n  'bath':'\\ud83d\\udec0',\n  'bathtub':'\\ud83d\\udec1',\n  'battery':'\\ud83d\\udd0b',\n  'beach_umbrella':'\\ud83c\\udfd6',\n  'bear':'\\ud83d\\udc3b',\n  'bed':'\\ud83d\\udecf',\n  'bee':'\\ud83d\\udc1d',\n  'beer':'\\ud83c\\udf7a',\n  'beers':'\\ud83c\\udf7b',\n  'beetle':'\\ud83d\\udc1e',\n  'beginner':'\\ud83d\\udd30',\n  'bell':'\\ud83d\\udd14',\n  'bellhop_bell':'\\ud83d\\udece',\n  'bento':'\\ud83c\\udf71',\n  'biking_man':'\\ud83d\\udeb4',\n  'bike':'\\ud83d\\udeb2',\n  'biking_woman':'\\ud83d\\udeb4&zwj;\\u2640\\ufe0f',\n  'bikini':'\\ud83d\\udc59',\n  'biohazard':'\\u2623\\ufe0f',\n  'bird':'\\ud83d\\udc26',\n  'birthday':'\\ud83c\\udf82',\n  'black_circle':'\\u26ab\\ufe0f',\n  'black_flag':'\\ud83c\\udff4',\n  'black_heart':'\\ud83d\\udda4',\n  'black_joker':'\\ud83c\\udccf',\n  'black_large_square':'\\u2b1b\\ufe0f',\n  'black_medium_small_square':'\\u25fe\\ufe0f',\n  'black_medium_square':'\\u25fc\\ufe0f',\n  'black_nib':'\\u2712\\ufe0f',\n  'black_small_square':'\\u25aa\\ufe0f',\n  'black_square_button':'\\ud83d\\udd32',\n  'blonde_man':'\\ud83d\\udc71',\n  'blonde_woman':'\\ud83d\\udc71&zwj;\\u2640\\ufe0f',\n  'blossom':'\\ud83c\\udf3c',\n  'blowfish':'\\ud83d\\udc21',\n  'blue_book':'\\ud83d\\udcd8',\n  'blue_car':'\\ud83d\\ude99',\n  'blue_heart':'\\ud83d\\udc99',\n  'blush':'\\ud83d\\ude0a',\n  'boar':'\\ud83d\\udc17',\n  'boat':'\\u26f5\\ufe0f',\n  'bomb':'\\ud83d\\udca3',\n  'book':'\\ud83d\\udcd6',\n  'bookmark':'\\ud83d\\udd16',\n  'bookmark_tabs':'\\ud83d\\udcd1',\n  'books':'\\ud83d\\udcda',\n  'boom':'\\ud83d\\udca5',\n  'boot':'\\ud83d\\udc62',\n  'bouquet':'\\ud83d\\udc90',\n  'bowing_man':'\\ud83d\\ude47',\n  'bow_and_arrow':'\\ud83c\\udff9',\n  'bowing_woman':'\\ud83d\\ude47&zwj;\\u2640\\ufe0f',\n  'bowling':'\\ud83c\\udfb3',\n  'boxing_glove':'\\ud83e\\udd4a',\n  'boy':'\\ud83d\\udc66',\n  'bread':'\\ud83c\\udf5e',\n  'bride_with_veil':'\\ud83d\\udc70',\n  'bridge_at_night':'\\ud83c\\udf09',\n  'briefcase':'\\ud83d\\udcbc',\n  'broken_heart':'\\ud83d\\udc94',\n  'bug':'\\ud83d\\udc1b',\n  'building_construction':'\\ud83c\\udfd7',\n  'bulb':'\\ud83d\\udca1',\n  'bullettrain_front':'\\ud83d\\ude85',\n  'bullettrain_side':'\\ud83d\\ude84',\n  'burrito':'\\ud83c\\udf2f',\n  'bus':'\\ud83d\\ude8c',\n  'business_suit_levitating':'\\ud83d\\udd74',\n  'busstop':'\\ud83d\\ude8f',\n  'bust_in_silhouette':'\\ud83d\\udc64',\n  'busts_in_silhouette':'\\ud83d\\udc65',\n  'butterfly':'\\ud83e\\udd8b',\n  'cactus':'\\ud83c\\udf35',\n  'cake':'\\ud83c\\udf70',\n  'calendar':'\\ud83d\\udcc6',\n  'call_me_hand':'\\ud83e\\udd19',\n  'calling':'\\ud83d\\udcf2',\n  'camel':'\\ud83d\\udc2b',\n  'camera':'\\ud83d\\udcf7',\n  'camera_flash':'\\ud83d\\udcf8',\n  'camping':'\\ud83c\\udfd5',\n  'cancer':'\\u264b\\ufe0f',\n  'candle':'\\ud83d\\udd6f',\n  'candy':'\\ud83c\\udf6c',\n  'canoe':'\\ud83d\\udef6',\n  'capital_abcd':'\\ud83d\\udd20',\n  'capricorn':'\\u2651\\ufe0f',\n  'car':'\\ud83d\\ude97',\n  'card_file_box':'\\ud83d\\uddc3',\n  'card_index':'\\ud83d\\udcc7',\n  'card_index_dividers':'\\ud83d\\uddc2',\n  'carousel_horse':'\\ud83c\\udfa0',\n  'carrot':'\\ud83e\\udd55',\n  'cat':'\\ud83d\\udc31',\n  'cat2':'\\ud83d\\udc08',\n  'cd':'\\ud83d\\udcbf',\n  'chains':'\\u26d3',\n  'champagne':'\\ud83c\\udf7e',\n  'chart':'\\ud83d\\udcb9',\n  'chart_with_downwards_trend':'\\ud83d\\udcc9',\n  'chart_with_upwards_trend':'\\ud83d\\udcc8',\n  'checkered_flag':'\\ud83c\\udfc1',\n  'cheese':'\\ud83e\\uddc0',\n  'cherries':'\\ud83c\\udf52',\n  'cherry_blossom':'\\ud83c\\udf38',\n  'chestnut':'\\ud83c\\udf30',\n  'chicken':'\\ud83d\\udc14',\n  'children_crossing':'\\ud83d\\udeb8',\n  'chipmunk':'\\ud83d\\udc3f',\n  'chocolate_bar':'\\ud83c\\udf6b',\n  'christmas_tree':'\\ud83c\\udf84',\n  'church':'\\u26ea\\ufe0f',\n  'cinema':'\\ud83c\\udfa6',\n  'circus_tent':'\\ud83c\\udfaa',\n  'city_sunrise':'\\ud83c\\udf07',\n  'city_sunset':'\\ud83c\\udf06',\n  'cityscape':'\\ud83c\\udfd9',\n  'cl':'\\ud83c\\udd91',\n  'clamp':'\\ud83d\\udddc',\n  'clap':'\\ud83d\\udc4f',\n  'clapper':'\\ud83c\\udfac',\n  'classical_building':'\\ud83c\\udfdb',\n  'clinking_glasses':'\\ud83e\\udd42',\n  'clipboard':'\\ud83d\\udccb',\n  'clock1':'\\ud83d\\udd50',\n  'clock10':'\\ud83d\\udd59',\n  'clock1030':'\\ud83d\\udd65',\n  'clock11':'\\ud83d\\udd5a',\n  'clock1130':'\\ud83d\\udd66',\n  'clock12':'\\ud83d\\udd5b',\n  'clock1230':'\\ud83d\\udd67',\n  'clock130':'\\ud83d\\udd5c',\n  'clock2':'\\ud83d\\udd51',\n  'clock230':'\\ud83d\\udd5d',\n  'clock3':'\\ud83d\\udd52',\n  'clock330':'\\ud83d\\udd5e',\n  'clock4':'\\ud83d\\udd53',\n  'clock430':'\\ud83d\\udd5f',\n  'clock5':'\\ud83d\\udd54',\n  'clock530':'\\ud83d\\udd60',\n  'clock6':'\\ud83d\\udd55',\n  'clock630':'\\ud83d\\udd61',\n  'clock7':'\\ud83d\\udd56',\n  'clock730':'\\ud83d\\udd62',\n  'clock8':'\\ud83d\\udd57',\n  'clock830':'\\ud83d\\udd63',\n  'clock9':'\\ud83d\\udd58',\n  'clock930':'\\ud83d\\udd64',\n  'closed_book':'\\ud83d\\udcd5',\n  'closed_lock_with_key':'\\ud83d\\udd10',\n  'closed_umbrella':'\\ud83c\\udf02',\n  'cloud':'\\u2601\\ufe0f',\n  'cloud_with_lightning':'\\ud83c\\udf29',\n  'cloud_with_lightning_and_rain':'\\u26c8',\n  'cloud_with_rain':'\\ud83c\\udf27',\n  'cloud_with_snow':'\\ud83c\\udf28',\n  'clown_face':'\\ud83e\\udd21',\n  'clubs':'\\u2663\\ufe0f',\n  'cocktail':'\\ud83c\\udf78',\n  'coffee':'\\u2615\\ufe0f',\n  'coffin':'\\u26b0\\ufe0f',\n  'cold_sweat':'\\ud83d\\ude30',\n  'comet':'\\u2604\\ufe0f',\n  'computer':'\\ud83d\\udcbb',\n  'computer_mouse':'\\ud83d\\uddb1',\n  'confetti_ball':'\\ud83c\\udf8a',\n  'confounded':'\\ud83d\\ude16',\n  'confused':'\\ud83d\\ude15',\n  'congratulations':'\\u3297\\ufe0f',\n  'construction':'\\ud83d\\udea7',\n  'construction_worker_man':'\\ud83d\\udc77',\n  'construction_worker_woman':'\\ud83d\\udc77&zwj;\\u2640\\ufe0f',\n  'control_knobs':'\\ud83c\\udf9b',\n  'convenience_store':'\\ud83c\\udfea',\n  'cookie':'\\ud83c\\udf6a',\n  'cool':'\\ud83c\\udd92',\n  'policeman':'\\ud83d\\udc6e',\n  'copyright':'\\u00a9\\ufe0f',\n  'corn':'\\ud83c\\udf3d',\n  'couch_and_lamp':'\\ud83d\\udecb',\n  'couple':'\\ud83d\\udc6b',\n  'couple_with_heart_woman_man':'\\ud83d\\udc91',\n  'couple_with_heart_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc68',\n  'couple_with_heart_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc69',\n  'couplekiss_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc68',\n  'couplekiss_man_woman':'\\ud83d\\udc8f',\n  'couplekiss_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc69',\n  'cow':'\\ud83d\\udc2e',\n  'cow2':'\\ud83d\\udc04',\n  'cowboy_hat_face':'\\ud83e\\udd20',\n  'crab':'\\ud83e\\udd80',\n  'crayon':'\\ud83d\\udd8d',\n  'credit_card':'\\ud83d\\udcb3',\n  'crescent_moon':'\\ud83c\\udf19',\n  'cricket':'\\ud83c\\udfcf',\n  'crocodile':'\\ud83d\\udc0a',\n  'croissant':'\\ud83e\\udd50',\n  'crossed_fingers':'\\ud83e\\udd1e',\n  'crossed_flags':'\\ud83c\\udf8c',\n  'crossed_swords':'\\u2694\\ufe0f',\n  'crown':'\\ud83d\\udc51',\n  'cry':'\\ud83d\\ude22',\n  'crying_cat_face':'\\ud83d\\ude3f',\n  'crystal_ball':'\\ud83d\\udd2e',\n  'cucumber':'\\ud83e\\udd52',\n  'cupid':'\\ud83d\\udc98',\n  'curly_loop':'\\u27b0',\n  'currency_exchange':'\\ud83d\\udcb1',\n  'curry':'\\ud83c\\udf5b',\n  'custard':'\\ud83c\\udf6e',\n  'customs':'\\ud83d\\udec3',\n  'cyclone':'\\ud83c\\udf00',\n  'dagger':'\\ud83d\\udde1',\n  'dancer':'\\ud83d\\udc83',\n  'dancing_women':'\\ud83d\\udc6f',\n  'dancing_men':'\\ud83d\\udc6f&zwj;\\u2642\\ufe0f',\n  'dango':'\\ud83c\\udf61',\n  'dark_sunglasses':'\\ud83d\\udd76',\n  'dart':'\\ud83c\\udfaf',\n  'dash':'\\ud83d\\udca8',\n  'date':'\\ud83d\\udcc5',\n  'deciduous_tree':'\\ud83c\\udf33',\n  'deer':'\\ud83e\\udd8c',\n  'department_store':'\\ud83c\\udfec',\n  'derelict_house':'\\ud83c\\udfda',\n  'desert':'\\ud83c\\udfdc',\n  'desert_island':'\\ud83c\\udfdd',\n  'desktop_computer':'\\ud83d\\udda5',\n  'male_detective':'\\ud83d\\udd75\\ufe0f',\n  'diamond_shape_with_a_dot_inside':'\\ud83d\\udca0',\n  'diamonds':'\\u2666\\ufe0f',\n  'disappointed':'\\ud83d\\ude1e',\n  'disappointed_relieved':'\\ud83d\\ude25',\n  'dizzy':'\\ud83d\\udcab',\n  'dizzy_face':'\\ud83d\\ude35',\n  'do_not_litter':'\\ud83d\\udeaf',\n  'dog':'\\ud83d\\udc36',\n  'dog2':'\\ud83d\\udc15',\n  'dollar':'\\ud83d\\udcb5',\n  'dolls':'\\ud83c\\udf8e',\n  'dolphin':'\\ud83d\\udc2c',\n  'door':'\\ud83d\\udeaa',\n  'doughnut':'\\ud83c\\udf69',\n  'dove':'\\ud83d\\udd4a',\n  'dragon':'\\ud83d\\udc09',\n  'dragon_face':'\\ud83d\\udc32',\n  'dress':'\\ud83d\\udc57',\n  'dromedary_camel':'\\ud83d\\udc2a',\n  'drooling_face':'\\ud83e\\udd24',\n  'droplet':'\\ud83d\\udca7',\n  'drum':'\\ud83e\\udd41',\n  'duck':'\\ud83e\\udd86',\n  'dvd':'\\ud83d\\udcc0',\n  'e-mail':'\\ud83d\\udce7',\n  'eagle':'\\ud83e\\udd85',\n  'ear':'\\ud83d\\udc42',\n  'ear_of_rice':'\\ud83c\\udf3e',\n  'earth_africa':'\\ud83c\\udf0d',\n  'earth_americas':'\\ud83c\\udf0e',\n  'earth_asia':'\\ud83c\\udf0f',\n  'egg':'\\ud83e\\udd5a',\n  'eggplant':'\\ud83c\\udf46',\n  'eight_pointed_black_star':'\\u2734\\ufe0f',\n  'eight_spoked_asterisk':'\\u2733\\ufe0f',\n  'electric_plug':'\\ud83d\\udd0c',\n  'elephant':'\\ud83d\\udc18',\n  'email':'\\u2709\\ufe0f',\n  'end':'\\ud83d\\udd1a',\n  'envelope_with_arrow':'\\ud83d\\udce9',\n  'euro':'\\ud83d\\udcb6',\n  'european_castle':'\\ud83c\\udff0',\n  'european_post_office':'\\ud83c\\udfe4',\n  'evergreen_tree':'\\ud83c\\udf32',\n  'exclamation':'\\u2757\\ufe0f',\n  'expressionless':'\\ud83d\\ude11',\n  'eye':'\\ud83d\\udc41',\n  'eye_speech_bubble':'\\ud83d\\udc41&zwj;\\ud83d\\udde8',\n  'eyeglasses':'\\ud83d\\udc53',\n  'eyes':'\\ud83d\\udc40',\n  'face_with_head_bandage':'\\ud83e\\udd15',\n  'face_with_thermometer':'\\ud83e\\udd12',\n  'fist_oncoming':'\\ud83d\\udc4a',\n  'factory':'\\ud83c\\udfed',\n  'fallen_leaf':'\\ud83c\\udf42',\n  'family_man_woman_boy':'\\ud83d\\udc6a',\n  'family_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_woman_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_man_woman_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'fast_forward':'\\u23e9',\n  'fax':'\\ud83d\\udce0',\n  'fearful':'\\ud83d\\ude28',\n  'feet':'\\ud83d\\udc3e',\n  'female_detective':'\\ud83d\\udd75\\ufe0f&zwj;\\u2640\\ufe0f',\n  'ferris_wheel':'\\ud83c\\udfa1',\n  'ferry':'\\u26f4',\n  'field_hockey':'\\ud83c\\udfd1',\n  'file_cabinet':'\\ud83d\\uddc4',\n  'file_folder':'\\ud83d\\udcc1',\n  'film_projector':'\\ud83d\\udcfd',\n  'film_strip':'\\ud83c\\udf9e',\n  'fire':'\\ud83d\\udd25',\n  'fire_engine':'\\ud83d\\ude92',\n  'fireworks':'\\ud83c\\udf86',\n  'first_quarter_moon':'\\ud83c\\udf13',\n  'first_quarter_moon_with_face':'\\ud83c\\udf1b',\n  'fish':'\\ud83d\\udc1f',\n  'fish_cake':'\\ud83c\\udf65',\n  'fishing_pole_and_fish':'\\ud83c\\udfa3',\n  'fist_raised':'\\u270a',\n  'fist_left':'\\ud83e\\udd1b',\n  'fist_right':'\\ud83e\\udd1c',\n  'flags':'\\ud83c\\udf8f',\n  'flashlight':'\\ud83d\\udd26',\n  'fleur_de_lis':'\\u269c\\ufe0f',\n  'flight_arrival':'\\ud83d\\udeec',\n  'flight_departure':'\\ud83d\\udeeb',\n  'floppy_disk':'\\ud83d\\udcbe',\n  'flower_playing_cards':'\\ud83c\\udfb4',\n  'flushed':'\\ud83d\\ude33',\n  'fog':'\\ud83c\\udf2b',\n  'foggy':'\\ud83c\\udf01',\n  'football':'\\ud83c\\udfc8',\n  'footprints':'\\ud83d\\udc63',\n  'fork_and_knife':'\\ud83c\\udf74',\n  'fountain':'\\u26f2\\ufe0f',\n  'fountain_pen':'\\ud83d\\udd8b',\n  'four_leaf_clover':'\\ud83c\\udf40',\n  'fox_face':'\\ud83e\\udd8a',\n  'framed_picture':'\\ud83d\\uddbc',\n  'free':'\\ud83c\\udd93',\n  'fried_egg':'\\ud83c\\udf73',\n  'fried_shrimp':'\\ud83c\\udf64',\n  'fries':'\\ud83c\\udf5f',\n  'frog':'\\ud83d\\udc38',\n  'frowning':'\\ud83d\\ude26',\n  'frowning_face':'\\u2639\\ufe0f',\n  'frowning_man':'\\ud83d\\ude4d&zwj;\\u2642\\ufe0f',\n  'frowning_woman':'\\ud83d\\ude4d',\n  'middle_finger':'\\ud83d\\udd95',\n  'fuelpump':'\\u26fd\\ufe0f',\n  'full_moon':'\\ud83c\\udf15',\n  'full_moon_with_face':'\\ud83c\\udf1d',\n  'funeral_urn':'\\u26b1\\ufe0f',\n  'game_die':'\\ud83c\\udfb2',\n  'gear':'\\u2699\\ufe0f',\n  'gem':'\\ud83d\\udc8e',\n  'gemini':'\\u264a\\ufe0f',\n  'ghost':'\\ud83d\\udc7b',\n  'gift':'\\ud83c\\udf81',\n  'gift_heart':'\\ud83d\\udc9d',\n  'girl':'\\ud83d\\udc67',\n  'globe_with_meridians':'\\ud83c\\udf10',\n  'goal_net':'\\ud83e\\udd45',\n  'goat':'\\ud83d\\udc10',\n  'golf':'\\u26f3\\ufe0f',\n  'golfing_man':'\\ud83c\\udfcc\\ufe0f',\n  'golfing_woman':'\\ud83c\\udfcc\\ufe0f&zwj;\\u2640\\ufe0f',\n  'gorilla':'\\ud83e\\udd8d',\n  'grapes':'\\ud83c\\udf47',\n  'green_apple':'\\ud83c\\udf4f',\n  'green_book':'\\ud83d\\udcd7',\n  'green_heart':'\\ud83d\\udc9a',\n  'green_salad':'\\ud83e\\udd57',\n  'grey_exclamation':'\\u2755',\n  'grey_question':'\\u2754',\n  'grimacing':'\\ud83d\\ude2c',\n  'grin':'\\ud83d\\ude01',\n  'grinning':'\\ud83d\\ude00',\n  'guardsman':'\\ud83d\\udc82',\n  'guardswoman':'\\ud83d\\udc82&zwj;\\u2640\\ufe0f',\n  'guitar':'\\ud83c\\udfb8',\n  'gun':'\\ud83d\\udd2b',\n  'haircut_woman':'\\ud83d\\udc87',\n  'haircut_man':'\\ud83d\\udc87&zwj;\\u2642\\ufe0f',\n  'hamburger':'\\ud83c\\udf54',\n  'hammer':'\\ud83d\\udd28',\n  'hammer_and_pick':'\\u2692',\n  'hammer_and_wrench':'\\ud83d\\udee0',\n  'hamster':'\\ud83d\\udc39',\n  'hand':'\\u270b',\n  'handbag':'\\ud83d\\udc5c',\n  'handshake':'\\ud83e\\udd1d',\n  'hankey':'\\ud83d\\udca9',\n  'hatched_chick':'\\ud83d\\udc25',\n  'hatching_chick':'\\ud83d\\udc23',\n  'headphones':'\\ud83c\\udfa7',\n  'hear_no_evil':'\\ud83d\\ude49',\n  'heart':'\\u2764\\ufe0f',\n  'heart_decoration':'\\ud83d\\udc9f',\n  'heart_eyes':'\\ud83d\\ude0d',\n  'heart_eyes_cat':'\\ud83d\\ude3b',\n  'heartbeat':'\\ud83d\\udc93',\n  'heartpulse':'\\ud83d\\udc97',\n  'hearts':'\\u2665\\ufe0f',\n  'heavy_check_mark':'\\u2714\\ufe0f',\n  'heavy_division_sign':'\\u2797',\n  'heavy_dollar_sign':'\\ud83d\\udcb2',\n  'heavy_heart_exclamation':'\\u2763\\ufe0f',\n  'heavy_minus_sign':'\\u2796',\n  'heavy_multiplication_x':'\\u2716\\ufe0f',\n  'heavy_plus_sign':'\\u2795',\n  'helicopter':'\\ud83d\\ude81',\n  'herb':'\\ud83c\\udf3f',\n  'hibiscus':'\\ud83c\\udf3a',\n  'high_brightness':'\\ud83d\\udd06',\n  'high_heel':'\\ud83d\\udc60',\n  'hocho':'\\ud83d\\udd2a',\n  'hole':'\\ud83d\\udd73',\n  'honey_pot':'\\ud83c\\udf6f',\n  'horse':'\\ud83d\\udc34',\n  'horse_racing':'\\ud83c\\udfc7',\n  'hospital':'\\ud83c\\udfe5',\n  'hot_pepper':'\\ud83c\\udf36',\n  'hotdog':'\\ud83c\\udf2d',\n  'hotel':'\\ud83c\\udfe8',\n  'hotsprings':'\\u2668\\ufe0f',\n  'hourglass':'\\u231b\\ufe0f',\n  'hourglass_flowing_sand':'\\u23f3',\n  'house':'\\ud83c\\udfe0',\n  'house_with_garden':'\\ud83c\\udfe1',\n  'houses':'\\ud83c\\udfd8',\n  'hugs':'\\ud83e\\udd17',\n  'hushed':'\\ud83d\\ude2f',\n  'ice_cream':'\\ud83c\\udf68',\n  'ice_hockey':'\\ud83c\\udfd2',\n  'ice_skate':'\\u26f8',\n  'icecream':'\\ud83c\\udf66',\n  'id':'\\ud83c\\udd94',\n  'ideograph_advantage':'\\ud83c\\ude50',\n  'imp':'\\ud83d\\udc7f',\n  'inbox_tray':'\\ud83d\\udce5',\n  'incoming_envelope':'\\ud83d\\udce8',\n  'tipping_hand_woman':'\\ud83d\\udc81',\n  'information_source':'\\u2139\\ufe0f',\n  'innocent':'\\ud83d\\ude07',\n  'interrobang':'\\u2049\\ufe0f',\n  'iphone':'\\ud83d\\udcf1',\n  'izakaya_lantern':'\\ud83c\\udfee',\n  'jack_o_lantern':'\\ud83c\\udf83',\n  'japan':'\\ud83d\\uddfe',\n  'japanese_castle':'\\ud83c\\udfef',\n  'japanese_goblin':'\\ud83d\\udc7a',\n  'japanese_ogre':'\\ud83d\\udc79',\n  'jeans':'\\ud83d\\udc56',\n  'joy':'\\ud83d\\ude02',\n  'joy_cat':'\\ud83d\\ude39',\n  'joystick':'\\ud83d\\udd79',\n  'kaaba':'\\ud83d\\udd4b',\n  'key':'\\ud83d\\udd11',\n  'keyboard':'\\u2328\\ufe0f',\n  'keycap_ten':'\\ud83d\\udd1f',\n  'kick_scooter':'\\ud83d\\udef4',\n  'kimono':'\\ud83d\\udc58',\n  'kiss':'\\ud83d\\udc8b',\n  'kissing':'\\ud83d\\ude17',\n  'kissing_cat':'\\ud83d\\ude3d',\n  'kissing_closed_eyes':'\\ud83d\\ude1a',\n  'kissing_heart':'\\ud83d\\ude18',\n  'kissing_smiling_eyes':'\\ud83d\\ude19',\n  'kiwi_fruit':'\\ud83e\\udd5d',\n  'koala':'\\ud83d\\udc28',\n  'koko':'\\ud83c\\ude01',\n  'label':'\\ud83c\\udff7',\n  'large_blue_circle':'\\ud83d\\udd35',\n  'large_blue_diamond':'\\ud83d\\udd37',\n  'large_orange_diamond':'\\ud83d\\udd36',\n  'last_quarter_moon':'\\ud83c\\udf17',\n  'last_quarter_moon_with_face':'\\ud83c\\udf1c',\n  'latin_cross':'\\u271d\\ufe0f',\n  'laughing':'\\ud83d\\ude06',\n  'leaves':'\\ud83c\\udf43',\n  'ledger':'\\ud83d\\udcd2',\n  'left_luggage':'\\ud83d\\udec5',\n  'left_right_arrow':'\\u2194\\ufe0f',\n  'leftwards_arrow_with_hook':'\\u21a9\\ufe0f',\n  'lemon':'\\ud83c\\udf4b',\n  'leo':'\\u264c\\ufe0f',\n  'leopard':'\\ud83d\\udc06',\n  'level_slider':'\\ud83c\\udf9a',\n  'libra':'\\u264e\\ufe0f',\n  'light_rail':'\\ud83d\\ude88',\n  'link':'\\ud83d\\udd17',\n  'lion':'\\ud83e\\udd81',\n  'lips':'\\ud83d\\udc44',\n  'lipstick':'\\ud83d\\udc84',\n  'lizard':'\\ud83e\\udd8e',\n  'lock':'\\ud83d\\udd12',\n  'lock_with_ink_pen':'\\ud83d\\udd0f',\n  'lollipop':'\\ud83c\\udf6d',\n  'loop':'\\u27bf',\n  'loud_sound':'\\ud83d\\udd0a',\n  'loudspeaker':'\\ud83d\\udce2',\n  'love_hotel':'\\ud83c\\udfe9',\n  'love_letter':'\\ud83d\\udc8c',\n  'low_brightness':'\\ud83d\\udd05',\n  'lying_face':'\\ud83e\\udd25',\n  'm':'\\u24c2\\ufe0f',\n  'mag':'\\ud83d\\udd0d',\n  'mag_right':'\\ud83d\\udd0e',\n  'mahjong':'\\ud83c\\udc04\\ufe0f',\n  'mailbox':'\\ud83d\\udceb',\n  'mailbox_closed':'\\ud83d\\udcea',\n  'mailbox_with_mail':'\\ud83d\\udcec',\n  'mailbox_with_no_mail':'\\ud83d\\udced',\n  'man':'\\ud83d\\udc68',\n  'man_artist':'\\ud83d\\udc68&zwj;\\ud83c\\udfa8',\n  'man_astronaut':'\\ud83d\\udc68&zwj;\\ud83d\\ude80',\n  'man_cartwheeling':'\\ud83e\\udd38&zwj;\\u2642\\ufe0f',\n  'man_cook':'\\ud83d\\udc68&zwj;\\ud83c\\udf73',\n  'man_dancing':'\\ud83d\\udd7a',\n  'man_facepalming':'\\ud83e\\udd26&zwj;\\u2642\\ufe0f',\n  'man_factory_worker':'\\ud83d\\udc68&zwj;\\ud83c\\udfed',\n  'man_farmer':'\\ud83d\\udc68&zwj;\\ud83c\\udf3e',\n  'man_firefighter':'\\ud83d\\udc68&zwj;\\ud83d\\ude92',\n  'man_health_worker':'\\ud83d\\udc68&zwj;\\u2695\\ufe0f',\n  'man_in_tuxedo':'\\ud83e\\udd35',\n  'man_judge':'\\ud83d\\udc68&zwj;\\u2696\\ufe0f',\n  'man_juggling':'\\ud83e\\udd39&zwj;\\u2642\\ufe0f',\n  'man_mechanic':'\\ud83d\\udc68&zwj;\\ud83d\\udd27',\n  'man_office_worker':'\\ud83d\\udc68&zwj;\\ud83d\\udcbc',\n  'man_pilot':'\\ud83d\\udc68&zwj;\\u2708\\ufe0f',\n  'man_playing_handball':'\\ud83e\\udd3e&zwj;\\u2642\\ufe0f',\n  'man_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2642\\ufe0f',\n  'man_scientist':'\\ud83d\\udc68&zwj;\\ud83d\\udd2c',\n  'man_shrugging':'\\ud83e\\udd37&zwj;\\u2642\\ufe0f',\n  'man_singer':'\\ud83d\\udc68&zwj;\\ud83c\\udfa4',\n  'man_student':'\\ud83d\\udc68&zwj;\\ud83c\\udf93',\n  'man_teacher':'\\ud83d\\udc68&zwj;\\ud83c\\udfeb',\n  'man_technologist':'\\ud83d\\udc68&zwj;\\ud83d\\udcbb',\n  'man_with_gua_pi_mao':'\\ud83d\\udc72',\n  'man_with_turban':'\\ud83d\\udc73',\n  'tangerine':'\\ud83c\\udf4a',\n  'mans_shoe':'\\ud83d\\udc5e',\n  'mantelpiece_clock':'\\ud83d\\udd70',\n  'maple_leaf':'\\ud83c\\udf41',\n  'martial_arts_uniform':'\\ud83e\\udd4b',\n  'mask':'\\ud83d\\ude37',\n  'massage_woman':'\\ud83d\\udc86',\n  'massage_man':'\\ud83d\\udc86&zwj;\\u2642\\ufe0f',\n  'meat_on_bone':'\\ud83c\\udf56',\n  'medal_military':'\\ud83c\\udf96',\n  'medal_sports':'\\ud83c\\udfc5',\n  'mega':'\\ud83d\\udce3',\n  'melon':'\\ud83c\\udf48',\n  'memo':'\\ud83d\\udcdd',\n  'men_wrestling':'\\ud83e\\udd3c&zwj;\\u2642\\ufe0f',\n  'menorah':'\\ud83d\\udd4e',\n  'mens':'\\ud83d\\udeb9',\n  'metal':'\\ud83e\\udd18',\n  'metro':'\\ud83d\\ude87',\n  'microphone':'\\ud83c\\udfa4',\n  'microscope':'\\ud83d\\udd2c',\n  'milk_glass':'\\ud83e\\udd5b',\n  'milky_way':'\\ud83c\\udf0c',\n  'minibus':'\\ud83d\\ude90',\n  'minidisc':'\\ud83d\\udcbd',\n  'mobile_phone_off':'\\ud83d\\udcf4',\n  'money_mouth_face':'\\ud83e\\udd11',\n  'money_with_wings':'\\ud83d\\udcb8',\n  'moneybag':'\\ud83d\\udcb0',\n  'monkey':'\\ud83d\\udc12',\n  'monkey_face':'\\ud83d\\udc35',\n  'monorail':'\\ud83d\\ude9d',\n  'moon':'\\ud83c\\udf14',\n  'mortar_board':'\\ud83c\\udf93',\n  'mosque':'\\ud83d\\udd4c',\n  'motor_boat':'\\ud83d\\udee5',\n  'motor_scooter':'\\ud83d\\udef5',\n  'motorcycle':'\\ud83c\\udfcd',\n  'motorway':'\\ud83d\\udee3',\n  'mount_fuji':'\\ud83d\\uddfb',\n  'mountain':'\\u26f0',\n  'mountain_biking_man':'\\ud83d\\udeb5',\n  'mountain_biking_woman':'\\ud83d\\udeb5&zwj;\\u2640\\ufe0f',\n  'mountain_cableway':'\\ud83d\\udea0',\n  'mountain_railway':'\\ud83d\\ude9e',\n  'mountain_snow':'\\ud83c\\udfd4',\n  'mouse':'\\ud83d\\udc2d',\n  'mouse2':'\\ud83d\\udc01',\n  'movie_camera':'\\ud83c\\udfa5',\n  'moyai':'\\ud83d\\uddff',\n  'mrs_claus':'\\ud83e\\udd36',\n  'muscle':'\\ud83d\\udcaa',\n  'mushroom':'\\ud83c\\udf44',\n  'musical_keyboard':'\\ud83c\\udfb9',\n  'musical_note':'\\ud83c\\udfb5',\n  'musical_score':'\\ud83c\\udfbc',\n  'mute':'\\ud83d\\udd07',\n  'nail_care':'\\ud83d\\udc85',\n  'name_badge':'\\ud83d\\udcdb',\n  'national_park':'\\ud83c\\udfde',\n  'nauseated_face':'\\ud83e\\udd22',\n  'necktie':'\\ud83d\\udc54',\n  'negative_squared_cross_mark':'\\u274e',\n  'nerd_face':'\\ud83e\\udd13',\n  'neutral_face':'\\ud83d\\ude10',\n  'new':'\\ud83c\\udd95',\n  'new_moon':'\\ud83c\\udf11',\n  'new_moon_with_face':'\\ud83c\\udf1a',\n  'newspaper':'\\ud83d\\udcf0',\n  'newspaper_roll':'\\ud83d\\uddde',\n  'next_track_button':'\\u23ed',\n  'ng':'\\ud83c\\udd96',\n  'no_good_man':'\\ud83d\\ude45&zwj;\\u2642\\ufe0f',\n  'no_good_woman':'\\ud83d\\ude45',\n  'night_with_stars':'\\ud83c\\udf03',\n  'no_bell':'\\ud83d\\udd15',\n  'no_bicycles':'\\ud83d\\udeb3',\n  'no_entry':'\\u26d4\\ufe0f',\n  'no_entry_sign':'\\ud83d\\udeab',\n  'no_mobile_phones':'\\ud83d\\udcf5',\n  'no_mouth':'\\ud83d\\ude36',\n  'no_pedestrians':'\\ud83d\\udeb7',\n  'no_smoking':'\\ud83d\\udead',\n  'non-potable_water':'\\ud83d\\udeb1',\n  'nose':'\\ud83d\\udc43',\n  'notebook':'\\ud83d\\udcd3',\n  'notebook_with_decorative_cover':'\\ud83d\\udcd4',\n  'notes':'\\ud83c\\udfb6',\n  'nut_and_bolt':'\\ud83d\\udd29',\n  'o':'\\u2b55\\ufe0f',\n  'o2':'\\ud83c\\udd7e\\ufe0f',\n  'ocean':'\\ud83c\\udf0a',\n  'octopus':'\\ud83d\\udc19',\n  'oden':'\\ud83c\\udf62',\n  'office':'\\ud83c\\udfe2',\n  'oil_drum':'\\ud83d\\udee2',\n  'ok':'\\ud83c\\udd97',\n  'ok_hand':'\\ud83d\\udc4c',\n  'ok_man':'\\ud83d\\ude46&zwj;\\u2642\\ufe0f',\n  'ok_woman':'\\ud83d\\ude46',\n  'old_key':'\\ud83d\\udddd',\n  'older_man':'\\ud83d\\udc74',\n  'older_woman':'\\ud83d\\udc75',\n  'om':'\\ud83d\\udd49',\n  'on':'\\ud83d\\udd1b',\n  'oncoming_automobile':'\\ud83d\\ude98',\n  'oncoming_bus':'\\ud83d\\ude8d',\n  'oncoming_police_car':'\\ud83d\\ude94',\n  'oncoming_taxi':'\\ud83d\\ude96',\n  'open_file_folder':'\\ud83d\\udcc2',\n  'open_hands':'\\ud83d\\udc50',\n  'open_mouth':'\\ud83d\\ude2e',\n  'open_umbrella':'\\u2602\\ufe0f',\n  'ophiuchus':'\\u26ce',\n  'orange_book':'\\ud83d\\udcd9',\n  'orthodox_cross':'\\u2626\\ufe0f',\n  'outbox_tray':'\\ud83d\\udce4',\n  'owl':'\\ud83e\\udd89',\n  'ox':'\\ud83d\\udc02',\n  'package':'\\ud83d\\udce6',\n  'page_facing_up':'\\ud83d\\udcc4',\n  'page_with_curl':'\\ud83d\\udcc3',\n  'pager':'\\ud83d\\udcdf',\n  'paintbrush':'\\ud83d\\udd8c',\n  'palm_tree':'\\ud83c\\udf34',\n  'pancakes':'\\ud83e\\udd5e',\n  'panda_face':'\\ud83d\\udc3c',\n  'paperclip':'\\ud83d\\udcce',\n  'paperclips':'\\ud83d\\udd87',\n  'parasol_on_ground':'\\u26f1',\n  'parking':'\\ud83c\\udd7f\\ufe0f',\n  'part_alternation_mark':'\\u303d\\ufe0f',\n  'partly_sunny':'\\u26c5\\ufe0f',\n  'passenger_ship':'\\ud83d\\udef3',\n  'passport_control':'\\ud83d\\udec2',\n  'pause_button':'\\u23f8',\n  'peace_symbol':'\\u262e\\ufe0f',\n  'peach':'\\ud83c\\udf51',\n  'peanuts':'\\ud83e\\udd5c',\n  'pear':'\\ud83c\\udf50',\n  'pen':'\\ud83d\\udd8a',\n  'pencil2':'\\u270f\\ufe0f',\n  'penguin':'\\ud83d\\udc27',\n  'pensive':'\\ud83d\\ude14',\n  'performing_arts':'\\ud83c\\udfad',\n  'persevere':'\\ud83d\\ude23',\n  'person_fencing':'\\ud83e\\udd3a',\n  'pouting_woman':'\\ud83d\\ude4e',\n  'phone':'\\u260e\\ufe0f',\n  'pick':'\\u26cf',\n  'pig':'\\ud83d\\udc37',\n  'pig2':'\\ud83d\\udc16',\n  'pig_nose':'\\ud83d\\udc3d',\n  'pill':'\\ud83d\\udc8a',\n  'pineapple':'\\ud83c\\udf4d',\n  'ping_pong':'\\ud83c\\udfd3',\n  'pisces':'\\u2653\\ufe0f',\n  'pizza':'\\ud83c\\udf55',\n  'place_of_worship':'\\ud83d\\uded0',\n  'plate_with_cutlery':'\\ud83c\\udf7d',\n  'play_or_pause_button':'\\u23ef',\n  'point_down':'\\ud83d\\udc47',\n  'point_left':'\\ud83d\\udc48',\n  'point_right':'\\ud83d\\udc49',\n  'point_up':'\\u261d\\ufe0f',\n  'point_up_2':'\\ud83d\\udc46',\n  'police_car':'\\ud83d\\ude93',\n  'policewoman':'\\ud83d\\udc6e&zwj;\\u2640\\ufe0f',\n  'poodle':'\\ud83d\\udc29',\n  'popcorn':'\\ud83c\\udf7f',\n  'post_office':'\\ud83c\\udfe3',\n  'postal_horn':'\\ud83d\\udcef',\n  'postbox':'\\ud83d\\udcee',\n  'potable_water':'\\ud83d\\udeb0',\n  'potato':'\\ud83e\\udd54',\n  'pouch':'\\ud83d\\udc5d',\n  'poultry_leg':'\\ud83c\\udf57',\n  'pound':'\\ud83d\\udcb7',\n  'rage':'\\ud83d\\ude21',\n  'pouting_cat':'\\ud83d\\ude3e',\n  'pouting_man':'\\ud83d\\ude4e&zwj;\\u2642\\ufe0f',\n  'pray':'\\ud83d\\ude4f',\n  'prayer_beads':'\\ud83d\\udcff',\n  'pregnant_woman':'\\ud83e\\udd30',\n  'previous_track_button':'\\u23ee',\n  'prince':'\\ud83e\\udd34',\n  'princess':'\\ud83d\\udc78',\n  'printer':'\\ud83d\\udda8',\n  'purple_heart':'\\ud83d\\udc9c',\n  'purse':'\\ud83d\\udc5b',\n  'pushpin':'\\ud83d\\udccc',\n  'put_litter_in_its_place':'\\ud83d\\udeae',\n  'question':'\\u2753',\n  'rabbit':'\\ud83d\\udc30',\n  'rabbit2':'\\ud83d\\udc07',\n  'racehorse':'\\ud83d\\udc0e',\n  'racing_car':'\\ud83c\\udfce',\n  'radio':'\\ud83d\\udcfb',\n  'radio_button':'\\ud83d\\udd18',\n  'radioactive':'\\u2622\\ufe0f',\n  'railway_car':'\\ud83d\\ude83',\n  'railway_track':'\\ud83d\\udee4',\n  'rainbow':'\\ud83c\\udf08',\n  'rainbow_flag':'\\ud83c\\udff3\\ufe0f&zwj;\\ud83c\\udf08',\n  'raised_back_of_hand':'\\ud83e\\udd1a',\n  'raised_hand_with_fingers_splayed':'\\ud83d\\udd90',\n  'raised_hands':'\\ud83d\\ude4c',\n  'raising_hand_woman':'\\ud83d\\ude4b',\n  'raising_hand_man':'\\ud83d\\ude4b&zwj;\\u2642\\ufe0f',\n  'ram':'\\ud83d\\udc0f',\n  'ramen':'\\ud83c\\udf5c',\n  'rat':'\\ud83d\\udc00',\n  'record_button':'\\u23fa',\n  'recycle':'\\u267b\\ufe0f',\n  'red_circle':'\\ud83d\\udd34',\n  'registered':'\\u00ae\\ufe0f',\n  'relaxed':'\\u263a\\ufe0f',\n  'relieved':'\\ud83d\\ude0c',\n  'reminder_ribbon':'\\ud83c\\udf97',\n  'repeat':'\\ud83d\\udd01',\n  'repeat_one':'\\ud83d\\udd02',\n  'rescue_worker_helmet':'\\u26d1',\n  'restroom':'\\ud83d\\udebb',\n  'revolving_hearts':'\\ud83d\\udc9e',\n  'rewind':'\\u23ea',\n  'rhinoceros':'\\ud83e\\udd8f',\n  'ribbon':'\\ud83c\\udf80',\n  'rice':'\\ud83c\\udf5a',\n  'rice_ball':'\\ud83c\\udf59',\n  'rice_cracker':'\\ud83c\\udf58',\n  'rice_scene':'\\ud83c\\udf91',\n  'right_anger_bubble':'\\ud83d\\uddef',\n  'ring':'\\ud83d\\udc8d',\n  'robot':'\\ud83e\\udd16',\n  'rocket':'\\ud83d\\ude80',\n  'rofl':'\\ud83e\\udd23',\n  'roll_eyes':'\\ud83d\\ude44',\n  'roller_coaster':'\\ud83c\\udfa2',\n  'rooster':'\\ud83d\\udc13',\n  'rose':'\\ud83c\\udf39',\n  'rosette':'\\ud83c\\udff5',\n  'rotating_light':'\\ud83d\\udea8',\n  'round_pushpin':'\\ud83d\\udccd',\n  'rowing_man':'\\ud83d\\udea3',\n  'rowing_woman':'\\ud83d\\udea3&zwj;\\u2640\\ufe0f',\n  'rugby_football':'\\ud83c\\udfc9',\n  'running_man':'\\ud83c\\udfc3',\n  'running_shirt_with_sash':'\\ud83c\\udfbd',\n  'running_woman':'\\ud83c\\udfc3&zwj;\\u2640\\ufe0f',\n  'sa':'\\ud83c\\ude02\\ufe0f',\n  'sagittarius':'\\u2650\\ufe0f',\n  'sake':'\\ud83c\\udf76',\n  'sandal':'\\ud83d\\udc61',\n  'santa':'\\ud83c\\udf85',\n  'satellite':'\\ud83d\\udce1',\n  'saxophone':'\\ud83c\\udfb7',\n  'school':'\\ud83c\\udfeb',\n  'school_satchel':'\\ud83c\\udf92',\n  'scissors':'\\u2702\\ufe0f',\n  'scorpion':'\\ud83e\\udd82',\n  'scorpius':'\\u264f\\ufe0f',\n  'scream':'\\ud83d\\ude31',\n  'scream_cat':'\\ud83d\\ude40',\n  'scroll':'\\ud83d\\udcdc',\n  'seat':'\\ud83d\\udcba',\n  'secret':'\\u3299\\ufe0f',\n  'see_no_evil':'\\ud83d\\ude48',\n  'seedling':'\\ud83c\\udf31',\n  'selfie':'\\ud83e\\udd33',\n  'shallow_pan_of_food':'\\ud83e\\udd58',\n  'shamrock':'\\u2618\\ufe0f',\n  'shark':'\\ud83e\\udd88',\n  'shaved_ice':'\\ud83c\\udf67',\n  'sheep':'\\ud83d\\udc11',\n  'shell':'\\ud83d\\udc1a',\n  'shield':'\\ud83d\\udee1',\n  'shinto_shrine':'\\u26e9',\n  'ship':'\\ud83d\\udea2',\n  'shirt':'\\ud83d\\udc55',\n  'shopping':'\\ud83d\\udecd',\n  'shopping_cart':'\\ud83d\\uded2',\n  'shower':'\\ud83d\\udebf',\n  'shrimp':'\\ud83e\\udd90',\n  'signal_strength':'\\ud83d\\udcf6',\n  'six_pointed_star':'\\ud83d\\udd2f',\n  'ski':'\\ud83c\\udfbf',\n  'skier':'\\u26f7',\n  'skull':'\\ud83d\\udc80',\n  'skull_and_crossbones':'\\u2620\\ufe0f',\n  'sleeping':'\\ud83d\\ude34',\n  'sleeping_bed':'\\ud83d\\udecc',\n  'sleepy':'\\ud83d\\ude2a',\n  'slightly_frowning_face':'\\ud83d\\ude41',\n  'slightly_smiling_face':'\\ud83d\\ude42',\n  'slot_machine':'\\ud83c\\udfb0',\n  'small_airplane':'\\ud83d\\udee9',\n  'small_blue_diamond':'\\ud83d\\udd39',\n  'small_orange_diamond':'\\ud83d\\udd38',\n  'small_red_triangle':'\\ud83d\\udd3a',\n  'small_red_triangle_down':'\\ud83d\\udd3b',\n  'smile':'\\ud83d\\ude04',\n  'smile_cat':'\\ud83d\\ude38',\n  'smiley':'\\ud83d\\ude03',\n  'smiley_cat':'\\ud83d\\ude3a',\n  'smiling_imp':'\\ud83d\\ude08',\n  'smirk':'\\ud83d\\ude0f',\n  'smirk_cat':'\\ud83d\\ude3c',\n  'smoking':'\\ud83d\\udeac',\n  'snail':'\\ud83d\\udc0c',\n  'snake':'\\ud83d\\udc0d',\n  'sneezing_face':'\\ud83e\\udd27',\n  'snowboarder':'\\ud83c\\udfc2',\n  'snowflake':'\\u2744\\ufe0f',\n  'snowman':'\\u26c4\\ufe0f',\n  'snowman_with_snow':'\\u2603\\ufe0f',\n  'sob':'\\ud83d\\ude2d',\n  'soccer':'\\u26bd\\ufe0f',\n  'soon':'\\ud83d\\udd1c',\n  'sos':'\\ud83c\\udd98',\n  'sound':'\\ud83d\\udd09',\n  'space_invader':'\\ud83d\\udc7e',\n  'spades':'\\u2660\\ufe0f',\n  'spaghetti':'\\ud83c\\udf5d',\n  'sparkle':'\\u2747\\ufe0f',\n  'sparkler':'\\ud83c\\udf87',\n  'sparkles':'\\u2728',\n  'sparkling_heart':'\\ud83d\\udc96',\n  'speak_no_evil':'\\ud83d\\ude4a',\n  'speaker':'\\ud83d\\udd08',\n  'speaking_head':'\\ud83d\\udde3',\n  'speech_balloon':'\\ud83d\\udcac',\n  'speedboat':'\\ud83d\\udea4',\n  'spider':'\\ud83d\\udd77',\n  'spider_web':'\\ud83d\\udd78',\n  'spiral_calendar':'\\ud83d\\uddd3',\n  'spiral_notepad':'\\ud83d\\uddd2',\n  'spoon':'\\ud83e\\udd44',\n  'squid':'\\ud83e\\udd91',\n  'stadium':'\\ud83c\\udfdf',\n  'star':'\\u2b50\\ufe0f',\n  'star2':'\\ud83c\\udf1f',\n  'star_and_crescent':'\\u262a\\ufe0f',\n  'star_of_david':'\\u2721\\ufe0f',\n  'stars':'\\ud83c\\udf20',\n  'station':'\\ud83d\\ude89',\n  'statue_of_liberty':'\\ud83d\\uddfd',\n  'steam_locomotive':'\\ud83d\\ude82',\n  'stew':'\\ud83c\\udf72',\n  'stop_button':'\\u23f9',\n  'stop_sign':'\\ud83d\\uded1',\n  'stopwatch':'\\u23f1',\n  'straight_ruler':'\\ud83d\\udccf',\n  'strawberry':'\\ud83c\\udf53',\n  'stuck_out_tongue':'\\ud83d\\ude1b',\n  'stuck_out_tongue_closed_eyes':'\\ud83d\\ude1d',\n  'stuck_out_tongue_winking_eye':'\\ud83d\\ude1c',\n  'studio_microphone':'\\ud83c\\udf99',\n  'stuffed_flatbread':'\\ud83e\\udd59',\n  'sun_behind_large_cloud':'\\ud83c\\udf25',\n  'sun_behind_rain_cloud':'\\ud83c\\udf26',\n  'sun_behind_small_cloud':'\\ud83c\\udf24',\n  'sun_with_face':'\\ud83c\\udf1e',\n  'sunflower':'\\ud83c\\udf3b',\n  'sunglasses':'\\ud83d\\ude0e',\n  'sunny':'\\u2600\\ufe0f',\n  'sunrise':'\\ud83c\\udf05',\n  'sunrise_over_mountains':'\\ud83c\\udf04',\n  'surfing_man':'\\ud83c\\udfc4',\n  'surfing_woman':'\\ud83c\\udfc4&zwj;\\u2640\\ufe0f',\n  'sushi':'\\ud83c\\udf63',\n  'suspension_railway':'\\ud83d\\ude9f',\n  'sweat':'\\ud83d\\ude13',\n  'sweat_drops':'\\ud83d\\udca6',\n  'sweat_smile':'\\ud83d\\ude05',\n  'sweet_potato':'\\ud83c\\udf60',\n  'swimming_man':'\\ud83c\\udfca',\n  'swimming_woman':'\\ud83c\\udfca&zwj;\\u2640\\ufe0f',\n  'symbols':'\\ud83d\\udd23',\n  'synagogue':'\\ud83d\\udd4d',\n  'syringe':'\\ud83d\\udc89',\n  'taco':'\\ud83c\\udf2e',\n  'tada':'\\ud83c\\udf89',\n  'tanabata_tree':'\\ud83c\\udf8b',\n  'taurus':'\\u2649\\ufe0f',\n  'taxi':'\\ud83d\\ude95',\n  'tea':'\\ud83c\\udf75',\n  'telephone_receiver':'\\ud83d\\udcde',\n  'telescope':'\\ud83d\\udd2d',\n  'tennis':'\\ud83c\\udfbe',\n  'tent':'\\u26fa\\ufe0f',\n  'thermometer':'\\ud83c\\udf21',\n  'thinking':'\\ud83e\\udd14',\n  'thought_balloon':'\\ud83d\\udcad',\n  'ticket':'\\ud83c\\udfab',\n  'tickets':'\\ud83c\\udf9f',\n  'tiger':'\\ud83d\\udc2f',\n  'tiger2':'\\ud83d\\udc05',\n  'timer_clock':'\\u23f2',\n  'tipping_hand_man':'\\ud83d\\udc81&zwj;\\u2642\\ufe0f',\n  'tired_face':'\\ud83d\\ude2b',\n  'tm':'\\u2122\\ufe0f',\n  'toilet':'\\ud83d\\udebd',\n  'tokyo_tower':'\\ud83d\\uddfc',\n  'tomato':'\\ud83c\\udf45',\n  'tongue':'\\ud83d\\udc45',\n  'top':'\\ud83d\\udd1d',\n  'tophat':'\\ud83c\\udfa9',\n  'tornado':'\\ud83c\\udf2a',\n  'trackball':'\\ud83d\\uddb2',\n  'tractor':'\\ud83d\\ude9c',\n  'traffic_light':'\\ud83d\\udea5',\n  'train':'\\ud83d\\ude8b',\n  'train2':'\\ud83d\\ude86',\n  'tram':'\\ud83d\\ude8a',\n  'triangular_flag_on_post':'\\ud83d\\udea9',\n  'triangular_ruler':'\\ud83d\\udcd0',\n  'trident':'\\ud83d\\udd31',\n  'triumph':'\\ud83d\\ude24',\n  'trolleybus':'\\ud83d\\ude8e',\n  'trophy':'\\ud83c\\udfc6',\n  'tropical_drink':'\\ud83c\\udf79',\n  'tropical_fish':'\\ud83d\\udc20',\n  'truck':'\\ud83d\\ude9a',\n  'trumpet':'\\ud83c\\udfba',\n  'tulip':'\\ud83c\\udf37',\n  'tumbler_glass':'\\ud83e\\udd43',\n  'turkey':'\\ud83e\\udd83',\n  'turtle':'\\ud83d\\udc22',\n  'tv':'\\ud83d\\udcfa',\n  'twisted_rightwards_arrows':'\\ud83d\\udd00',\n  'two_hearts':'\\ud83d\\udc95',\n  'two_men_holding_hands':'\\ud83d\\udc6c',\n  'two_women_holding_hands':'\\ud83d\\udc6d',\n  'u5272':'\\ud83c\\ude39',\n  'u5408':'\\ud83c\\ude34',\n  'u55b6':'\\ud83c\\ude3a',\n  'u6307':'\\ud83c\\ude2f\\ufe0f',\n  'u6708':'\\ud83c\\ude37\\ufe0f',\n  'u6709':'\\ud83c\\ude36',\n  'u6e80':'\\ud83c\\ude35',\n  'u7121':'\\ud83c\\ude1a\\ufe0f',\n  'u7533':'\\ud83c\\ude38',\n  'u7981':'\\ud83c\\ude32',\n  'u7a7a':'\\ud83c\\ude33',\n  'umbrella':'\\u2614\\ufe0f',\n  'unamused':'\\ud83d\\ude12',\n  'underage':'\\ud83d\\udd1e',\n  'unicorn':'\\ud83e\\udd84',\n  'unlock':'\\ud83d\\udd13',\n  'up':'\\ud83c\\udd99',\n  'upside_down_face':'\\ud83d\\ude43',\n  'v':'\\u270c\\ufe0f',\n  'vertical_traffic_light':'\\ud83d\\udea6',\n  'vhs':'\\ud83d\\udcfc',\n  'vibration_mode':'\\ud83d\\udcf3',\n  'video_camera':'\\ud83d\\udcf9',\n  'video_game':'\\ud83c\\udfae',\n  'violin':'\\ud83c\\udfbb',\n  'virgo':'\\u264d\\ufe0f',\n  'volcano':'\\ud83c\\udf0b',\n  'volleyball':'\\ud83c\\udfd0',\n  'vs':'\\ud83c\\udd9a',\n  'vulcan_salute':'\\ud83d\\udd96',\n  'walking_man':'\\ud83d\\udeb6',\n  'walking_woman':'\\ud83d\\udeb6&zwj;\\u2640\\ufe0f',\n  'waning_crescent_moon':'\\ud83c\\udf18',\n  'waning_gibbous_moon':'\\ud83c\\udf16',\n  'warning':'\\u26a0\\ufe0f',\n  'wastebasket':'\\ud83d\\uddd1',\n  'watch':'\\u231a\\ufe0f',\n  'water_buffalo':'\\ud83d\\udc03',\n  'watermelon':'\\ud83c\\udf49',\n  'wave':'\\ud83d\\udc4b',\n  'wavy_dash':'\\u3030\\ufe0f',\n  'waxing_crescent_moon':'\\ud83c\\udf12',\n  'wc':'\\ud83d\\udebe',\n  'weary':'\\ud83d\\ude29',\n  'wedding':'\\ud83d\\udc92',\n  'weight_lifting_man':'\\ud83c\\udfcb\\ufe0f',\n  'weight_lifting_woman':'\\ud83c\\udfcb\\ufe0f&zwj;\\u2640\\ufe0f',\n  'whale':'\\ud83d\\udc33',\n  'whale2':'\\ud83d\\udc0b',\n  'wheel_of_dharma':'\\u2638\\ufe0f',\n  'wheelchair':'\\u267f\\ufe0f',\n  'white_check_mark':'\\u2705',\n  'white_circle':'\\u26aa\\ufe0f',\n  'white_flag':'\\ud83c\\udff3\\ufe0f',\n  'white_flower':'\\ud83d\\udcae',\n  'white_large_square':'\\u2b1c\\ufe0f',\n  'white_medium_small_square':'\\u25fd\\ufe0f',\n  'white_medium_square':'\\u25fb\\ufe0f',\n  'white_small_square':'\\u25ab\\ufe0f',\n  'white_square_button':'\\ud83d\\udd33',\n  'wilted_flower':'\\ud83e\\udd40',\n  'wind_chime':'\\ud83c\\udf90',\n  'wind_face':'\\ud83c\\udf2c',\n  'wine_glass':'\\ud83c\\udf77',\n  'wink':'\\ud83d\\ude09',\n  'wolf':'\\ud83d\\udc3a',\n  'woman':'\\ud83d\\udc69',\n  'woman_artist':'\\ud83d\\udc69&zwj;\\ud83c\\udfa8',\n  'woman_astronaut':'\\ud83d\\udc69&zwj;\\ud83d\\ude80',\n  'woman_cartwheeling':'\\ud83e\\udd38&zwj;\\u2640\\ufe0f',\n  'woman_cook':'\\ud83d\\udc69&zwj;\\ud83c\\udf73',\n  'woman_facepalming':'\\ud83e\\udd26&zwj;\\u2640\\ufe0f',\n  'woman_factory_worker':'\\ud83d\\udc69&zwj;\\ud83c\\udfed',\n  'woman_farmer':'\\ud83d\\udc69&zwj;\\ud83c\\udf3e',\n  'woman_firefighter':'\\ud83d\\udc69&zwj;\\ud83d\\ude92',\n  'woman_health_worker':'\\ud83d\\udc69&zwj;\\u2695\\ufe0f',\n  'woman_judge':'\\ud83d\\udc69&zwj;\\u2696\\ufe0f',\n  'woman_juggling':'\\ud83e\\udd39&zwj;\\u2640\\ufe0f',\n  'woman_mechanic':'\\ud83d\\udc69&zwj;\\ud83d\\udd27',\n  'woman_office_worker':'\\ud83d\\udc69&zwj;\\ud83d\\udcbc',\n  'woman_pilot':'\\ud83d\\udc69&zwj;\\u2708\\ufe0f',\n  'woman_playing_handball':'\\ud83e\\udd3e&zwj;\\u2640\\ufe0f',\n  'woman_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2640\\ufe0f',\n  'woman_scientist':'\\ud83d\\udc69&zwj;\\ud83d\\udd2c',\n  'woman_shrugging':'\\ud83e\\udd37&zwj;\\u2640\\ufe0f',\n  'woman_singer':'\\ud83d\\udc69&zwj;\\ud83c\\udfa4',\n  'woman_student':'\\ud83d\\udc69&zwj;\\ud83c\\udf93',\n  'woman_teacher':'\\ud83d\\udc69&zwj;\\ud83c\\udfeb',\n  'woman_technologist':'\\ud83d\\udc69&zwj;\\ud83d\\udcbb',\n  'woman_with_turban':'\\ud83d\\udc73&zwj;\\u2640\\ufe0f',\n  'womans_clothes':'\\ud83d\\udc5a',\n  'womans_hat':'\\ud83d\\udc52',\n  'women_wrestling':'\\ud83e\\udd3c&zwj;\\u2640\\ufe0f',\n  'womens':'\\ud83d\\udeba',\n  'world_map':'\\ud83d\\uddfa',\n  'worried':'\\ud83d\\ude1f',\n  'wrench':'\\ud83d\\udd27',\n  'writing_hand':'\\u270d\\ufe0f',\n  'x':'\\u274c',\n  'yellow_heart':'\\ud83d\\udc9b',\n  'yen':'\\ud83d\\udcb4',\n  'yin_yang':'\\u262f\\ufe0f',\n  'yum':'\\ud83d\\ude0b',\n  'zap':'\\u26a1\\ufe0f',\n  'zipper_mouth_face':'\\ud83e\\udd10',\n  'zzz':'\\ud83d\\udca4',\n\n  /* special emojis :P */\n  'octocat':  '<img alt=\":octocat:\" height=\"20\" width=\"20\" align=\"absmiddle\" src=\"https://assets-cdn.github.com/images/icons/emoji/octocat.png\">',\n  'showdown': '<span style=\"font-family: \\'Anonymous Pro\\', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>'\n};\n","/**\n * Created by Estevao on 31-05-2015.\n */\n\n/**\n * Showdown Converter class\n * @class\n * @param {object} [converterOptions]\n * @returns {Converter}\n */\nshowdown.Converter = function (converterOptions) {\n  'use strict';\n\n  var\n      /**\n       * Options used by this converter\n       * @private\n       * @type {{}}\n       */\n      options = {},\n\n      /**\n       * Language extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      langExtensions = [],\n\n      /**\n       * Output modifiers extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      outputModifiers = [],\n\n      /**\n       * Event listeners\n       * @private\n       * @type {{}}\n       */\n      listeners = {},\n\n      /**\n       * The flavor set in this converter\n       */\n      setConvFlavor = setFlavor,\n\n      /**\n       * Metadata of the document\n       * @type {{parsed: {}, raw: string, format: string}}\n       */\n      metadata = {\n        parsed: {},\n        raw: '',\n        format: ''\n      };\n\n  _constructor();\n\n  /**\n   * Converter constructor\n   * @private\n   */\n  function _constructor () {\n    converterOptions = converterOptions || {};\n\n    for (var gOpt in globalOptions) {\n      if (globalOptions.hasOwnProperty(gOpt)) {\n        options[gOpt] = globalOptions[gOpt];\n      }\n    }\n\n    // Merge options\n    if (typeof converterOptions === 'object') {\n      for (var opt in converterOptions) {\n        if (converterOptions.hasOwnProperty(opt)) {\n          options[opt] = converterOptions[opt];\n        }\n      }\n    } else {\n      throw Error('Converter expects the passed parameter to be an object, but ' + typeof converterOptions +\n      ' was passed instead.');\n    }\n\n    if (options.extensions) {\n      showdown.helper.forEach(options.extensions, _parseExtension);\n    }\n  }\n\n  /**\n   * Parse extension\n   * @param {*} ext\n   * @param {string} [name='']\n   * @private\n   */\n  function _parseExtension (ext, name) {\n\n    name = name || null;\n    // If it's a string, the extension was previously loaded\n    if (showdown.helper.isString(ext)) {\n      ext = showdown.helper.stdExtName(ext);\n      name = ext;\n\n      // LEGACY_SUPPORT CODE\n      if (showdown.extensions[ext]) {\n        console.warn('DEPRECATION WARNING: ' + ext + ' is an old extension that uses a deprecated loading method.' +\n          'Please inform the developer that the extension should be updated!');\n        legacyExtensionLoading(showdown.extensions[ext], ext);\n        return;\n        // END LEGACY SUPPORT CODE\n\n      } else if (!showdown.helper.isUndefined(extensions[ext])) {\n        ext = extensions[ext];\n\n      } else {\n        throw Error('Extension \"' + ext + '\" could not be loaded. It was either not found or is not a valid extension.');\n      }\n    }\n\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExt = validate(ext, name);\n    if (!validExt.valid) {\n      throw Error(validExt.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n      }\n      if (ext[i].hasOwnProperty('listeners')) {\n        for (var ln in ext[i].listeners) {\n          if (ext[i].listeners.hasOwnProperty(ln)) {\n            listen(ln, ext[i].listeners[ln]);\n          }\n        }\n      }\n    }\n\n  }\n\n  /**\n   * LEGACY_SUPPORT\n   * @param {*} ext\n   * @param {string} name\n   */\n  function legacyExtensionLoading (ext, name) {\n    if (typeof ext === 'function') {\n      ext = ext(new showdown.Converter());\n    }\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n    var valid = validate(ext, name);\n\n    if (!valid.valid) {\n      throw Error(valid.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n        default:// should never reach here\n          throw Error('Extension loader error: Type unrecognized!!!');\n      }\n    }\n  }\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   */\n  function listen (name, callback) {\n    if (!showdown.helper.isString(name)) {\n      throw Error('Invalid argument in converter.listen() method: name must be a string, but ' + typeof name + ' given');\n    }\n\n    if (typeof callback !== 'function') {\n      throw Error('Invalid argument in converter.listen() method: callback must be a function, but ' + typeof callback + ' given');\n    }\n\n    if (!listeners.hasOwnProperty(name)) {\n      listeners[name] = [];\n    }\n    listeners[name].push(callback);\n  }\n\n  function rTrimInputText (text) {\n    var rsp = text.match(/^\\s*/)[0].length,\n        rgx = new RegExp('^\\\\s{0,' + rsp + '}', 'gm');\n    return text.replace(rgx, '');\n  }\n\n  /**\n   * Dispatch an event\n   * @private\n   * @param {string} evtName Event name\n   * @param {string} text Text\n   * @param {{}} options Converter Options\n   * @param {{}} globals\n   * @returns {string}\n   */\n  this._dispatch = function dispatch (evtName, text, options, globals) {\n    if (listeners.hasOwnProperty(evtName)) {\n      for (var ei = 0; ei < listeners[evtName].length; ++ei) {\n        var nText = listeners[evtName][ei](evtName, text, this, options, globals);\n        if (nText && typeof nText !== 'undefined') {\n          text = nText;\n        }\n      }\n    }\n    return text;\n  };\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   * @returns {showdown.Converter}\n   */\n  this.listen = function (name, callback) {\n    listen(name, callback);\n    return this;\n  };\n\n  /**\n   * Converts a markdown string into HTML\n   * @param {string} text\n   * @returns {*}\n   */\n  this.makeHtml = function (text) {\n    //check if text is not falsy\n    if (!text) {\n      return text;\n    }\n\n    var globals = {\n      gHtmlBlocks:     [],\n      gHtmlMdBlocks:   [],\n      gHtmlSpans:      [],\n      gUrls:           {},\n      gTitles:         {},\n      gDimensions:     {},\n      gListLevel:      0,\n      hashLinkCounts:  {},\n      langExtensions:  langExtensions,\n      outputModifiers: outputModifiers,\n      converter:       this,\n      ghCodeBlocks:    [],\n      metadata: {\n        parsed: {},\n        raw: '',\n        format: ''\n      }\n    };\n\n    // This lets us use ¨ trema as an escape char to avoid md5 hashes\n    // The choice of character is arbitrary; anything that isn't\n    // magic in Markdown will work.\n    text = text.replace(/¨/g, '¨T');\n\n    // Replace $ with ¨D\n    // RegExp interprets $ as a special character\n    // when it's in a replacement string\n    text = text.replace(/\\$/g, '¨D');\n\n    // Standardize line endings\n    text = text.replace(/\\r\\n/g, '\\n'); // DOS to Unix\n    text = text.replace(/\\r/g, '\\n'); // Mac to Unix\n\n    // Stardardize line spaces\n    text = text.replace(/\\u00A0/g, '&nbsp;');\n\n    if (options.smartIndentationFix) {\n      text = rTrimInputText(text);\n    }\n\n    // Make sure text begins and ends with a couple of newlines:\n    text = '\\n\\n' + text + '\\n\\n';\n\n    // detab\n    text = showdown.subParser('detab')(text, options, globals);\n\n    /**\n     * Strip any lines consisting only of spaces and tabs.\n     * This makes subsequent regexs easier to write, because we can\n     * match consecutive blank lines with /\\n+/ instead of something\n     * contorted like /[ \\t]*\\n+/\n     */\n    text = text.replace(/^[ \\t]+$/mg, '');\n\n    //run languageExtensions\n    showdown.helper.forEach(langExtensions, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // run the sub parsers\n    text = showdown.subParser('metadata')(text, options, globals);\n    text = showdown.subParser('hashPreCodeTags')(text, options, globals);\n    text = showdown.subParser('githubCodeBlocks')(text, options, globals);\n    text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n    text = showdown.subParser('hashCodeTags')(text, options, globals);\n    text = showdown.subParser('stripLinkDefinitions')(text, options, globals);\n    text = showdown.subParser('blockGamut')(text, options, globals);\n    text = showdown.subParser('unhashHTMLSpans')(text, options, globals);\n    text = showdown.subParser('unescapeSpecialChars')(text, options, globals);\n\n    // attacklab: Restore dollar signs\n    text = text.replace(/¨D/g, '$$');\n\n    // attacklab: Restore tremas\n    text = text.replace(/¨T/g, '¨');\n\n    // render a complete html document instead of a partial if the option is enabled\n    text = showdown.subParser('completeHTMLDocument')(text, options, globals);\n\n    // Run output modifiers\n    showdown.helper.forEach(outputModifiers, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // update metadata\n    metadata = globals.metadata;\n    return text;\n  };\n\n  /**\n   * Converts an HTML string into a markdown string\n   * @param src\n   * @param [HTMLParser] A WHATWG DOM and HTML parser, such as JSDOM. If none is supplied, window.document will be used.\n   * @returns {string}\n   */\n  this.makeMarkdown = this.makeMd = function (src, HTMLParser) {\n\n    // replace \\r\\n with \\n\n    src = src.replace(/\\r\\n/g, '\\n');\n    src = src.replace(/\\r/g, '\\n'); // old macs\n\n    // due to an edge case, we need to find this: > <\n    // to prevent removing of non silent white spaces\n    // ex: <em>this is</em> <strong>sparta</strong>\n    src = src.replace(/>[ \\t]+</, '>¨NBSP;<');\n\n    if (!HTMLParser) {\n      if (window && window.document) {\n        HTMLParser = window.document;\n      } else {\n        throw new Error('HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM');\n      }\n    }\n\n    var doc = HTMLParser.createElement('div');\n    doc.innerHTML = src;\n\n    var globals = {\n      preList: substitutePreCodeTags(doc)\n    };\n\n    // remove all newlines and collapse spaces\n    clean(doc);\n\n    // some stuff, like accidental reference links must now be escaped\n    // TODO\n    // doc.innerHTML = doc.innerHTML.replace(/\\[[\\S\\t ]]/);\n\n    var nodes = doc.childNodes,\n        mdDoc = '';\n\n    for (var i = 0; i < nodes.length; i++) {\n      mdDoc += showdown.subParser('makeMarkdown.node')(nodes[i], globals);\n    }\n\n    function clean (node) {\n      for (var n = 0; n < node.childNodes.length; ++n) {\n        var child = node.childNodes[n];\n        if (child.nodeType === 3) {\n          if (!/\\S/.test(child.nodeValue)) {\n            node.removeChild(child);\n            --n;\n          } else {\n            child.nodeValue = child.nodeValue.split('\\n').join(' ');\n            child.nodeValue = child.nodeValue.replace(/(\\s)+/g, '$1');\n          }\n        } else if (child.nodeType === 1) {\n          clean(child);\n        }\n      }\n    }\n\n    // find all pre tags and replace contents with placeholder\n    // we need this so that we can remove all indentation from html\n    // to ease up parsing\n    function substitutePreCodeTags (doc) {\n\n      var pres = doc.querySelectorAll('pre'),\n          presPH = [];\n\n      for (var i = 0; i < pres.length; ++i) {\n\n        if (pres[i].childElementCount === 1 && pres[i].firstChild.tagName.toLowerCase() === 'code') {\n          var content = pres[i].firstChild.innerHTML.trim(),\n              language = pres[i].firstChild.getAttribute('data-language') || '';\n\n          // if data-language attribute is not defined, then we look for class language-*\n          if (language === '') {\n            var classes = pres[i].firstChild.className.split(' ');\n            for (var c = 0; c < classes.length; ++c) {\n              var matches = classes[c].match(/^language-(.+)$/);\n              if (matches !== null) {\n                language = matches[1];\n                break;\n              }\n            }\n          }\n\n          // unescape html entities in content\n          content = showdown.helper.unescapeHTMLEntities(content);\n\n          presPH.push(content);\n          pres[i].outerHTML = '<precode language=\"' + language + '\" precodenum=\"' + i.toString() + '\"></precode>';\n        } else {\n          presPH.push(pres[i].innerHTML);\n          pres[i].innerHTML = '';\n          pres[i].setAttribute('prenum', i.toString());\n        }\n      }\n      return presPH;\n    }\n\n    return mdDoc;\n  };\n\n  /**\n   * Set an option of this Converter instance\n   * @param {string} key\n   * @param {*} value\n   */\n  this.setOption = function (key, value) {\n    options[key] = value;\n  };\n\n  /**\n   * Get the option of this Converter instance\n   * @param {string} key\n   * @returns {*}\n   */\n  this.getOption = function (key) {\n    return options[key];\n  };\n\n  /**\n   * Get the options of this Converter instance\n   * @returns {{}}\n   */\n  this.getOptions = function () {\n    return options;\n  };\n\n  /**\n   * Add extension to THIS converter\n   * @param {{}} extension\n   * @param {string} [name=null]\n   */\n  this.addExtension = function (extension, name) {\n    name = name || null;\n    _parseExtension(extension, name);\n  };\n\n  /**\n   * Use a global registered extension with THIS converter\n   * @param {string} extensionName Name of the previously registered extension\n   */\n  this.useExtension = function (extensionName) {\n    _parseExtension(extensionName);\n  };\n\n  /**\n   * Set the flavor THIS converter should use\n   * @param {string} name\n   */\n  this.setFlavor = function (name) {\n    if (!flavor.hasOwnProperty(name)) {\n      throw Error(name + ' flavor was not found');\n    }\n    var preset = flavor[name];\n    setConvFlavor = name;\n    for (var option in preset) {\n      if (preset.hasOwnProperty(option)) {\n        options[option] = preset[option];\n      }\n    }\n  };\n\n  /**\n   * Get the currently set flavor of this converter\n   * @returns {string}\n   */\n  this.getFlavor = function () {\n    return setConvFlavor;\n  };\n\n  /**\n   * Remove an extension from THIS converter.\n   * Note: This is a costly operation. It's better to initialize a new converter\n   * and specify the extensions you wish to use\n   * @param {Array} extension\n   */\n  this.removeExtension = function (extension) {\n    if (!showdown.helper.isArray(extension)) {\n      extension = [extension];\n    }\n    for (var a = 0; a < extension.length; ++a) {\n      var ext = extension[a];\n      for (var i = 0; i < langExtensions.length; ++i) {\n        if (langExtensions[i] === ext) {\n          langExtensions[i].splice(i, 1);\n        }\n      }\n      for (var ii = 0; ii < outputModifiers.length; ++i) {\n        if (outputModifiers[ii] === ext) {\n          outputModifiers[ii].splice(i, 1);\n        }\n      }\n    }\n  };\n\n  /**\n   * Get all extension of THIS converter\n   * @returns {{language: Array, output: Array}}\n   */\n  this.getAllExtensions = function () {\n    return {\n      language: langExtensions,\n      output: outputModifiers\n    };\n  };\n\n  /**\n   * Get the metadata of the previously parsed document\n   * @param raw\n   * @returns {string|{}}\n   */\n  this.getMetadata = function (raw) {\n    if (raw) {\n      return metadata.raw;\n    } else {\n      return metadata.parsed;\n    }\n  };\n\n  /**\n   * Get the metadata format of the previously parsed document\n   * @returns {string}\n   */\n  this.getMetadataFormat = function () {\n    return metadata.format;\n  };\n\n  /**\n   * Private: set a single key, value metadata pair\n   * @param {string} key\n   * @param {string} value\n   */\n  this._setMetadataPair = function (key, value) {\n    metadata.parsed[key] = value;\n  };\n\n  /**\n   * Private: set metadata format\n   * @param {string} format\n   */\n  this._setMetadataFormat = function (format) {\n    metadata.format = format;\n  };\n\n  /**\n   * Private: set metadata raw text\n   * @param {string} raw\n   */\n  this._setMetadataRaw = function (raw) {\n    metadata.raw = raw;\n  };\n};\n","/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('anchors', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('anchors.before', text, options, globals);\n\n  var writeAnchorTag = function (wholeMatch, linkText, linkId, url, m5, m6, title) {\n    if (showdown.helper.isUndefined(title)) {\n      title = '';\n    }\n    linkId = linkId.toLowerCase();\n\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n    } else if (!url) {\n      if (!linkId) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = linkText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(globals.gUrls[linkId])) {\n        url = globals.gUrls[linkId];\n        if (!showdown.helper.isUndefined(globals.gTitles[linkId])) {\n          title = globals.gTitles[linkId];\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    //url = showdown.helper.escapeCharacters(url, '*_', false); // replaced line to improve performance\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n\n    var result = '<a href=\"' + url + '\"';\n\n    if (title !== '' && title !== null) {\n      title = title.replace(/\"/g, '&quot;');\n      //title = showdown.helper.escapeCharacters(title, '*_', false); // replaced line to improve performance\n      title = title.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    // optionLinksInNewWindow only applies\n    // to external links. Hash links (#) open in same page\n    if (options.openLinksInNewWindow && !/^#/.test(url)) {\n      // escaped _\n      result += ' rel=\"noopener noreferrer\" target=\"¨E95Eblank\"';\n    }\n\n    result += '>' + linkText + '</a>';\n\n    return result;\n  };\n\n  // First, handle reference-style links: [link text] [id]\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)] ?(?:\\n *)?\\[(.*?)]()()()()/g, writeAnchorTag);\n\n  // Next, inline-style links: [link text](url \"optional title\")\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<([^>]*)>(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n    writeAnchorTag);\n\n  // normal cases\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n    writeAnchorTag);\n\n  // handle reference-style shortcuts: [link text]\n  // These must come last in case you've also got [link test][1]\n  // or [link test](/foo)\n  text = text.replace(/\\[([^\\[\\]]+)]()()()()()/g, writeAnchorTag);\n\n  // Lastly handle GithubMentions if option is enabled\n  if (options.ghMentions) {\n    text = text.replace(/(^|\\s)(\\\\)?(@([a-z\\d]+(?:[a-z\\d.-]+?[a-z\\d]+)*))/gmi, function (wm, st, escape, mentions, username) {\n      if (escape === '\\\\') {\n        return st + mentions;\n      }\n\n      //check if options.ghMentionsLink is a string\n      if (!showdown.helper.isString(options.ghMentionsLink)) {\n        throw new Error('ghMentionsLink option must be a string');\n      }\n      var lnk = options.ghMentionsLink.replace(/\\{u}/g, username),\n          target = '';\n      if (options.openLinksInNewWindow) {\n        target = ' rel=\"noopener noreferrer\" target=\"¨E95Eblank\"';\n      }\n      return st + '<a href=\"' + lnk + '\"' + target + '>' + mentions + '</a>';\n    });\n  }\n\n  text = globals.converter._dispatch('anchors.after', text, options, globals);\n  return text;\n});\n","// url allowed chars [a-z\\d_.~:/?#[]@!$&'()*+,;=-]\n\nvar simpleURLRegex  = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+?\\.[^'\">\\s]+?)()(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    simpleURLRegex2 = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+\\.[^'\">\\s]+?)([.!?,()\\[\\]])?(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    delimUrlRegex   = /()<(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+)()>()/gi,\n    simpleMailRegex = /(^|\\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)(?=$|\\s)/gmi,\n    delimMailRegex  = /<()(?:mailto:)?([-.\\w]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)>/gi,\n\n    replaceLink = function (options) {\n      'use strict';\n      return function (wm, leadingMagicChars, link, m2, m3, trailingPunctuation, trailingMagicChars) {\n        link = link.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n        var lnkTxt = link,\n            append = '',\n            target = '',\n            lmc    = leadingMagicChars || '',\n            tmc    = trailingMagicChars || '';\n        if (/^www\\./i.test(link)) {\n          link = link.replace(/^www\\./i, 'http://www.');\n        }\n        if (options.excludeTrailingPunctuationFromURLs && trailingPunctuation) {\n          append = trailingPunctuation;\n        }\n        if (options.openLinksInNewWindow) {\n          target = ' rel=\"noopener noreferrer\" target=\"¨E95Eblank\"';\n        }\n        return lmc + '<a href=\"' + link + '\"' + target + '>' + lnkTxt + '</a>' + append + tmc;\n      };\n    },\n\n    replaceMail = function (options, globals) {\n      'use strict';\n      return function (wholeMatch, b, mail) {\n        var href = 'mailto:';\n        b = b || '';\n        mail = showdown.subParser('unescapeSpecialChars')(mail, options, globals);\n        if (options.encodeEmails) {\n          href = showdown.helper.encodeEmailAddress(href + mail);\n          mail = showdown.helper.encodeEmailAddress(mail);\n        } else {\n          href = href + mail;\n        }\n        return b + '<a href=\"' + href + '\">' + mail + '</a>';\n      };\n    };\n\nshowdown.subParser('autoLinks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('autoLinks.before', text, options, globals);\n\n  text = text.replace(delimUrlRegex, replaceLink(options));\n  text = text.replace(delimMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('autoLinks.after', text, options, globals);\n\n  return text;\n});\n\nshowdown.subParser('simplifiedAutoLinks', function (text, options, globals) {\n  'use strict';\n\n  if (!options.simplifiedAutoLink) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.before', text, options, globals);\n\n  if (options.excludeTrailingPunctuationFromURLs) {\n    text = text.replace(simpleURLRegex2, replaceLink(options));\n  } else {\n    text = text.replace(simpleURLRegex, replaceLink(options));\n  }\n  text = text.replace(simpleMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.after', text, options, globals);\n\n  return text;\n});\n","/**\n * These are all the transformations that form block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('blockGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockGamut.before', text, options, globals);\n\n  // we parse blockquotes first so that we can have headings and hrs\n  // inside blockquotes\n  text = showdown.subParser('blockQuotes')(text, options, globals);\n  text = showdown.subParser('headers')(text, options, globals);\n\n  // Do Horizontal Rules:\n  text = showdown.subParser('horizontalRule')(text, options, globals);\n\n  text = showdown.subParser('lists')(text, options, globals);\n  text = showdown.subParser('codeBlocks')(text, options, globals);\n  text = showdown.subParser('tables')(text, options, globals);\n\n  // We already ran _HashHTMLBlocks() before, in Markdown(), but that\n  // was to escape raw HTML in the original Markdown source. This time,\n  // we're escaping the markup we've just created, so that we don't wrap\n  // <p> tags around block-level tags.\n  text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n  text = showdown.subParser('paragraphs')(text, options, globals);\n\n  text = globals.converter._dispatch('blockGamut.after', text, options, globals);\n\n  return text;\n});\n","showdown.subParser('blockQuotes', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockQuotes.before', text, options, globals);\n\n  // add a couple extra lines after the text and endtext mark\n  text = text + '\\n\\n';\n\n  var rgx = /(^ {0,3}>[ \\t]?.+\\n(.+\\n)*\\n*)+/gm;\n\n  if (options.splitAdjacentBlockquotes) {\n    rgx = /^ {0,3}>[\\s\\S]*?(?:\\n\\n)/gm;\n  }\n\n  text = text.replace(rgx, function (bq) {\n    // attacklab: hack around Konqueror 3.5.4 bug:\n    // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n    bq = bq.replace(/^[ \\t]*>[ \\t]?/gm, ''); // trim one level of quoting\n\n    // attacklab: clean up hack\n    bq = bq.replace(/¨0/g, '');\n\n    bq = bq.replace(/^[ \\t]+$/gm, ''); // trim whitespace-only lines\n    bq = showdown.subParser('githubCodeBlocks')(bq, options, globals);\n    bq = showdown.subParser('blockGamut')(bq, options, globals); // recurse\n\n    bq = bq.replace(/(^|\\n)/g, '$1  ');\n    // These leading spaces screw with <pre> content, so we need to fix that:\n    bq = bq.replace(/(\\s*<pre>[^\\r]+?<\\/pre>)/gm, function (wholeMatch, m1) {\n      var pre = m1;\n      // attacklab: hack around Konqueror 3.5.4 bug:\n      pre = pre.replace(/^  /mg, '¨0');\n      pre = pre.replace(/¨0/g, '');\n      return pre;\n    });\n\n    return showdown.subParser('hashBlock')('<blockquote>\\n' + bq + '\\n</blockquote>', options, globals);\n  });\n\n  text = globals.converter._dispatch('blockQuotes.after', text, options, globals);\n  return text;\n});\n","/**\n * Process Markdown `<pre><code>` blocks.\n */\nshowdown.subParser('codeBlocks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeBlocks.before', text, options, globals);\n\n  // sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '¨0';\n\n  var pattern = /(?:\\n\\n|^)((?:(?:[ ]{4}|\\t).*\\n+)+)(\\n*[ ]{0,3}[^ \\t\\n]|(?=¨0))/g;\n  text = text.replace(pattern, function (wholeMatch, m1, m2) {\n    var codeblock = m1,\n        nextChar = m2,\n        end = '\\n';\n\n    codeblock = showdown.subParser('outdent')(codeblock, options, globals);\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing newlines\n\n    if (options.omitExtraWLInCodeBlocks) {\n      end = '';\n    }\n\n    codeblock = '<pre><code>' + codeblock + end + '</code></pre>';\n\n    return showdown.subParser('hashBlock')(codeblock, options, globals) + nextChar;\n  });\n\n  // strip sentinel\n  text = text.replace(/¨0/, '');\n\n  text = globals.converter._dispatch('codeBlocks.after', text, options, globals);\n  return text;\n});\n","/**\n *\n *   *  Backtick quotes are used for <code></code> spans.\n *\n *   *  You can use multiple backticks as the delimiters if you want to\n *     include literal backticks in the code span. So, this input:\n *\n *         Just type ``foo `bar` baz`` at the prompt.\n *\n *       Will translate to:\n *\n *         <p>Just type <code>foo `bar` baz</code> at the prompt.</p>\n *\n *    There's no arbitrary limit to the number of backticks you\n *    can use as delimters. If you need three consecutive backticks\n *    in your code, use four for delimiters, etc.\n *\n *  *  You can use spaces to get literal backticks at the edges:\n *\n *         ... type `` `bar` `` ...\n *\n *       Turns to:\n *\n *         ... type <code>`bar`</code> ...\n */\nshowdown.subParser('codeSpans', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeSpans.before', text, options, globals);\n\n  if (typeof text === 'undefined') {\n    text = '';\n  }\n  text = text.replace(/(^|[^\\\\])(`+)([^\\r]*?[^`])\\2(?!`)/gm,\n    function (wholeMatch, m1, m2, m3) {\n      var c = m3;\n      c = c.replace(/^([ \\t]*)/g, '');\t// leading whitespace\n      c = c.replace(/[ \\t]*$/g, '');\t// trailing whitespace\n      c = showdown.subParser('encodeCode')(c, options, globals);\n      c = m1 + '<code>' + c + '</code>';\n      c = showdown.subParser('hashHTMLSpans')(c, options, globals);\n      return c;\n    }\n  );\n\n  text = globals.converter._dispatch('codeSpans.after', text, options, globals);\n  return text;\n});\n","/**\n * Create a full HTML document from the processed markdown\n */\nshowdown.subParser('completeHTMLDocument', function (text, options, globals) {\n  'use strict';\n\n  if (!options.completeHTMLDocument) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('completeHTMLDocument.before', text, options, globals);\n\n  var doctype = 'html',\n      doctypeParsed = '<!DOCTYPE HTML>\\n',\n      title = '',\n      charset = '<meta charset=\"utf-8\">\\n',\n      lang = '',\n      metadata = '';\n\n  if (typeof globals.metadata.parsed.doctype !== 'undefined') {\n    doctypeParsed = '<!DOCTYPE ' +  globals.metadata.parsed.doctype + '>\\n';\n    doctype = globals.metadata.parsed.doctype.toString().toLowerCase();\n    if (doctype === 'html' || doctype === 'html5') {\n      charset = '<meta charset=\"utf-8\">';\n    }\n  }\n\n  for (var meta in globals.metadata.parsed) {\n    if (globals.metadata.parsed.hasOwnProperty(meta)) {\n      switch (meta.toLowerCase()) {\n        case 'doctype':\n          break;\n\n        case 'title':\n          title = '<title>' +  globals.metadata.parsed.title + '</title>\\n';\n          break;\n\n        case 'charset':\n          if (doctype === 'html' || doctype === 'html5') {\n            charset = '<meta charset=\"' + globals.metadata.parsed.charset + '\">\\n';\n          } else {\n            charset = '<meta name=\"charset\" content=\"' + globals.metadata.parsed.charset + '\">\\n';\n          }\n          break;\n\n        case 'language':\n        case 'lang':\n          lang = ' lang=\"' + globals.metadata.parsed[meta] + '\"';\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n          break;\n\n        default:\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n      }\n    }\n  }\n\n  text = doctypeParsed + '<html' + lang + '>\\n<head>\\n' + title + charset + metadata + '</head>\\n<body>\\n' + text.trim() + '\\n</body>\\n</html>';\n\n  text = globals.converter._dispatch('completeHTMLDocument.after', text, options, globals);\n  return text;\n});\n","/**\n * Convert all tabs to spaces\n */\nshowdown.subParser('detab', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('detab.before', text, options, globals);\n\n  // expand first n-1 tabs\n  text = text.replace(/\\t(?=\\t)/g, '    '); // g_tab_width\n\n  // replace the nth with two sentinels\n  text = text.replace(/\\t/g, '¨A¨B');\n\n  // use the sentinel to anchor our regex so it doesn't explode\n  text = text.replace(/¨B(.+?)¨A/g, function (wholeMatch, m1) {\n    var leadingText = m1,\n        numSpaces = 4 - leadingText.length % 4;  // g_tab_width\n\n    // there *must* be a better way to do this:\n    for (var i = 0; i < numSpaces; i++) {\n      leadingText += ' ';\n    }\n\n    return leadingText;\n  });\n\n  // clean up sentinels\n  text = text.replace(/¨A/g, '    ');  // g_tab_width\n  text = text.replace(/¨B/g, '');\n\n  text = globals.converter._dispatch('detab.after', text, options, globals);\n  return text;\n});\n","showdown.subParser('ellipsis', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('ellipsis.before', text, options, globals);\n\n  text = text.replace(/\\.\\.\\./g, '…');\n\n  text = globals.converter._dispatch('ellipsis.after', text, options, globals);\n\n  return text;\n});\n","/**\n * Turn emoji codes into emojis\n *\n * List of supported emojis: https://github.com/showdownjs/showdown/wiki/Emojis\n */\nshowdown.subParser('emoji', function (text, options, globals) {\n  'use strict';\n\n  if (!options.emoji) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('emoji.before', text, options, globals);\n\n  var emojiRgx = /:([\\S]+?):/g;\n\n  text = text.replace(emojiRgx, function (wm, emojiCode) {\n    if (showdown.helper.emojis.hasOwnProperty(emojiCode)) {\n      return showdown.helper.emojis[emojiCode];\n    }\n    return wm;\n  });\n\n  text = globals.converter._dispatch('emoji.after', text, options, globals);\n\n  return text;\n});\n","/**\n * Smart processing for ampersands and angle brackets that need to be encoded.\n */\nshowdown.subParser('encodeAmpsAndAngles', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeAmpsAndAngles.before', text, options, globals);\n\n  // Ampersand-encoding based entirely on Nat Irons's Amputator MT plugin:\n  // http://bumppo.net/projects/amputator/\n  text = text.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\\w+);)/g, '&amp;');\n\n  // Encode naked <'s\n  text = text.replace(/<(?![a-z\\/?$!])/gi, '&lt;');\n\n  // Encode <\n  text = text.replace(/</g, '&lt;');\n\n  // Encode >\n  text = text.replace(/>/g, '&gt;');\n\n  text = globals.converter._dispatch('encodeAmpsAndAngles.after', text, options, globals);\n  return text;\n});\n","/**\n * Returns the string, with after processing the following backslash escape sequences.\n *\n * attacklab: The polite way to do this is with the new escapeCharacters() function:\n *\n *    text = escapeCharacters(text,\"\\\\\",true);\n *    text = escapeCharacters(text,\"`*_{}[]()>#+-.!\",true);\n *\n * ...but we're sidestepping its use of the (slow) RegExp constructor\n * as an optimization for Firefox.  This function gets called a LOT.\n */\nshowdown.subParser('encodeBackslashEscapes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeBackslashEscapes.before', text, options, globals);\n\n  text = text.replace(/\\\\(\\\\)/g, showdown.helper.escapeCharactersCallback);\n  text = text.replace(/\\\\([`*_{}\\[\\]()>#+.!~=|-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeBackslashEscapes.after', text, options, globals);\n  return text;\n});\n","/**\n * Encode/escape certain characters inside Markdown code runs.\n * The point is that in code, these characters are literals,\n * and lose their special Markdown meanings.\n */\nshowdown.subParser('encodeCode', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('encodeCode.before', text, options, globals);\n\n  // Encode all ampersands; HTML entities are not\n  // entities within a Markdown code span.\n  text = text\n    .replace(/&/g, '&amp;')\n  // Do the angle bracket song and dance:\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n  // Now, escape characters that are magic in Markdown:\n    .replace(/([*_{}\\[\\]\\\\=~-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeCode.after', text, options, globals);\n  return text;\n});\n","/**\n * Within tags -- meaning between < and > -- encode [\\ ` * _ ~ =] so they\n * don't conflict with their use in Markdown for code, italics and strong.\n */\nshowdown.subParser('escapeSpecialCharsWithinTagAttributes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.before', text, options, globals);\n\n  // Build a regex to find HTML tags.\n  var tags     = /<\\/?[a-z\\d_:-]+(?:[\\s]+[\\s\\S]+?)?>/gi,\n      comments = /<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;\n\n  text = text.replace(tags, function (wholeMatch) {\n    return wholeMatch\n      .replace(/(.)<\\/?code>(?=.)/g, '$1`')\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = text.replace(comments, function (wholeMatch) {\n    return wholeMatch\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.after', text, options, globals);\n  return text;\n});\n","/**\n * Handle github codeblocks prior to running HashHTML so that\n * HTML contained within the codeblock gets escaped properly\n * Example:\n * ```ruby\n *     def hello_world(x)\n *       puts \"Hello, #{x}\"\n *     end\n * ```\n */\nshowdown.subParser('githubCodeBlocks', function (text, options, globals) {\n  'use strict';\n\n  // early exit if option is not enabled\n  if (!options.ghCodeBlocks) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('githubCodeBlocks.before', text, options, globals);\n\n  text += '¨0';\n\n  text = text.replace(/(?:^|\\n)(?: {0,3})(```+|~~~+)(?: *)([^\\s`~]*)\\n([\\s\\S]*?)\\n(?: {0,3})\\1/g, function (wholeMatch, delim, language, codeblock) {\n    var end = (options.omitExtraWLInCodeBlocks) ? '' : '\\n';\n\n    // First parse the github code block\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing whitespace\n\n    codeblock = '<pre><code' + (language ? ' class=\"' + language + ' language-' + language + '\"' : '') + '>' + codeblock + end + '</code></pre>';\n\n    codeblock = showdown.subParser('hashBlock')(codeblock, options, globals);\n\n    // Since GHCodeblocks can be false positives, we need to\n    // store the primitive text and the parsed text in a global var,\n    // and then return a token\n    return '\\n\\n¨G' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  });\n\n  // attacklab: strip sentinel\n  text = text.replace(/¨0/, '');\n\n  return globals.converter._dispatch('githubCodeBlocks.after', text, options, globals);\n});\n","showdown.subParser('hashBlock', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashBlock.before', text, options, globals);\n  text = text.replace(/(^\\n+|\\n+$)/g, '');\n  text = '\\n\\n¨K' + (globals.gHtmlBlocks.push(text) - 1) + 'K\\n\\n';\n  text = globals.converter._dispatch('hashBlock.after', text, options, globals);\n  return text;\n});\n","/**\n * Hash and escape <code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return '¨C' + (globals.gHtmlSpans.push(codeblock) - 1) + 'C';\n  };\n\n  // Hash naked <code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '<code\\\\b[^>]*>', '</code>', 'gim');\n\n  text = globals.converter._dispatch('hashCodeTags.after', text, options, globals);\n  return text;\n});\n","showdown.subParser('hashElement', function (text, options, globals) {\n  'use strict';\n\n  return function (wholeMatch, m1) {\n    var blockText = m1;\n\n    // Undo double lines\n    blockText = blockText.replace(/\\n\\n/g, '\\n');\n    blockText = blockText.replace(/^\\n/, '');\n\n    // strip trailing blank lines\n    blockText = blockText.replace(/\\n+$/g, '');\n\n    // Replace the element text with a marker (\"¨KxK\" where x is its key)\n    blockText = '\\n\\n¨K' + (globals.gHtmlBlocks.push(blockText) - 1) + 'K\\n\\n';\n\n    return blockText;\n  };\n});\n","showdown.subParser('hashHTMLBlocks', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLBlocks.before', text, options, globals);\n\n  var blockTags = [\n        'pre',\n        'div',\n        'h1',\n        'h2',\n        'h3',\n        'h4',\n        'h5',\n        'h6',\n        'blockquote',\n        'table',\n        'dl',\n        'ol',\n        'ul',\n        'script',\n        'noscript',\n        'form',\n        'fieldset',\n        'iframe',\n        'math',\n        'style',\n        'section',\n        'header',\n        'footer',\n        'nav',\n        'article',\n        'aside',\n        'address',\n        'audio',\n        'canvas',\n        'figure',\n        'hgroup',\n        'output',\n        'video',\n        'p'\n      ],\n      repFunc = function (wholeMatch, match, left, right) {\n        var txt = wholeMatch;\n        // check if this html element is marked as markdown\n        // if so, it's contents should be parsed as markdown\n        if (left.search(/\\bmarkdown\\b/) !== -1) {\n          txt = left + globals.converter.makeHtml(match) + right;\n        }\n        return '\\n\\n¨K' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n      };\n\n  if (options.backslashEscapesHTMLTags) {\n    // encode backslash escaped HTML tags\n    text = text.replace(/\\\\<(\\/?[^>]+?)>/g, function (wm, inside) {\n      return '&lt;' + inside + '&gt;';\n    });\n  }\n\n  // hash HTML Blocks\n  for (var i = 0; i < blockTags.length; ++i) {\n\n    var opTagPos,\n        rgx1     = new RegExp('^ {0,3}(<' + blockTags[i] + '\\\\b[^>]*>)', 'im'),\n        patLeft  = '<' + blockTags[i] + '\\\\b[^>]*>',\n        patRight = '</' + blockTags[i] + '>';\n    // 1. Look for the first position of the first opening HTML tag in the text\n    while ((opTagPos = showdown.helper.regexIndexOf(text, rgx1)) !== -1) {\n\n      // if the HTML tag is \\ escaped, we need to escape it and break\n\n\n      //2. Split the text in that position\n      var subTexts = showdown.helper.splitAtIndex(text, opTagPos),\n          //3. Match recursively\n          newSubText1 = showdown.helper.replaceRecursiveRegExp(subTexts[1], repFunc, patLeft, patRight, 'im');\n\n      // prevent an infinite loop\n      if (newSubText1 === subTexts[1]) {\n        break;\n      }\n      text = subTexts[0].concat(newSubText1);\n    }\n  }\n  // HR SPECIAL CASE\n  text = text.replace(/(\\n {0,3}(<(hr)\\b([^<>])*?\\/?>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  // Special case for standalone HTML comments\n  text = showdown.helper.replaceRecursiveRegExp(text, function (txt) {\n    return '\\n\\n¨K' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n  }, '^ {0,3}<!--', '-->', 'gm');\n\n  // PHP and ASP-style processor instructions (<?...?> and <%...%>)\n  text = text.replace(/(?:\\n\\n)( {0,3}(?:<([?%])[^\\r]*?\\2>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  text = globals.converter._dispatch('hashHTMLBlocks.after', text, options, globals);\n  return text;\n});\n","/**\n * Hash span elements that should not be parsed as markdown\n */\nshowdown.subParser('hashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLSpans.before', text, options, globals);\n\n  function hashHTMLSpan (html) {\n    return '¨C' + (globals.gHtmlSpans.push(html) - 1) + 'C';\n  }\n\n  // Hash Self Closing tags\n  text = text.replace(/<[^>]+?\\/>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags without properties\n  text = text.replace(/<([^>]+?)>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags with properties\n  text = text.replace(/<([^>]+?)\\s[^>]+?>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash self closing tags without />\n  text = text.replace(/<[^>]+?>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  /*showdown.helper.matchRecursiveRegExp(text, '<code\\\\b[^>]*>', '</code>', 'gi');*/\n\n  text = globals.converter._dispatch('hashHTMLSpans.after', text, options, globals);\n  return text;\n});\n\n/**\n * Unhash HTML spans\n */\nshowdown.subParser('unhashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unhashHTMLSpans.before', text, options, globals);\n\n  for (var i = 0; i < globals.gHtmlSpans.length; ++i) {\n    var repText = globals.gHtmlSpans[i],\n        // limiter to prevent infinite loop (assume 10 as limit for recurse)\n        limit = 0;\n\n    while (/¨C(\\d+)C/.test(repText)) {\n      var num = RegExp.$1;\n      repText = repText.replace('¨C' + num + 'C', globals.gHtmlSpans[num]);\n      if (limit === 10) {\n        console.error('maximum nesting of 10 spans reached!!!');\n        break;\n      }\n      ++limit;\n    }\n    text = text.replace('¨C' + i + 'C', repText);\n  }\n\n  text = globals.converter._dispatch('unhashHTMLSpans.after', text, options, globals);\n  return text;\n});\n","/**\n * Hash and escape <pre><code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashPreCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashPreCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    // encode html entities\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return '\\n\\n¨G' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  };\n\n  // Hash <pre><code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '^ {0,3}<pre\\\\b[^>]*>\\\\s*<code\\\\b[^>]*>', '^ {0,3}</code>\\\\s*</pre>', 'gim');\n\n  text = globals.converter._dispatch('hashPreCodeTags.after', text, options, globals);\n  return text;\n});\n","showdown.subParser('headers', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('headers.before', text, options, globals);\n\n  var headerLevelStart = (isNaN(parseInt(options.headerLevelStart))) ? 1 : parseInt(options.headerLevelStart),\n\n      // Set text-style headers:\n      //\tHeader 1\n      //\t========\n      //\n      //\tHeader 2\n      //\t--------\n      //\n      setextRegexH1 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n={2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n=+[ \\t]*\\n+/gm,\n      setextRegexH2 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n-{2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n-+[ \\t]*\\n+/gm;\n\n  text = text.replace(setextRegexH1, function (wholeMatch, m1) {\n\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  text = text.replace(setextRegexH2, function (matchFound, m1) {\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart + 1,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  // atx-style headers:\n  //  # Header 1\n  //  ## Header 2\n  //  ## Header 2 with closing hashes ##\n  //  ...\n  //  ###### Header 6\n  //\n  var atxStyle = (options.requireSpaceBeforeHeadingText) ? /^(#{1,6})[ \\t]+(.+?)[ \\t]*#*\\n+/gm : /^(#{1,6})[ \\t]*(.+?)[ \\t]*#*\\n+/gm;\n\n  text = text.replace(atxStyle, function (wholeMatch, m1, m2) {\n    var hText = m2;\n    if (options.customizedHeaderId) {\n      hText = m2.replace(/\\s?\\{([^{]+?)}\\s*$/, '');\n    }\n\n    var span = showdown.subParser('spanGamut')(hText, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m2) + '\"',\n        hLevel = headerLevelStart - 1 + m1.length,\n        header = '<h' + hLevel + hID + '>' + span + '</h' + hLevel + '>';\n\n    return showdown.subParser('hashBlock')(header, options, globals);\n  });\n\n  function headerId (m) {\n    var title,\n        prefix;\n\n    // It is separate from other options to allow combining prefix and customized\n    if (options.customizedHeaderId) {\n      var match = m.match(/\\{([^{]+?)}\\s*$/);\n      if (match && match[1]) {\n        m = match[1];\n      }\n    }\n\n    title = m;\n\n    // Prefix id to prevent causing inadvertent pre-existing style matches.\n    if (showdown.helper.isString(options.prefixHeaderId)) {\n      prefix = options.prefixHeaderId;\n    } else if (options.prefixHeaderId === true) {\n      prefix = 'section-';\n    } else {\n      prefix = '';\n    }\n\n    if (!options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (options.ghCompatibleHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&, ¨ and $)\n        .replace(/&amp;/g, '')\n        .replace(/¨T/g, '')\n        .replace(/¨D/g, '')\n        // replace rest of the chars (&~$ are repeated as they might have been escaped)\n        // borrowed from github's redcarpet (some they should produce similar results)\n        .replace(/[&+$,\\/:;=?@\"#{}|^¨~\\[\\]`\\\\*)(%.!'<>]/g, '')\n        .toLowerCase();\n    } else if (options.rawHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&, ¨ and $)\n        .replace(/&amp;/g, '&')\n        .replace(/¨T/g, '¨')\n        .replace(/¨D/g, '$')\n        // replace \" and '\n        .replace(/[\"']/g, '-')\n        .toLowerCase();\n    } else {\n      title = title\n        .replace(/[^\\w]/g, '')\n        .toLowerCase();\n    }\n\n    if (options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (globals.hashLinkCounts[title]) {\n      title = title + '-' + (globals.hashLinkCounts[title]++);\n    } else {\n      globals.hashLinkCounts[title] = 1;\n    }\n    return title;\n  }\n\n  text = globals.converter._dispatch('headers.after', text, options, globals);\n  return text;\n});\n","/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('horizontalRule', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('horizontalRule.before', text, options, globals);\n\n  var key = showdown.subParser('hashBlock')('<hr />', options, globals);\n  text = text.replace(/^ {0,2}( ?-){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?\\*){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?_){3,}[ \\t]*$/gm, key);\n\n  text = globals.converter._dispatch('horizontalRule.after', text, options, globals);\n  return text;\n});\n","/**\n * Turn Markdown image shortcuts into <img> tags.\n */\nshowdown.subParser('images', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('images.before', text, options, globals);\n\n  var inlineRegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      crazyRegExp       = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<([^>]*)>(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:(?:([\"'])([^\"]*?)\\6))?[ \\t]?\\)/g,\n      base64RegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      referenceRegExp   = /!\\[([^\\]]*?)] ?(?:\\n *)?\\[([\\s\\S]*?)]()()()()()/g,\n      refShortcutRegExp = /!\\[([^\\[\\]]+)]()()()()()/g;\n\n  function writeImageTagBase64 (wholeMatch, altText, linkId, url, width, height, m5, title) {\n    url = url.replace(/\\s/g, '');\n    return writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title);\n  }\n\n  function writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title) {\n\n    var gUrls   = globals.gUrls,\n        gTitles = globals.gTitles,\n        gDims   = globals.gDimensions;\n\n    linkId = linkId.toLowerCase();\n\n    if (!title) {\n      title = '';\n    }\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n\n    } else if (url === '' || url === null) {\n      if (linkId === '' || linkId === null) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = altText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(gUrls[linkId])) {\n        url = gUrls[linkId];\n        if (!showdown.helper.isUndefined(gTitles[linkId])) {\n          title = gTitles[linkId];\n        }\n        if (!showdown.helper.isUndefined(gDims[linkId])) {\n          width = gDims[linkId].width;\n          height = gDims[linkId].height;\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    altText = altText\n      .replace(/\"/g, '&quot;')\n    //altText = showdown.helper.escapeCharacters(altText, '*_', false);\n      .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    //url = showdown.helper.escapeCharacters(url, '*_', false);\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    var result = '<img src=\"' + url + '\" alt=\"' + altText + '\"';\n\n    if (title && showdown.helper.isString(title)) {\n      title = title\n        .replace(/\"/g, '&quot;')\n      //title = showdown.helper.escapeCharacters(title, '*_', false);\n        .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    if (width && height) {\n      width  = (width === '*') ? 'auto' : width;\n      height = (height === '*') ? 'auto' : height;\n\n      result += ' width=\"' + width + '\"';\n      result += ' height=\"' + height + '\"';\n    }\n\n    result += ' />';\n\n    return result;\n  }\n\n  // First, handle reference-style labeled images: ![alt text][id]\n  text = text.replace(referenceRegExp, writeImageTag);\n\n  // Next, handle inline images:  ![alt text](url =<width>x<height> \"optional title\")\n\n  // base64 encoded images\n  text = text.replace(base64RegExp, writeImageTagBase64);\n\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(crazyRegExp, writeImageTag);\n\n  // normal cases\n  text = text.replace(inlineRegExp, writeImageTag);\n\n  // handle reference-style shortcuts: ![img text]\n  text = text.replace(refShortcutRegExp, writeImageTag);\n\n  text = globals.converter._dispatch('images.after', text, options, globals);\n  return text;\n});\n","showdown.subParser('italicsAndBold', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('italicsAndBold.before', text, options, globals);\n\n  // it's faster to have 3 separate regexes for each case than have just one\n  // because of backtracing, in some cases, it could lead to an exponential effect\n  // called \"catastrophic backtrace\". Ominous!\n\n  function parseInside (txt, left, right) {\n    /*\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    */\n    return left + txt + right;\n  }\n\n  // Parse underscores\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b___(\\S[\\s\\S]*?)___\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/\\b__(\\S[\\s\\S]*?)__\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong>', '</strong>');\n    });\n    text = text.replace(/\\b_(\\S[\\s\\S]*?)_\\b/g, function (wm, txt) {\n      return parseInside (txt, '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/___(\\S[\\s\\S]*?)___/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/__(\\S[\\s\\S]*?)__/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/_([^\\s_][\\s\\S]*?)_/g, function (wm, m) {\n      // !/^_[^_]/.test(m) - test if it doesn't start with __ (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n  // Now parse asterisks\n  if (options.literalMidWordAsterisks) {\n    text = text.replace(/([^*]|^)\\B\\*\\*\\*(\\S[\\s\\S]*?)\\*\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*\\*(\\S[\\s\\S]*?)\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong>', '</strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*(\\S[\\s\\S]*?)\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/\\*\\*\\*(\\S[\\s\\S]*?)\\*\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/\\*\\*(\\S[\\s\\S]*?)\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/\\*([^\\s*][\\s\\S]*?)\\*/g, function (wm, m) {\n      // !/^\\*[^*]/.test(m) - test if it doesn't start with ** (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n\n  text = globals.converter._dispatch('italicsAndBold.after', text, options, globals);\n  return text;\n});\n","/**\n * Form HTML ordered (numbered) and unordered (bulleted) lists.\n */\nshowdown.subParser('lists', function (text, options, globals) {\n  'use strict';\n\n  /**\n   * Process the contents of a single ordered or unordered list, splitting it\n   * into individual list items.\n   * @param {string} listStr\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function processListItems (listStr, trimTrailing) {\n    // The $g_list_level global keeps track of when we're inside a list.\n    // Each time we enter a list, we increment it; when we leave a list,\n    // we decrement. If it's zero, we're not in a list anymore.\n    //\n    // We do this because when we're not inside a list, we want to treat\n    // something like this:\n    //\n    //    I recommend upgrading to version\n    //    8. Oops, now this line is treated\n    //    as a sub-list.\n    //\n    // As a single paragraph, despite the fact that the second line starts\n    // with a digit-period-space sequence.\n    //\n    // Whereas when we're inside a list (or sub-list), that line will be\n    // treated as the start of a sub-list. What a kludge, huh? This is\n    // an aspect of Markdown's syntax that's hard to parse perfectly\n    // without resorting to mind-reading. Perhaps the solution is to\n    // change the syntax rules such that sub-lists must start with a\n    // starting cardinal number; e.g. \"1.\" or \"a.\".\n    globals.gListLevel++;\n\n    // trim trailing blank lines:\n    listStr = listStr.replace(/\\n{2,}$/, '\\n');\n\n    // attacklab: add sentinel to emulate \\z\n    listStr += '¨0';\n\n    var rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(¨0| {0,3}([*+-]|\\d+[.])[ \\t]+))/gm,\n        isParagraphed = (/\\n[ \\t]*\\n(?!¨0)/.test(listStr));\n\n    // Since version 1.5, nesting sublists requires 4 spaces (or 1 tab) indentation,\n    // which is a syntax breaking change\n    // activating this option reverts to old behavior\n    if (options.disableForced4SpacesIndentedSublists) {\n      rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(¨0|\\2([*+-]|\\d+[.])[ \\t]+))/gm;\n    }\n\n    listStr = listStr.replace(rgx, function (wholeMatch, m1, m2, m3, m4, taskbtn, checked) {\n      checked = (checked && checked.trim() !== '');\n\n      var item = showdown.subParser('outdent')(m4, options, globals),\n          bulletStyle = '';\n\n      // Support for github tasklists\n      if (taskbtn && options.tasklists) {\n        bulletStyle = ' class=\"task-list-item\" style=\"list-style-type: none;\"';\n        item = item.replace(/^[ \\t]*\\[(x|X| )?]/m, function () {\n          var otp = '<input type=\"checkbox\" disabled style=\"margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;\"';\n          if (checked) {\n            otp += ' checked';\n          }\n          otp += '>';\n          return otp;\n        });\n      }\n\n      // ISSUE #312\n      // This input: - - - a\n      // causes trouble to the parser, since it interprets it as:\n      // <ul><li><li><li>a</li></li></li></ul>\n      // instead of:\n      // <ul><li>- - a</li></ul>\n      // So, to prevent it, we will put a marker (¨A)in the beginning of the line\n      // Kind of hackish/monkey patching, but seems more effective than overcomplicating the list parser\n      item = item.replace(/^([-*+]|\\d\\.)[ \\t]+[\\S\\n ]*/g, function (wm2) {\n        return '¨A' + wm2;\n      });\n\n      // m1 - Leading line or\n      // Has a double return (multi paragraph) or\n      // Has sublist\n      if (m1 || (item.search(/\\n{2,}/) > -1)) {\n        item = showdown.subParser('githubCodeBlocks')(item, options, globals);\n        item = showdown.subParser('blockGamut')(item, options, globals);\n      } else {\n        // Recursion for sub-lists:\n        item = showdown.subParser('lists')(item, options, globals);\n        item = item.replace(/\\n$/, ''); // chomp(item)\n        item = showdown.subParser('hashHTMLBlocks')(item, options, globals);\n\n        // Colapse double linebreaks\n        item = item.replace(/\\n\\n+/g, '\\n\\n');\n        if (isParagraphed) {\n          item = showdown.subParser('paragraphs')(item, options, globals);\n        } else {\n          item = showdown.subParser('spanGamut')(item, options, globals);\n        }\n      }\n\n      // now we need to remove the marker (¨A)\n      item = item.replace('¨A', '');\n      // we can finally wrap the line in list item tags\n      item =  '<li' + bulletStyle + '>' + item + '</li>\\n';\n\n      return item;\n    });\n\n    // attacklab: strip sentinel\n    listStr = listStr.replace(/¨0/g, '');\n\n    globals.gListLevel--;\n\n    if (trimTrailing) {\n      listStr = listStr.replace(/\\s+$/, '');\n    }\n\n    return listStr;\n  }\n\n  function styleStartNumber (list, listType) {\n    // check if ol and starts by a number different than 1\n    if (listType === 'ol') {\n      var res = list.match(/^ *(\\d+)\\./);\n      if (res && res[1] !== '1') {\n        return ' start=\"' + res[1] + '\"';\n      }\n    }\n    return '';\n  }\n\n  /**\n   * Check and parse consecutive lists (better fix for issue #142)\n   * @param {string} list\n   * @param {string} listType\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function parseConsecutiveLists (list, listType, trimTrailing) {\n    // check if we caught 2 or more consecutive lists by mistake\n    // we use the counterRgx, meaning if listType is UL we look for OL and vice versa\n    var olRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?\\d+\\.[ \\t]/gm : /^ {0,3}\\d+\\.[ \\t]/gm,\n        ulRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?[*+-][ \\t]/gm : /^ {0,3}[*+-][ \\t]/gm,\n        counterRxg = (listType === 'ul') ? olRgx : ulRgx,\n        result = '';\n\n    if (list.search(counterRxg) !== -1) {\n      (function parseCL (txt) {\n        var pos = txt.search(counterRxg),\n            style = styleStartNumber(list, listType);\n        if (pos !== -1) {\n          // slice\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt.slice(0, pos), !!trimTrailing) + '</' + listType + '>\\n';\n\n          // invert counterType and listType\n          listType = (listType === 'ul') ? 'ol' : 'ul';\n          counterRxg = (listType === 'ul') ? olRgx : ulRgx;\n\n          //recurse\n          parseCL(txt.slice(pos));\n        } else {\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt, !!trimTrailing) + '</' + listType + '>\\n';\n        }\n      })(list);\n    } else {\n      var style = styleStartNumber(list, listType);\n      result = '\\n\\n<' + listType + style + '>\\n' + processListItems(list, !!trimTrailing) + '</' + listType + '>\\n';\n    }\n\n    return result;\n  }\n\n  /** Start of list parsing **/\n  text = globals.converter._dispatch('lists.before', text, options, globals);\n  // add sentinel to hack around khtml/safari bug:\n  // http://bugs.webkit.org/show_bug.cgi?id=11231\n  text += '¨0';\n\n  if (globals.gListLevel) {\n    text = text.replace(/^(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(¨0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, list, m2) {\n        var listType = (m2.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, true);\n      }\n    );\n  } else {\n    text = text.replace(/(\\n\\n|^\\n?)(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(¨0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, m1, list, m3) {\n        var listType = (m3.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, false);\n      }\n    );\n  }\n\n  // strip sentinel\n  text = text.replace(/¨0/, '');\n  text = globals.converter._dispatch('lists.after', text, options, globals);\n  return text;\n});\n","/**\n * Parse metadata at the top of the document\n */\nshowdown.subParser('metadata', function (text, options, globals) {\n  'use strict';\n\n  if (!options.metadata) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('metadata.before', text, options, globals);\n\n  function parseMetadataContents (content) {\n    // raw is raw so it's not changed in any way\n    globals.metadata.raw = content;\n\n    // escape chars forbidden in html attributes\n    // double quotes\n    content = content\n      // ampersand first\n      .replace(/&/g, '&amp;')\n      // double quotes\n      .replace(/\"/g, '&quot;');\n\n    content = content.replace(/\\n {4}/g, ' ');\n    content.replace(/^([\\S ]+): +([\\s\\S]+?)$/gm, function (wm, key, value) {\n      globals.metadata.parsed[key] = value;\n      return '';\n    });\n  }\n\n  text = text.replace(/^\\s*«««+(\\S*?)\\n([\\s\\S]+?)\\n»»»+\\n/, function (wholematch, format, content) {\n    parseMetadataContents(content);\n    return '¨M';\n  });\n\n  text = text.replace(/^\\s*---+(\\S*?)\\n([\\s\\S]+?)\\n---+\\n/, function (wholematch, format, content) {\n    if (format) {\n      globals.metadata.format = format;\n    }\n    parseMetadataContents(content);\n    return '¨M';\n  });\n\n  text = text.replace(/¨M/g, '');\n\n  text = globals.converter._dispatch('metadata.after', text, options, globals);\n  return text;\n});\n","/**\n * Remove one level of line-leading tabs or spaces\n */\nshowdown.subParser('outdent', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('outdent.before', text, options, globals);\n\n  // attacklab: hack around Konqueror 3.5.4 bug:\n  // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n  text = text.replace(/^(\\t|[ ]{1,4})/gm, '¨0'); // attacklab: g_tab_width\n\n  // attacklab: clean up hack\n  text = text.replace(/¨0/g, '');\n\n  text = globals.converter._dispatch('outdent.after', text, options, globals);\n  return text;\n});\n","/**\n *\n */\nshowdown.subParser('paragraphs', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('paragraphs.before', text, options, globals);\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n\n  var grafs = text.split(/\\n{2,}/g),\n      grafsOut = [],\n      end = grafs.length; // Wrap <p> tags\n\n  for (var i = 0; i < end; i++) {\n    var str = grafs[i];\n    // if this is an HTML marker, copy it\n    if (str.search(/¨(K|G)(\\d+)\\1/g) >= 0) {\n      grafsOut.push(str);\n\n    // test for presence of characters to prevent empty lines being parsed\n    // as paragraphs (resulting in undesired extra empty paragraphs)\n    } else if (str.search(/\\S/) >= 0) {\n      str = showdown.subParser('spanGamut')(str, options, globals);\n      str = str.replace(/^([ \\t]*)/g, '<p>');\n      str += '</p>';\n      grafsOut.push(str);\n    }\n  }\n\n  /** Unhashify HTML blocks */\n  end = grafsOut.length;\n  for (i = 0; i < end; i++) {\n    var blockText = '',\n        grafsOutIt = grafsOut[i],\n        codeFlag = false;\n    // if this is a marker for an html block...\n    // use RegExp.test instead of string.search because of QML bug\n    while (/¨(K|G)(\\d+)\\1/.test(grafsOutIt)) {\n      var delim = RegExp.$1,\n          num   = RegExp.$2;\n\n      if (delim === 'K') {\n        blockText = globals.gHtmlBlocks[num];\n      } else {\n        // we need to check if ghBlock is a false positive\n        if (codeFlag) {\n          // use encoded version of all text\n          blockText = showdown.subParser('encodeCode')(globals.ghCodeBlocks[num].text, options, globals);\n        } else {\n          blockText = globals.ghCodeBlocks[num].codeblock;\n        }\n      }\n      blockText = blockText.replace(/\\$/g, '$$$$'); // Escape any dollar signs\n\n      grafsOutIt = grafsOutIt.replace(/(\\n\\n)?¨(K|G)\\d+\\2(\\n\\n)?/, blockText);\n      // Check if grafsOutIt is a pre->code\n      if (/^<pre\\b[^>]*>\\s*<code\\b[^>]*>/.test(grafsOutIt)) {\n        codeFlag = true;\n      }\n    }\n    grafsOut[i] = grafsOutIt;\n  }\n  text = grafsOut.join('\\n');\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n  return globals.converter._dispatch('paragraphs.after', text, options, globals);\n});\n","/**\n * Run extension\n */\nshowdown.subParser('runExtension', function (ext, text, options, globals) {\n  'use strict';\n\n  if (ext.filter) {\n    text = ext.filter(text, globals.converter, options);\n\n  } else if (ext.regex) {\n    // TODO remove this when old extension loading mechanism is deprecated\n    var re = ext.regex;\n    if (!(re instanceof RegExp)) {\n      re = new RegExp(re, 'g');\n    }\n    text = text.replace(re, ext.replace);\n  }\n\n  return text;\n});\n","/**\n * These are all the transformations that occur *within* block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('spanGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('spanGamut.before', text, options, globals);\n  text = showdown.subParser('codeSpans')(text, options, globals);\n  text = showdown.subParser('escapeSpecialCharsWithinTagAttributes')(text, options, globals);\n  text = showdown.subParser('encodeBackslashEscapes')(text, options, globals);\n\n  // Process anchor and image tags. Images must come first,\n  // because ![foo][f] looks like an anchor.\n  text = showdown.subParser('images')(text, options, globals);\n  text = showdown.subParser('anchors')(text, options, globals);\n\n  // Make links out of things like `<http://example.com/>`\n  // Must come after anchors, because you can use < and >\n  // delimiters in inline links like [this](<url>).\n  text = showdown.subParser('autoLinks')(text, options, globals);\n  text = showdown.subParser('simplifiedAutoLinks')(text, options, globals);\n  text = showdown.subParser('emoji')(text, options, globals);\n  text = showdown.subParser('underline')(text, options, globals);\n  text = showdown.subParser('italicsAndBold')(text, options, globals);\n  text = showdown.subParser('strikethrough')(text, options, globals);\n  text = showdown.subParser('ellipsis')(text, options, globals);\n\n  // we need to hash HTML tags inside spans\n  text = showdown.subParser('hashHTMLSpans')(text, options, globals);\n\n  // now we encode amps and angles\n  text = showdown.subParser('encodeAmpsAndAngles')(text, options, globals);\n\n  // Do hard breaks\n  if (options.simpleLineBreaks) {\n    // GFM style hard breaks\n    // only add line breaks if the text does not contain a block (special case for lists)\n    if (!/\\n\\n¨K/.test(text)) {\n      text = text.replace(/\\n+/g, '<br />\\n');\n    }\n  } else {\n    // Vanilla hard breaks\n    text = text.replace(/  +\\n/g, '<br />\\n');\n  }\n\n  text = globals.converter._dispatch('spanGamut.after', text, options, globals);\n  return text;\n});\n","showdown.subParser('strikethrough', function (text, options, globals) {\n  'use strict';\n\n  function parseInside (txt) {\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    return '<del>' + txt + '</del>';\n  }\n\n  if (options.strikethrough) {\n    text = globals.converter._dispatch('strikethrough.before', text, options, globals);\n    text = text.replace(/(?:~){2}([\\s\\S]+?)(?:~){2}/g, function (wm, txt) { return parseInside(txt); });\n    text = globals.converter._dispatch('strikethrough.after', text, options, globals);\n  }\n\n  return text;\n});\n","/**\n * Strips link definitions from text, stores the URLs and titles in\n * hash references.\n * Link defs are in the form: ^[id]: url \"optional title\"\n */\nshowdown.subParser('stripLinkDefinitions', function (text, options, globals) {\n  'use strict';\n\n  var regex       = /^ {0,3}\\[(.+)]:[ \\t]*\\n?[ \\t]*<?([^>\\s]+)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n+|(?=¨0))/gm,\n      base64Regex = /^ {0,3}\\[(.+)]:[ \\t]*\\n?[ \\t]*<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n\\n|(?=¨0)|(?=\\n\\[))/gm;\n\n  // attacklab: sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '¨0';\n\n  var replaceFunc = function (wholeMatch, linkId, url, width, height, blankLines, title) {\n    linkId = linkId.toLowerCase();\n    if (url.match(/^data:.+?\\/.+?;base64,/)) {\n      // remove newlines\n      globals.gUrls[linkId] = url.replace(/\\s/g, '');\n    } else {\n      globals.gUrls[linkId] = showdown.subParser('encodeAmpsAndAngles')(url, options, globals);  // Link IDs are case-insensitive\n    }\n\n    if (blankLines) {\n      // Oops, found blank lines, so it's not a title.\n      // Put back the parenthetical statement we stole.\n      return blankLines + title;\n\n    } else {\n      if (title) {\n        globals.gTitles[linkId] = title.replace(/\"|'/g, '&quot;');\n      }\n      if (options.parseImgDimensions && width && height) {\n        globals.gDimensions[linkId] = {\n          width:  width,\n          height: height\n        };\n      }\n    }\n    // Completely remove the definition from the text\n    return '';\n  };\n\n  // first we try to find base64 link references\n  text = text.replace(base64Regex, replaceFunc);\n\n  text = text.replace(regex, replaceFunc);\n\n  // attacklab: strip sentinel\n  text = text.replace(/¨0/, '');\n\n  return text;\n});\n","showdown.subParser('tables', function (text, options, globals) {\n  'use strict';\n\n  if (!options.tables) {\n    return text;\n  }\n\n  var tableRgx       = /^ {0,3}\\|?.+\\|.+\\n {0,3}\\|?[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[\\s\\S]+?(?:\\n\\n|¨0)/gm,\n      //singeColTblRgx = /^ {0,3}\\|.+\\|\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n(?: {0,3}\\|.+\\|\\n)+(?:\\n\\n|¨0)/gm;\n      singeColTblRgx = /^ {0,3}\\|.+\\|[ \\t]*\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n( {0,3}\\|.+\\|[ \\t]*\\n)*(?:\\n|¨0)/gm;\n\n  function parseStyles (sLine) {\n    if (/^:[ \\t]*--*$/.test(sLine)) {\n      return ' style=\"text-align:left;\"';\n    } else if (/^--*[ \\t]*:[ \\t]*$/.test(sLine)) {\n      return ' style=\"text-align:right;\"';\n    } else if (/^:[ \\t]*--*[ \\t]*:$/.test(sLine)) {\n      return ' style=\"text-align:center;\"';\n    } else {\n      return '';\n    }\n  }\n\n  function parseHeaders (header, style) {\n    var id = '';\n    header = header.trim();\n    // support both tablesHeaderId and tableHeaderId due to error in documentation so we don't break backwards compatibility\n    if (options.tablesHeaderId || options.tableHeaderId) {\n      id = ' id=\"' + header.replace(/ /g, '_').toLowerCase() + '\"';\n    }\n    header = showdown.subParser('spanGamut')(header, options, globals);\n\n    return '<th' + id + style + '>' + header + '</th>\\n';\n  }\n\n  function parseCells (cell, style) {\n    var subText = showdown.subParser('spanGamut')(cell, options, globals);\n    return '<td' + style + '>' + subText + '</td>\\n';\n  }\n\n  function buildTable (headers, cells) {\n    var tb = '<table>\\n<thead>\\n<tr>\\n',\n        tblLgn = headers.length;\n\n    for (var i = 0; i < tblLgn; ++i) {\n      tb += headers[i];\n    }\n    tb += '</tr>\\n</thead>\\n<tbody>\\n';\n\n    for (i = 0; i < cells.length; ++i) {\n      tb += '<tr>\\n';\n      for (var ii = 0; ii < tblLgn; ++ii) {\n        tb += cells[i][ii];\n      }\n      tb += '</tr>\\n';\n    }\n    tb += '</tbody>\\n</table>\\n';\n    return tb;\n  }\n\n  function parseTable (rawTable) {\n    var i, tableLines = rawTable.split('\\n');\n\n    for (i = 0; i < tableLines.length; ++i) {\n      // strip wrong first and last column if wrapped tables are used\n      if (/^ {0,3}\\|/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/^ {0,3}\\|/, '');\n      }\n      if (/\\|[ \\t]*$/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/\\|[ \\t]*$/, '');\n      }\n      // parse code spans first, but we only support one line code spans\n      tableLines[i] = showdown.subParser('codeSpans')(tableLines[i], options, globals);\n    }\n\n    var rawHeaders = tableLines[0].split('|').map(function (s) { return s.trim();}),\n        rawStyles = tableLines[1].split('|').map(function (s) { return s.trim();}),\n        rawCells = [],\n        headers = [],\n        styles = [],\n        cells = [];\n\n    tableLines.shift();\n    tableLines.shift();\n\n    for (i = 0; i < tableLines.length; ++i) {\n      if (tableLines[i].trim() === '') {\n        continue;\n      }\n      rawCells.push(\n        tableLines[i]\n          .split('|')\n          .map(function (s) {\n            return s.trim();\n          })\n      );\n    }\n\n    if (rawHeaders.length < rawStyles.length) {\n      return rawTable;\n    }\n\n    for (i = 0; i < rawStyles.length; ++i) {\n      styles.push(parseStyles(rawStyles[i]));\n    }\n\n    for (i = 0; i < rawHeaders.length; ++i) {\n      if (showdown.helper.isUndefined(styles[i])) {\n        styles[i] = '';\n      }\n      headers.push(parseHeaders(rawHeaders[i], styles[i]));\n    }\n\n    for (i = 0; i < rawCells.length; ++i) {\n      var row = [];\n      for (var ii = 0; ii < headers.length; ++ii) {\n        if (showdown.helper.isUndefined(rawCells[i][ii])) {\n\n        }\n        row.push(parseCells(rawCells[i][ii], styles[ii]));\n      }\n      cells.push(row);\n    }\n\n    return buildTable(headers, cells);\n  }\n\n  text = globals.converter._dispatch('tables.before', text, options, globals);\n\n  // find escaped pipe characters\n  text = text.replace(/\\\\(\\|)/g, showdown.helper.escapeCharactersCallback);\n\n  // parse multi column tables\n  text = text.replace(tableRgx, parseTable);\n\n  // parse one column tables\n  text = text.replace(singeColTblRgx, parseTable);\n\n  text = globals.converter._dispatch('tables.after', text, options, globals);\n\n  return text;\n});\n","showdown.subParser('underline', function (text, options, globals) {\n  'use strict';\n\n  if (!options.underline) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('underline.before', text, options, globals);\n\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b___(\\S[\\s\\S]*?)___\\b/g, function (wm, txt) {\n      return '<u>' + txt + '</u>';\n    });\n    text = text.replace(/\\b__(\\S[\\s\\S]*?)__\\b/g, function (wm, txt) {\n      return '<u>' + txt + '</u>';\n    });\n  } else {\n    text = text.replace(/___(\\S[\\s\\S]*?)___/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? '<u>' + m + '</u>' : wm;\n    });\n    text = text.replace(/__(\\S[\\s\\S]*?)__/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? '<u>' + m + '</u>' : wm;\n    });\n  }\n\n  // escape remaining underscores to prevent them being parsed by italic and bold\n  text = text.replace(/(_)/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('underline.after', text, options, globals);\n\n  return text;\n});\n","/**\n * Swap back in all the special characters we've hidden.\n */\nshowdown.subParser('unescapeSpecialChars', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unescapeSpecialChars.before', text, options, globals);\n\n  text = text.replace(/¨E(\\d+)E/g, function (wholeMatch, m1) {\n    var charCodeToReplace = parseInt(m1);\n    return String.fromCharCode(charCodeToReplace);\n  });\n\n  text = globals.converter._dispatch('unescapeSpecialChars.after', text, options, globals);\n  return text;\n});\n","showdown.subParser('makeMarkdown.blockquote', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n\n    for (var i = 0; i < childrenLength; ++i) {\n      var innerTxt = showdown.subParser('makeMarkdown.node')(children[i], globals);\n\n      if (innerTxt === '') {\n        continue;\n      }\n      txt += innerTxt;\n    }\n  }\n  // cleanup\n  txt = txt.trim();\n  txt = '> ' + txt.split('\\n').join('\\n> ');\n  return txt;\n});\n","showdown.subParser('makeMarkdown.codeBlock', function (node, globals) {\n  'use strict';\n\n  var lang = node.getAttribute('language'),\n      num  = node.getAttribute('precodenum');\n  return '```' + lang + '\\n' + globals.preList[num] + '\\n```';\n});\n","showdown.subParser('makeMarkdown.codeSpan', function (node) {\n  'use strict';\n\n  return '`' + node.innerHTML + '`';\n});\n","showdown.subParser('makeMarkdown.emphasis', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '*';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '*';\n  }\n  return txt;\n});\n","showdown.subParser('makeMarkdown.header', function (node, globals, headerLevel) {\n  'use strict';\n\n  var headerMark = new Array(headerLevel + 1).join('#'),\n      txt = '';\n\n  if (node.hasChildNodes()) {\n    txt = headerMark + ' ';\n    var children = node.childNodes,\n        childrenLength = children.length;\n\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n  }\n  return txt;\n});\n","showdown.subParser('makeMarkdown.hr', function () {\n  'use strict';\n\n  return '---';\n});\n","showdown.subParser('makeMarkdown.image', function (node) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasAttribute('src')) {\n    txt += '![' + node.getAttribute('alt') + '](';\n    txt += '<' + node.getAttribute('src') + '>';\n    if (node.hasAttribute('width') && node.hasAttribute('height')) {\n      txt += ' =' + node.getAttribute('width') + 'x' + node.getAttribute('height');\n    }\n\n    if (node.hasAttribute('title')) {\n      txt += ' \"' + node.getAttribute('title') + '\"';\n    }\n    txt += ')';\n  }\n  return txt;\n});\n","showdown.subParser('makeMarkdown.links', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes() && node.hasAttribute('href')) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n    txt = '[';\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '](';\n    txt += '<' + node.getAttribute('href') + '>';\n    if (node.hasAttribute('title')) {\n      txt += ' \"' + node.getAttribute('title') + '\"';\n    }\n    txt += ')';\n  }\n  return txt;\n});\n","showdown.subParser('makeMarkdown.list', function (node, globals, type) {\n  'use strict';\n\n  var txt = '';\n  if (!node.hasChildNodes()) {\n    return '';\n  }\n  var listItems       = node.childNodes,\n      listItemsLenght = listItems.length,\n      listNum = node.getAttribute('start') || 1;\n\n  for (var i = 0; i < listItemsLenght; ++i) {\n    if (typeof listItems[i].tagName === 'undefined' || listItems[i].tagName.toLowerCase() !== 'li') {\n      continue;\n    }\n\n    // define the bullet to use in list\n    var bullet = '';\n    if (type === 'ol') {\n      bullet = listNum.toString() + '. ';\n    } else {\n      bullet = '- ';\n    }\n\n    // parse list item\n    txt += bullet + showdown.subParser('makeMarkdown.listItem')(listItems[i], globals);\n    ++listNum;\n  }\n\n  // add comment at the end to prevent consecutive lists to be parsed as one\n  txt += '\\n<!-- -->\\n';\n  return txt.trim();\n});\n","showdown.subParser('makeMarkdown.listItem', function (node, globals) {\n  'use strict';\n\n  var listItemTxt = '';\n\n  var children = node.childNodes,\n      childrenLenght = children.length;\n\n  for (var i = 0; i < childrenLenght; ++i) {\n    listItemTxt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n  }\n  // if it's only one liner, we need to add a newline at the end\n  if (!/\\n$/.test(listItemTxt)) {\n    listItemTxt += '\\n';\n  } else {\n    // it's multiparagraph, so we need to indent\n    listItemTxt = listItemTxt\n      .split('\\n')\n      .join('\\n    ')\n      .replace(/^ {4}$/gm, '')\n      .replace(/\\n\\n+/g, '\\n\\n');\n  }\n\n  return listItemTxt;\n});\n","\n\nshowdown.subParser('makeMarkdown.node', function (node, globals, spansOnly) {\n  'use strict';\n\n  spansOnly = spansOnly || false;\n\n  var txt = '';\n\n  // edge case of text without wrapper paragraph\n  if (node.nodeType === 3) {\n    return showdown.subParser('makeMarkdown.txt')(node, globals);\n  }\n\n  // HTML comment\n  if (node.nodeType === 8) {\n    return '<!--' + node.data + '-->\\n\\n';\n  }\n\n  // process only node elements\n  if (node.nodeType !== 1) {\n    return '';\n  }\n\n  var tagName = node.tagName.toLowerCase();\n\n  switch (tagName) {\n\n    //\n    // BLOCKS\n    //\n    case 'h1':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 1) + '\\n\\n'; }\n      break;\n    case 'h2':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 2) + '\\n\\n'; }\n      break;\n    case 'h3':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 3) + '\\n\\n'; }\n      break;\n    case 'h4':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 4) + '\\n\\n'; }\n      break;\n    case 'h5':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 5) + '\\n\\n'; }\n      break;\n    case 'h6':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 6) + '\\n\\n'; }\n      break;\n\n    case 'p':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.paragraph')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'blockquote':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.blockquote')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'hr':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.hr')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'ol':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ol') + '\\n\\n'; }\n      break;\n\n    case 'ul':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ul') + '\\n\\n'; }\n      break;\n\n    case 'precode':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.codeBlock')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'pre':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.pre')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'table':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.table')(node, globals) + '\\n\\n'; }\n      break;\n\n    //\n    // SPANS\n    //\n    case 'code':\n      txt = showdown.subParser('makeMarkdown.codeSpan')(node, globals);\n      break;\n\n    case 'em':\n    case 'i':\n      txt = showdown.subParser('makeMarkdown.emphasis')(node, globals);\n      break;\n\n    case 'strong':\n    case 'b':\n      txt = showdown.subParser('makeMarkdown.strong')(node, globals);\n      break;\n\n    case 'del':\n      txt = showdown.subParser('makeMarkdown.strikethrough')(node, globals);\n      break;\n\n    case 'a':\n      txt = showdown.subParser('makeMarkdown.links')(node, globals);\n      break;\n\n    case 'img':\n      txt = showdown.subParser('makeMarkdown.image')(node, globals);\n      break;\n\n    default:\n      txt = node.outerHTML + '\\n\\n';\n  }\n\n  // common normalization\n  // TODO eventually\n\n  return txt;\n});\n","showdown.subParser('makeMarkdown.paragraph', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n  }\n\n  // some text normalization\n  txt = txt.trim();\n\n  return txt;\n});\n","showdown.subParser('makeMarkdown.pre', function (node, globals) {\n  'use strict';\n\n  var num  = node.getAttribute('prenum');\n  return '<pre>' + globals.preList[num] + '</pre>';\n});\n","showdown.subParser('makeMarkdown.strikethrough', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '~~';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '~~';\n  }\n  return txt;\n});\n","showdown.subParser('makeMarkdown.strong', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '**';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '**';\n  }\n  return txt;\n});\n","showdown.subParser('makeMarkdown.table', function (node, globals) {\n  'use strict';\n\n  var txt = '',\n      tableArray = [[], []],\n      headings   = node.querySelectorAll('thead>tr>th'),\n      rows       = node.querySelectorAll('tbody>tr'),\n      i, ii;\n  for (i = 0; i < headings.length; ++i) {\n    var headContent = showdown.subParser('makeMarkdown.tableCell')(headings[i], globals),\n        allign = '---';\n\n    if (headings[i].hasAttribute('style')) {\n      var style = headings[i].getAttribute('style').toLowerCase().replace(/\\s/g, '');\n      switch (style) {\n        case 'text-align:left;':\n          allign = ':---';\n          break;\n        case 'text-align:right;':\n          allign = '---:';\n          break;\n        case 'text-align:center;':\n          allign = ':---:';\n          break;\n      }\n    }\n    tableArray[0][i] = headContent.trim();\n    tableArray[1][i] = allign;\n  }\n\n  for (i = 0; i < rows.length; ++i) {\n    var r = tableArray.push([]) - 1,\n        cols = rows[i].getElementsByTagName('td');\n\n    for (ii = 0; ii < headings.length; ++ii) {\n      var cellContent = ' ';\n      if (typeof cols[ii] !== 'undefined') {\n        cellContent = showdown.subParser('makeMarkdown.tableCell')(cols[ii], globals);\n      }\n      tableArray[r].push(cellContent);\n    }\n  }\n\n  var cellSpacesCount = 3;\n  for (i = 0; i < tableArray.length; ++i) {\n    for (ii = 0; ii < tableArray[i].length; ++ii) {\n      var strLen = tableArray[i][ii].length;\n      if (strLen > cellSpacesCount) {\n        cellSpacesCount = strLen;\n      }\n    }\n  }\n\n  for (i = 0; i < tableArray.length; ++i) {\n    for (ii = 0; ii < tableArray[i].length; ++ii) {\n      if (i === 1) {\n        if (tableArray[i][ii].slice(-1) === ':') {\n          tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii].slice(-1), cellSpacesCount - 1, '-') + ':';\n        } else {\n          tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount, '-');\n        }\n      } else {\n        tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount);\n      }\n    }\n    txt += '| ' + tableArray[i].join(' | ') + ' |\\n';\n  }\n\n  return txt.trim();\n});\n","showdown.subParser('makeMarkdown.tableCell', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (!node.hasChildNodes()) {\n    return '';\n  }\n  var children = node.childNodes,\n      childrenLength = children.length;\n\n  for (var i = 0; i < childrenLength; ++i) {\n    txt += showdown.subParser('makeMarkdown.node')(children[i], globals, true);\n  }\n  return txt.trim();\n});\n","showdown.subParser('makeMarkdown.txt', function (node) {\n  'use strict';\n\n  var txt = node.nodeValue;\n\n  // multiple spaces are collapsed\n  txt = txt.replace(/ +/g, ' ');\n\n  // replace the custom ¨NBSP; with a space\n  txt = txt.replace(/¨NBSP;/g, ' ');\n\n  // \", <, > and & should replace escaped html entities\n  txt = showdown.helper.unescapeHTMLEntities(txt);\n\n  // escape markdown magic characters\n  // emphasis, strong and strikethrough - can appear everywhere\n  // we also escape pipe (|) because of tables\n  // and escape ` because of code blocks and spans\n  txt = txt.replace(/([*_~|`])/g, '\\\\$1');\n\n  // escape > because of blockquotes\n  txt = txt.replace(/^(\\s*)>/g, '\\\\$1>');\n\n  // hash character, only troublesome at the beginning of a line because of headers\n  txt = txt.replace(/^#/gm, '\\\\#');\n\n  // horizontal rules\n  txt = txt.replace(/^(\\s*)([-=]{3,})(\\s*)$/, '$1\\\\$2$3');\n\n  // dot, because of ordered lists, only troublesome at the beginning of a line when preceded by an integer\n  txt = txt.replace(/^( {0,3}\\d+)\\./gm, '$1\\\\.');\n\n  // +, * and -, at the beginning of a line becomes a list, so we need to escape them also (asterisk was already escaped)\n  txt = txt.replace(/^( {0,3})([+-])/gm, '$1\\\\$2');\n\n  // images and links, ] followed by ( is problematic, so we escape it\n  txt = txt.replace(/]([\\s]*)\\(/g, '\\\\]$1\\\\(');\n\n  // reference URIs must also be escaped\n  txt = txt.replace(/^ {0,3}\\[([\\S \\t]*?)]:/gm, '\\\\[$1]:');\n\n  return txt;\n});\n","import {Query} from './url-format';\n\n/** Information describing what page we are currently on, which may impact resolution. */\nexport type Context = Query;\n\n/**\n * A thing that lazily looks up information about game objects, with possibly different\n * results based on user settings or the current page URL.\n *\n * E.g. the site uses Resolvers to resolve names of instructions, links to various game entities,\n * and tooltips for crossrefs.  E.g. when the site wants to know what name to display for a crossref,\n * it asks the name resolver to resolve e.g. `ref:anm:posTime`.  First it will find that there is a\n * function associated with `ref:` for crossref names, and that function will find that a function\n * was registered for `anm:`.\n */\nexport interface Resolver<Out> {\n  /**\n   * Get the value for a key from the given context.\n   */\n  getNow(key: string, ctx: Context): Out | null;\n}\n\n/**\n * Resolver that decides what to do based on the part before the first colon.\n *\n * E.g. the resolver for names calls one function for 'anm:' keys and another for 'ref:' keys.\n */\nexport class PrefixResolver<Out> implements Resolver<Out> {\n  private map: Record<string, (key: string, c: Context) => Out | null>;\n\n  constructor() {\n    this.map = {};\n  }\n\n  getNow(key: string, context: Context) {\n    const [pre, suff] = key.split(/:(.*)/);\n    if (suff === undefined) return null;\n\n    const func = this.map[pre];\n    if (func) return func(suff, context);\n    return null;\n  }\n\n  /**\n   * Assign a function to a handle keys with the given prefix followed by a colon.\n   *\n   * The function will be supplied the part of the key after the colon.\n   * @param prefix Prefix, without colon.\n   */\n  registerPrefix(\n      prefix: string,\n      func: (suff: string, ctx: Context) => Out | null,\n  ): void;\n\n  /** Assign another resolver to a handle keys with the given prefix followed by a colon. */\n  registerPrefix(prefix: string, resolver: Resolver<Out>): void;\n\n  registerPrefix(prefix: string, arg: unknown) {\n    if (prefix.includes(':')) {\n      throw new Error(`invalid prefix '${prefix}'`);\n    }\n\n    if ((arg as any).getNow) {\n      this.map[prefix] = (ref, c) => (arg as any).getNow(ref, c);\n    } else {\n      this.map[prefix] = arg as any;\n    }\n  }\n}\n\n/**\n * Type that handles updating of names of things like ANM instructions.\n *\n * This type exists to allow the names in any DOM subtree to be updated in\n * response to a changed anmmap, or in response to being viewed from a different\n * page (so that e.g. a disambiguating \"v8:\" prefix can be added).\n */\nclass NameResolver extends PrefixResolver<string> {\n  /**\n   * Creates an HTML placeholder span which can be updated to contain the\n   * current name at any time using transformHtml.\n   */\n  getHtml(key: string): string {\n    return /* html */`<span data-name=\"${key}\">${key}</span>`;\n  }\n\n  /**\n   * Finds every node in the DOM created by getHtml and replaces its textual\n   * content with the name assigned to that key.  This is used to implement\n   * display of names from eclmaps and etc.\n   *\n   * @return $root, modified in-place.\n   */\n  transformHtml($root: HTMLElement, context: Context): HTMLElement {\n    for (const $elem of $root.querySelectorAll<HTMLElement>('[data-name]')) {\n      $elem.textContent = this.getInnerText($elem.dataset.name!, context);\n    }\n    return $root;\n  }\n\n  private getInnerText(key: string, context: Context) {\n    const name = this.getNow(key, context);\n    return name ? name : `NAME_ERROR(${key})`;\n  }\n}\n\n/**\n * Type that handles URL generation and updating.\n *\n * What do I mean by \"updating URLs\"?\n * For instance, copyParentVars on the ANM instruction table might want to\n * link to variable 10033. If you are currently on the table for game 15,\n * it should send you to the var table for game 15 and not 17. Similarly,\n * if you are on the table for game 13 (which does not have 10033), it should\n * send you to one of the games that do have it.\n */\nclass LinkResolver extends PrefixResolver<string> {\n  /**\n   * Wraps HTML text in an anchor element that transformHtml can later update\n   * to potentially link somewhere.\n   */\n  wrapHtml(key: string, html: string): string {\n    return /* html */`<a data-link=\"${key}\" class=\"nolink\">${html}</a>`;\n  }\n  /**\n   * Recursively finds every node in the DOM that was created by wrapHtml\n   * and updates (inserts, modifies, or deletes) the href attribute.\n   *\n   * @return $root, modified in-place.\n   */\n  transformHtml($root: HTMLElement, context: Context): HTMLElement {\n    for (const $elem of $root.querySelectorAll<HTMLAnchorElement>('[data-link]')) {\n      const url = this.getNow($elem.dataset.link!, context);\n      if (url != null) {\n        $elem.href = url;\n        $elem.classList.remove('nolink');\n      } else {\n        $elem.removeAttribute('href');\n        $elem.classList.add('nolink');\n      }\n    }\n    return $root;\n  }\n}\n\nexport const globalNames = new NameResolver();\nexport const globalLinks = new LinkResolver();\n","/**\n * A game number as a string with no period, with a leading 0 for numbers below 10, e.g. \"14\", \"125\", \"095\".\n *\n * This representation is chosen to enable simple lexical comparisons using the built-in &lt; and &gt; operators.\n * Because they look like stringified integers, do not use them as object keys if you care about iteration order (use Maps).\n */\nexport type Game = '06' | '07' | '08' | '09' | '095' | '10' | '11' | '12' | '125' | '128' | '13' | '14' | '143' | '15' | '16' | '165' | '17';\n\nexport type GameData = {\n  color: string,\n  thname: string,\n  long: string,\n  short: string,\n};\n\nconst GAMES = new Map<Game, GameData>([\n  ['06', {color: \"#ff5959\", thname: \"TH06\", long: \"Embodiment of Scarlet Devil\", short: \"EoSD\"}],\n  ['07', {color: \"#62ffff\", thname: \"TH07\", long: \"Perfect Cherry Blossom\", short: \"PCB\"}],\n  ['08', {color: \"#c0b6d6\", thname: \"TH08\", long: \"Imperishable Night\", short: \"IN\"}],\n  ['09', {color: \"#ff82c0\", thname: \"TH09\", long: \"Phantasmagoria of Flower View\", short: \"PoFV\"}],\n  ['095', {color: \"#ebc996\", thname: \"TH09.5\", long: \"Shoot the Bullet\", short: \"StB\"}],\n  ['10', {color: \"#fafca2\", thname: \"TH10\", long: \"Mountain of Faith\", short: \"MoF\"}],\n  ['11', {color: \"#adb0e6\", thname: \"TH11\", long: \"Subterranean Animism\", short: \"SA\"}],\n  ['12', {color: \"lightgreen\", thname: \"TH12\", long: \"Undefined Fantastic Object\", short: \"UFO\"}],\n  ['125', {color: \"orange\", thname: \"TH12.5\", long: \"Double Spoiler\", short: \"DS\"}],\n  ['128', {color: \"#40ffeb\", thname: \"TH12.8\", long: \"Great Fairy Wars\", short: \"GFW\"}],\n  ['13', {color: \"lightblue\", thname: \"TH13\", long: \"Ten Desires\", short: \"TD\"}],\n  ['14', {color: \"#cf943a\", thname: \"TH14\", long: \"Double Dealing Character\", short: \"DDC\"}],\n  ['143', {color: \"#ff9eb9\", thname: \"TH14.3\", long: \"Impossible Spell Card\", short: \"ISC\"}],\n  ['15', {color: \"#f6d7ff\", thname: \"TH15\", long: \"Legacy of Lunatic Kingdom\", short: \"LoLK\"}],\n  ['16', {color: \"#63f863\", thname: \"TH16\", long: \"Hidden Star in Four Seasons\", short: \"HSiFS\"}],\n  ['165', {color: \"violet\", thname: \"TH16.5\", long: \"Violet Detector\", short: \"VD\"}],\n  ['17', {color: \"#ff6565\", thname: \"TH17\", long: \"Wily Beast and Weakest Creature\", short: \"WBaWC\"}],\n]);\n\n/** Iterate over all games, ordered ascendingly by number. */\nexport function allGames() {\n  return GAMES.keys();\n}\n\nexport function parseGame(s: string): Game | null {\n  return GAMES.has(s as Game) ? s as Game : null;\n}\n\nexport function gameData(key: Game) {\n  return GAMES.get(key)!;\n}\n","// handles format of URLs on the site\n\nimport {Game, parseGame} from \"./game-names\";\n\n// This is effectively an SPA so we put basically everything in the hash.\n// After the hash is a &-separated list of key=value pairs, much like the normal '?' querystring.\n//\n// The first pair is allowed to have no '=', in which case it is interpreted as the page path\n// (this can be manually specified with 's=' for backcompat).\n//\n// 'a=' is an anchor, which is meant to behave like '#' normally does.\n// Encoding will always prefer to place this at the end of the URL.\n//\n// Each key and value is %-encoded like a URI component except that ',' and '/' are not escaped.\n//\n// The leading number of slashes in the 's=' is irrelevant for the purposes of equality testing.\n//\n// Any other keys else are page-specific.\n\nexport type Query = {\n  s: string, //  page\n  g?: string, //  game number\n  a?: string, //  anchor\n} & Record<string, string>;\n\n/** Default value of 'g' on pages that require one where it might not be set. */\nexport const DEFAULT_GAME = '17';\n\nfunction encodeComponent(s: string): string {\n  return encodeURIComponent(s).replace(/%2C/g, ',').replace(/%2F/g, '/');\n}\nfunction decodeComponent(s: string): string {\n  return decodeURIComponent(s);\n}\n\n/** Get the game most strongly associated with a query. */\nexport function queryGame(q: Query): Game {\n  return parseGame(q.g || '') || DEFAULT_GAME;\n}\n\nexport function parseQuery(s: string): Query {\n  const ret: Record<string, string | null> = {s: null};\n\n  // window.location.hash can be '' so allow hash to be optional\n  if (s.startsWith('#')) {\n    s = s.substring(1);\n  }\n\n  const spl = s.split(\"&\");\n  for (let i = 0; i < spl.length; i++) {\n    if (i === 0 && !spl[i].includes(\"=\")) {\n      // implicit s=\n      ret.s = decodeComponent(spl[i]);\n    } else if (spl[i].includes(\"=\")) {\n      // explicit key=value\n      const [key, val] = spl[i].split(\"=\");\n      if (typeof ret[key] === 'string') {\n        window.console.error('duplicate key in URL', spl[i]);\n      }\n\n      ret[decodeComponent(key)] = decodeComponent(val);\n    } else {\n      window.console.error('ignoring invalid URL component', spl[i]);\n    }\n  }\n\n  // don't distinguish between an empty page versus none being provided\n  if (ret.s === null) ret.s = '';\n  return ret as Query;\n}\n\nexport function queryUrl(query: Query) {\n  let str = encodeComponent(query.s || '');\n  for (const [key, value] of Object.entries(query)) {\n    if (key !== 's' && key !== 'a') {\n      str += `&${encodeComponent(key)}=${encodeComponent(value)}`;\n    }\n  }\n  if (query.a !== undefined) {\n    str += `&a=${encodeComponent(query.a)}`;\n  }\n  return '#' + str;\n}\n\nexport function queryEquals(a: Query, b: Query) {\n  a = Object.assign({}, a, {s: normalizePage(a.s || '')});\n  b = Object.assign({}, b, {s: normalizePage(b.s || '')});\n  return dumbObjectEquals(a, b);\n}\n\n/** Test that two queries have equal `s` fields, upto path normalization. */\nexport function queryPageEquals(a: Query, b: Query) {\n  return normalizePage(a.s || '') === normalizePage(b.s || '');\n}\n\n// Equality check between two objects where all values can be tested using '==='.\nfunction dumbObjectEquals(a: Query, b: Query) {\n  const aProps = Object.getOwnPropertyNames(a);\n  const bProps = Object.getOwnPropertyNames(b);\n\n  if (aProps.length != bProps.length) return false;\n  return aProps.every((propName) => a[propName] === b[propName]);\n}\n\nexport function normalizePage(s: string) {\n  return s.replace(/^\\/*/, '/');\n}\n\n/**\n * Filters a query to just contain things that typically share meaning across\n * different pages.\n */\nexport function queryFilterCommonProps(q: Query) {\n  const {s, g, ...rest} = q;\n  rest; // pretend to use\n\n  const out = {s} as Query;\n  if (g) out.g = g;\n  return out;\n}\n\nexport function queryEqualsUptoAnchor(q1: Query, q2: Query) {\n  const {a: a1, ...rest1} = q1;\n  const {a: a2, ...rest2} = q2;\n  a1; a2; // pretend to use\n\n  return queryEquals(rest1, rest2);\n}\n\n// =============================================================\n\n// Testing framework?  What's that?\n\n// test types\nconst TWO_WAY = '2way';\nconst ENCODE = 'encode';\nconst DECODE = 'decode';\nconst TESTS: ['2way' | 'encode' | 'decode', Query, string][] = [\n  // order of non-special props is preserved\n  [TWO_WAY, {s: 'a/b', x: 'lol', b: 'true', a: 'dummy'}, '#a/b&x=lol&b=true&a=dummy'],\n  [TWO_WAY, {s: 'a/b', b: 'true', x: 'lol', a: 'dummy'}, '#a/b&b=true&x=lol&a=dummy'],\n  // s is always first, a is always last\n  [TWO_WAY, {x: 'lol', a: 'dummy', s: 'a/b', b: 'true'}, '#a/b&x=lol&b=true&a=dummy'],\n  [TWO_WAY, {a: 'dummy', s: 'a/b'}, '#a/b&a=dummy'],\n  // missing a\n  [TWO_WAY, {x: 'lol', s: 'a/b', b: 'true'}, '#a/b&x=lol&b=true'],\n  [TWO_WAY, {s: 'a/b'}, '#a/b'],\n  // missing s (could happen in non-typescript code, and we want to still be robust to it)\n  [ENCODE, {x: 'lol', a: 'dummy', b: 'true'} as unknown as Query, '#&x=lol&b=true&a=dummy'],\n  [ENCODE, {a: 'dummy'} as Query, '#&a=dummy'],\n  [DECODE, {s: '', x: 'lol', a: 'dummy', b: 'true'}, '#&x=lol&b=true&a=dummy'],\n  [DECODE, {s: '', a: 'dummy'}, '#&a=dummy'],\n  [DECODE, {s: '', x: 'lol', a: 'dummy', b: 'true'}, '#x=lol&b=true&a=dummy'],\n  [DECODE, {s: '', a: 'dummy'}, '#a=dummy'],\n  // optional s=\n  [DECODE, {s: 'anm/ins', a: 'dummy'}, '#a=dummy&s=anm/ins'],\n  [DECODE, {s: 'anm/ins'}, '#s=anm/ins'],\n  // comma legal\n  [TWO_WAY, {s: ',,', b: ',,', a: ',,'}, '#,,&b=,,&a=,,'],\n];\n// percent encoding\nconst METACHARS = '&=%#';\nconst METACHARS_ENCODED = '%26%3D%25%23';\nTESTS.push([TWO_WAY, {s: METACHARS, b: METACHARS, a: METACHARS}, `#${METACHARS_ENCODED}&b=${METACHARS_ENCODED}&a=${METACHARS_ENCODED}`]);\n\n// percent-encoded key. Though I certainly hope we'll never need this...\nconst testObj: Query = {s: 'a'};\ntestObj[METACHARS] = 'b';\nTESTS.push([TWO_WAY, testObj, `#a&${METACHARS_ENCODED}=b`]);\n\nlet fail = false;\nfor (const [testKind, query, str] of TESTS) {\n  if (testKind === TWO_WAY || testKind === ENCODE) {\n    if (queryUrl(query) !== str) {\n      fail = true;\n      window.console.error(\"Encoding test failed\", query, queryUrl(query), str);\n    }\n  }\n  if (testKind === TWO_WAY || testKind === DECODE) {\n    if (!queryEquals(parseQuery(str), query)) {\n      fail = true;\n      window.console.error(\"Decoding test failed\", str, parseQuery(str), query);\n    }\n  }\n}\n\nconst EQUALITY_TESTS: [Query, Query, (a: Query, b: Query) => boolean, boolean][] = [\n  // simple cases\n  [{s: 'a/b'}, {s: 'a/b'}, queryEquals, true],\n  [{s: 'a/b', a: 'dummy'}, {s: 'a/b', a: 'dummy'}, queryEquals, true],\n  [{s: 'a/b', x: 'lol', b: 'true', a: 'dummy'}, {s: 'a/b', b: 'true', x: 'lol', a: 'dummy'}, queryEquals, true],\n  // leading slashes in s doesn't matter\n  [{s: '//a/b', a: 'dummy'}, {s: 'a/b', a: 'dummy'}, queryEquals, true],\n  [{s: 'a/b', a: '/dummy'}, {s: 'a/b', a: 'dummy'}, queryEquals, false],\n  // anchor\n  [{s: 'a/b', a: 'dummy'}, {s: 'a/b', a: 'other'}, queryEquals, false],\n  [{s: 'a/b', a: 'dummy'}, {s: 'a/b', a: 'other'}, queryEqualsUptoAnchor, true],\n  [{s: 'a/b', a: 'dummy'}, {s: 'b/b', a: 'other'}, queryEqualsUptoAnchor, false],\n  [{s: 'a/b', b: 'x', a: 'dummy'}, {s: 'a/b', b: 'x', a: 'dummy'}, queryEqualsUptoAnchor, true],\n  [{s: 'a/b', b: 'x', a: 'dummy'}, {s: 'a/b', b: 'y', a: 'dummy'}, queryEqualsUptoAnchor, false],\n];\n\nfor (const [a, b, func, expected] of EQUALITY_TESTS) {\n  if (func(a, b) !== expected) {\n    fail = true;\n    window.console.error('equality test failed', a, b, func);\n  } else if (func(b, a) !== expected) {\n    fail = true;\n    window.console.error('equality test failed', b, a, func);\n  }\n}\n\nif (fail) {\n  throw new Error('url-format tests failed!');\n}\n","\nimport {PrefixResolver, globalNames, globalLinks, Context} from './resolver';\nimport {parseQuery} from './url-format';\n\n/** Metadata necessary to generate a fancy tooltip about a crossref. */\nexport type Tip = {\n  heading?: string, // tip header inner HTML\n  contents: string, // tip body inner HTML\n  omittedInfo: boolean,\n};\n\nexport const globalTips = new PrefixResolver<Tip>();\n\nlet $activeTipTarget: HTMLElement | null = null;\n\nexport function initTips() {\n  document.body.addEventListener(\"mouseover\", tipIn);\n  document.body.addEventListener(\"mouseout\", tipOut);\n  window.addEventListener(\"hashchange\", tipOut);\n}\n\nfunction tipIn(e: MouseEvent) {\n  const context = parseQuery(window.location.hash);\n  const tuple = getAncestorTip(e.target as HTMLElement, context);\n  if (tuple) {\n    const [tip, $targ] = tuple;\n    showTip(tip, $targ, e.target as HTMLElement, context);\n    e.stopImmediatePropagation();\n  }\n}\n\nfunction showTip(tip: Tip, $targ: HTMLElement, $realTarg: HTMLElement, context: Context) {\n  const $tip = document.getElementById('tip');\n  if (!$tip) throw new Error('could not find tip element');\n\n  $activeTipTarget = $realTarg;\n  $tip.style.display = \"block\";\n\n  let tipHtml = `<div class=\"contents\">${tip.contents}</div>`;\n  if (tip.heading) {\n    tipHtml = `<div class=\"heading\">${tip.heading}</div>` + tipHtml;\n  }\n  if (tip.omittedInfo) {\n    tipHtml += `<div class=\"omitted-info\"></div>`;\n  }\n  $tip.innerHTML = tipHtml;\n\n  // Adjust names in the tip to be appropriate for the current page.\n  globalNames.transformHtml($tip, context);\n  globalLinks.transformHtml($tip, context);\n\n  const tipRect = $tip.getBoundingClientRect();\n  const rect = $targ.getBoundingClientRect();\n  const top = rect.top - /* rect.height/2 - */ tipRect.height + window.scrollY;\n  let left = rect.left + rect.width/2 - tipRect.width/2;\n  if (left < 0) left = 0;\n  const max = document.body.offsetWidth - tipRect.width;\n  if (left > max) left = max;\n  $tip.style.top = top + \"px\";\n  $tip.style.left = left + \"px\";\n}\n\nfunction tipOut(e: Event) {\n  if (e.target === $activeTipTarget || e.type === 'hashchange') {\n    const $tip = document.getElementById('tip');\n    if (!$tip) throw new Error('could not find tip element');\n\n    $tip.style.display = \"none\";\n    $activeTipTarget = null;\n  }\n}\n\nfunction getAncestorTip($targ: HTMLElement, context: Context): [Tip, HTMLElement] | null {\n  // Embedded tips are used for short strings with no formatting. ([tip] tags)\n  const [embedText, $embedElem] = getAncestorElementData($targ, \"tip\");\n  // Registered tips are more elaborate and can have headings and etc.\n  const [tipKey, $refElem] = getAncestorElementData($targ, \"tipId\");\n  const referencedTip = globalTips.getNow(tipKey, context);\n\n  // prefer an embedded tip\n  if ($embedElem) {\n    const tip = {contents: embedText, omittedInfo: false};\n    return [tip, $embedElem];\n  }\n  // else use a registered tip\n  if ($refElem && referencedTip) return [referencedTip, $refElem];\n  // no tip\n  return null;\n}\n\nfunction getAncestorElementData($elem: HTMLElement, key: string): [string, HTMLElement | null] {\n  let $cur: HTMLElement | null = $elem;\n  while ($cur) {\n    const value = $cur.dataset[key];\n    if (value !== undefined) {\n      return [value, $cur];\n    }\n    $cur = $cur.parentElement;\n  }\n  return [\"\", null];\n}\n","import {globalNames, globalLinks, PrefixResolver} from './resolver';\nimport {globalTips, Tip} from './tips';\n\nexport type Ref = string;\nexport const globalRefNames = new PrefixResolver<string>();\nexport const globalRefTips = new PrefixResolver<Tip>();\nexport const globalRefLinks = new PrefixResolver<string>();\n\nglobalLinks.registerPrefix('ref', globalRefLinks);\nglobalNames.registerPrefix('ref', globalRefNames);\nglobalTips.registerPrefix('ref', globalRefTips);\n\n/** Get tooltip key of a reference. */\nexport function getRefTipKey(ref: Ref) {\n  return 'ref:' + ref;\n}\n\n/** Get name key of a reference. */\nexport function getRefNameKey(ref: Ref) {\n  return 'ref:' + ref;\n}\n\n/** Get link key of a reference. */\nexport function getRefLinkKey(ref: Ref) {\n  return 'ref:' + ref;\n}\n\n/** Get HTML string to substitute in for a `[ref=...]` markdown tag. */\nexport function getRefHtml({ref, tip, url}: {ref: Ref, tip: boolean, url: boolean}) {\n  let out = globalNames.getHtml(getRefNameKey(ref));\n  out = `<span class=\"isref\">${out}</span>`;\n  if (url) {\n    out = globalLinks.wrapHtml(getRefLinkKey(ref), out);\n  }\n\n  // using <instr> instead of <code> due to https://github.com/showdownjs/showdown/issues/819\n  if (tip) {\n    out = `<instr data-tip-id=\"${getRefTipKey(ref)}\">${out}</instr>`;\n  } else {\n    out = `<instr>${out}</instr>`;\n  }\n  return out;\n}\n","// NOTE: License comment added by ExpHP because it seems kind of necessary\n//       to satisfy the license terms >_>...\n// NOTE: modified to be an ES6 module, added typescript notations\n/*\n  The MIT License (MIT)\n\n  Copyright (c) 2015 Desmond Brand (dmnd@desmondbrand.com)\n\n  Permission is hereby granted, free of charge, to any person obtaining a copy\n  of this software and associated documentation files (the \"Software\"), to deal\n  in the Software without restriction, including without limitation the rights\n  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n  copies of the Software, and to permit persons to whom the Software is\n  furnished to do so, subject to the following conditions:\n\n  The above copyright notice and this permission notice shall be included in\n  all copies or substantial portions of the Software.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n  THE SOFTWARE.\n*/\n\nexport default function dedent(strings: string | TemplateStringsArray) {\n  // $FlowFixMe: Flow doesn't undestand .raw\n  var raw = typeof strings === \"string\" ? [strings] : strings.raw;\n\n  // first, perform interpolation\n  var result = \"\";\n  for (var i = 0; i < raw.length; i++) {\n    result += raw[i].\n    // join lines when there is a suppressed newline\n    replace(/\\\\\\n[ \\t]*/g, \"\").\n\n    // handle escaped backticks\n    replace(/\\\\`/g, \"`\");\n\n    if (i < (arguments.length <= 1 ? 0 : arguments.length - 1)) {\n      result += arguments.length <= i + 1 ? undefined : arguments[i + 1];\n    }\n  }\n\n  // now strip indentation\n  var lines = result.split(\"\\n\");\n  var mindent: number | null = null;\n  lines.forEach(function (l) {\n    var m = l.match(/^(\\s*)\\S+/);\n    if (m) {\n      var indent = m[1].length;\n      if (mindent == null) {\n        // this is the first indented line\n        mindent = indent;\n      } else {\n        mindent = Math.min(mindent, indent);\n      }\n    }\n  });\n\n  if (mindent !== null) {\n    (function () {\n      var m = mindent; // appease Flow\n      result = lines.map(function (l) {\n        return l[0] === \" \" ? l.slice(m) : l;\n      }).join(\"\\n\");\n    })();\n  }\n\n  return result.\n  // dedent eats leading and trailing whitespace too\n  replace(/^[\\n\\r]/, '').\n  // replace(/^[\\n\\r]+/, '').\n  // trimEnd().\n  // handle escaped newlines at the end to ensure they don't get stripped too\n  replace(/\\\\n/g, \"\\n\");\n}\n","import {Converter, ShowdownExtension} from 'showdown';\nimport {setWindowTitle, highlightCode, $scriptContent} from \"./main\";\nimport {getRefHtml} from \"./ref\";\nimport {gameData, parseGame, GameData} from './game-names';\nimport {parseQuery, queryUrl} from './url-format';\nimport dedent from \"./lib/dedent\";\n\nexport const MD: Converter = new Converter({\n  extensions: [showdownExt],\n  tables: true,\n  strikethrough: true,\n  literalMidWordUnderscores: true,\n  noHeaderId: true,\n});\n\ntype ReplaceFunc = (match: string, ...sf: (string | null)[]) => string;\n\n// ShowdownExtension annotates `replace` as `any` for some reason.  Wrap replace funcs\n// inside this to get their arguments automatically inferred as nullable strings.\nfunction sf(f: ReplaceFunc) {\n  return f;\n}\n\nfunction showdownExt() {\n  const code: ShowdownExtension = {\n    type: \"lang\",\n    regex: /\\[code(=.*?)?\\]([^]+?)\\[\\/code\\]/g,\n    replace: sf((_match, lang, content) => {\n      if (lang) {\n        lang = lang.substring(1); // skip '='\n      } else {\n        lang = 'anm';\n      }\n\n      const hljsLang = lang === 'anm' ? 'cpp' : lang;\n\n      let ret = `<div class=\"hljs\">${dedent(highlightCode(content, hljsLang))}</div>`;\n\n      if (lang === 'anm') {\n        // anm has no <, >, &, and *almost* no strings, so let's go to town\n        ret = ret.replace(/<span class=\"hljs-string\">(.*?)<\\/span>/g, (match, content) => content);\n        ret = ret.replace(/&quot;/g, '\"');\n        ret = ret.replace(/&lt;/g, '<');\n        ret = ret.replace(/&gt;/g, '>');\n        // avoid formatting inline-code inside block-code\n        ret = ret.replace(/<(\\/)?instr\\b/g, '<$1span');\n      }\n\n      ret = ret.replace(/\\\\\\\\/g, \"\\\\\");\n      return ret;\n    }),\n  };\n\n  const title = {\n    type: \"lang\",\n    regex: /\\[title=(.*?)\\]\\n/,\n    replace: sf((_match, content) => {\n      setWindowTitle(content);\n      return \"\";\n    }),\n  };\n\n  const c = {\n    type: \"lang\",\n    regex: /\\[c=(.*?)\\]([^]*?)\\[\\/c\\]/g,\n    replace: \"<span style='color: $1'>$2</span>\",\n  };\n\n  const withGame = (gameStr: string, fallback: string, func: (g: GameData) => string) => {\n    const game = parseGame(gameStr);\n    if (game) {\n      return func(gameData(game));\n    } else {\n      console.error(`bad game: '${gameStr}'`);\n      return fallback;\n    }\n  };\n\n  const gc = {\n    type: \"lang\",\n    regex: /\\[gc=([01][0-9]*?)\\]([^]*?)\\[\\/gc\\]/g,\n    replace: sf((match, gameStr, txt) => withGame(gameStr!, match, (data) => {\n      return /* html */`<span style=\"color: ${data.color}\">${txt}</span>`;\n    })),\n  };\n\n  const game = {\n    type: \"lang\",\n    regex: /\\[game=([01][0-9]*?)\\]/g,\n    replace: sf((match, gameStr) => withGame(gameStr!, match, (data) => {\n      return `[gc=${gameStr}]${data.short}[/gc]`;\n    })),\n  };\n  const gameTh = {\n    type: \"lang\",\n    regex: /\\[game-th=([01][0-9]*?)\\]/g,\n    replace: sf((match, gameStr) => withGame(gameStr!, match, (data) => {\n      return `[gc=${gameStr}]${data.thname}[/gc]`;\n    })),\n  };\n  const gameNum = {\n    type: \"lang\",\n    regex: /\\[game-num=([01][0-9]*?)\\]/g,\n    replace: sf((match, gameStr) => withGame(gameStr!, match, (data) => {\n      return `[gc=${gameStr}]${data.thname.substring(2)}[/gc]`;\n    })),\n  };\n  const gameThLong = {\n    type: \"lang\",\n    regex: /\\[game-thlong=([01][0-9]*?)\\]/g,\n    replace: sf((match, gameStr) => withGame(gameStr!, match, (data) => {\n      return `[gc=${gameStr}]${data.thname} ~ ${data.long}[/gc]`;\n    })),\n  };\n  const gameLong = {\n    type: \"lang\",\n    regex: /\\[game-long=([01][0-9]*?)\\]/g,\n    replace: sf((match, gameStr) => withGame(gameStr!, match, (data) => {\n      return `[gc=${gameStr}]${data.long}[/gc]`;\n    })),\n  };\n\n  const script = {\n    type: \"lang\",\n    regex: /\\[script\\]([^]*?)\\[\\/script\\]/g,\n    replace: sf((_match, content) => {\n      const $script = document.createElement(\"script\");\n      $script.innerHTML = content!;\n      $scriptContent.appendChild($script);\n      return \"\";\n    }),\n  };\n\n  const ref = {\n    type: \"lang\",\n    regex: /\\[ref=(.*?)\\]/g,\n    replace: sf((match, ref) => {\n      const html = getRefHtml({ref: ref!, tip: true, url: true});\n      if (html == null) return `\\`${match}\\``;\n\n      return html;\n    }),\n  };\n\n  const refNotip = {\n    type: \"lang\",\n    regex: /\\[ref-notip=(.*?)\\]/g,\n    replace: sf((match, ref) => {\n      const html = getRefHtml({ref: ref!, tip: false, url: true});\n      if (html == null) return `\\`${match}\\``;\n\n      return html;\n    }),\n  };\n\n  const more = {\n    type: \"lang\",\n    regex: /\\[more\\]([^]*?)\\[\\/more\\]/g,\n    replace: sf((_match, content) => {\n      // outer <div> is to prevent showdown from putting the anchor tag inside a <p>, where\n      // it would no longer be an adjacent sibling to the inner div.\n      return `<div><a class='show-more'></a><div>${MD.makeHtml(content!)}</div></div>`;\n    }),\n  };\n\n  const tip = {\n    type: \"lang\",\n    regex: /\\[tip=([^]*?)\\]([^]*?)\\[\\/tip\\]/g,\n    replace: `<span data-tip='$1' class='tip-deco'>$2</span>`,\n  };\n\n  const tipNodeco = {\n    type: \"lang\",\n    regex: /\\[tip-nodeco=(.*?)\\]([^]*?)\\[\\/tip-nodeco\\]/g,\n    replace: `<span data-tip='$1'>$2</span>`,\n  };\n\n  const headlessTable = {\n    type: \"lang\",\n    regex: /\\[headless-table\\]([^]*?)\\[\\/headless-table\\]/g,\n    replace: sf((_match, tableMd) => {\n      // need to handle inner markdown early since MD is disabled in block elements\n      const tableHtml = MD.makeHtml(tableMd!);\n      return `<div class=\"headless-table\">${tableHtml}</div>`;\n    }),\n  };\n\n  const wip = {\n    type: \"lang\",\n    regex: /\\[wip(?:=([012]))?\\]([^]*?)\\[\\/wip\\]/g,\n    replace: sf((_match, severity, content) => {\n      if (severity == null) {\n        severity = \"1\";\n      }\n      return `<span data-wip=\"${severity}\">${content}</span>`;\n    }),\n  };\n\n  // used to de-emphasize so that I don't abuse [wip=2] for this\n  const weak = {\n    type: \"lang\",\n    regex: /\\[weak\\]([^]*?)\\[\\/weak\\]/g,\n    replace: '<span class=\"weak\">$1</span>',\n  };\n\n  const footRef = {\n    type: \"lang\",\n    regex: /\\[foot-ref=([^\\]]+)\\]/g,\n    replace: sf((_match, id) => {\n      const query = parseQuery(window.location.hash);\n      query.a = `footnote-${id}`;\n      return `<sup class=\"footnote link\"><a href=\"${queryUrl(query)}\">${id}</a></sup>`;\n    }),\n  };\n\n  const footDef = {\n    type: \"lang\",\n    regex: /\\[foot-def=([^\\]]+)\\]/g,\n    replace: '<sup class=\"footnote def\" id=\"footnote-$1\">$1</sup>',\n  };\n\n  const tableFootnotes = {\n    type: \"lang\",\n    regex: /\\[table-footnotes, *ncols=([0-9]+)\\]([^]*?)\\[\\/table-footnotes\\]/g,\n    replace: sf((_match, ncolsStr, content) => {\n      // Ultimately we want to put the contents in a tfoot in the above table, but we have\n      // to wait until the table has been parsed.  For now, we'll render the contents into a\n      // div right below the table, and move it where it belongs as a post-processing step.\n      return `<div class=\"tfoot\" data-ncols=\"${ncolsStr}\">${MD.makeHtml(content!)}</div>`;\n    }),\n  };\n\n  return [\n    more, ref, refNotip, headlessTable, code, title, c, tableFootnotes,\n    game, gameTh, gameThLong, gameNum, gameLong, script, tip, tipNodeco, wip, weak,\n    footRef, footDef,\n    gc, // must be after things that use it (e.g. game)\n  ];\n}\n\n/**\n * Perform postprocessing on markdown that is only feasible after conversion to HTML and\n * being parsed into a DOM tree.\n *\n * Because showdown primarily operates on strings, code that uses the markdown converter\n * will need to find a place to call this after all markdown conversion is finished and\n * the HTML has been parsed into elements.\n * */\nexport function postprocessConvertedMarkdown($root: HTMLElement) {\n  // Add callbacks for things like [more] in showdown generated output.\n  for (const $elem of $root.querySelectorAll<HTMLElement>('.show-more')) {\n    $elem.addEventListener('click', () => $elem.classList.toggle('expanded'));\n  }\n\n  // This is a bit fragile and depends on how the markdown engine handles a div on the next line\n  // after a GHFM table.  Currently, showdown leaves it undisturbed after the table.\n  for (const $div of $root.querySelectorAll<HTMLElement>('div.tfoot')) {\n    const $table = $div.previousElementSibling;\n    if ($table?.tagName !== 'TABLE') {\n      console.error(\"can't find table for table footer, did markdown output change?\");\n      continue;\n    }\n\n    // Because Showdown didn't know this was table cell text when it converted it, it will have wrapped\n    // any non-block content in a <p> tag.  Eliminate that so we don't have to fix its spacing.\n    if ($div!.children.length === 1) {\n      let $p;\n      if ($p = $div.querySelector(':scope > p')) {\n        $div.removeChild($p);\n        $div.append(...$p.childNodes);\n      }\n    }\n\n    $div.parentElement!.removeChild($div);\n    const $tfoot = document.createElement('tfoot');\n    $tfoot.innerHTML = `<tr><td colspan='${$div.dataset.ncols}'></td></tr>`;\n    $tfoot.querySelector('td')!.append(...$div.childNodes);\n\n    // Thankfully, in HTML 5, tfoot goes at the end, unlike in HTML 4 where this would be much more complicated...\n    $table.appendChild($tfoot);\n  }\n}\n","export class Eclmap {\n  constructor(txt) {\n    this.kind = null;\n\n    this.ins = new Map();\n    this.timeline_ins = new Map();\n    this.var = new Map();\n    this.ins_sig = new Map();\n    this.timeline_ins_sig = new Map();\n    this.var_types = new Map();\n\n    this.currentSeqmap = null;\n    this.ident = 0;\n\n    txt = txt.replace(/\\r/g, \"\");\n    this.file = txt.split(\"\\n\");\n    this.strtok_tmp = \"\";\n    this.line = 0;\n    this.parse();\n  }\n  getMnemonic(num) {\n    const ent = this.seqmapGet(this.ins, num);\n    return ent !== null ? ent : null;\n  }\n  getGlobal(num) {\n    const ent = this.seqmapGet(this.var, num);\n    return ent !== null ? ent : null;\n  }\n  opcodes() {\n    return this.ins.keys();\n  }\n  globalNums() {\n    return this.var.keys();\n  }\n\n  err(txt) {\n    throw new Error(`eclmap parse error at line ${this.line}: ${txt}`);\n  }\n  fgets() {\n    ++this.line;\n    if (this.file.length == 0) return null;\n    return this.file.splice(0, 1)[0];\n  }\n  strtok(str, delim) {\n    if (str != null) this.strtok_tmp = str;\n    let pos = 0;\n    while (this.strtok_tmp.length > pos && delim.indexOf(this.strtok_tmp[pos]) > -1) ++pos;\n\n    this.strtok_tmp = this.strtok_tmp.substring(pos);\n    pos = 0;\n    while (this.strtok_tmp.length > pos && delim.indexOf(this.strtok_tmp[pos]) == -1) ++pos;\n\n    const ret = this.strtok_tmp.substring(0, pos);\n    this.strtok_tmp = this.strtok_tmp.substring(pos);\n    return ret;\n  }\n  parse() {\n    const magic = this.fgets();\n    if (magic == \"!eclmap\") {\n      this.kind = \"ecl\";\n      this.parseNew(magic);\n    } else if (magic == \"!anmmap\") {\n      this.kind = \"anm\";\n      this.parseNewAnm(magic);\n    } else {\n      this.err(`map file has bad magic: ${magic}`);\n      this.kind = null;\n    }\n  }\n\n  control(arg) {\n    switch (arg) {\n      case \"!ins_names\":\n        this.ident = 1;\n        this.currentSeqmap = this.ins;\n        break;\n      case \"!ins_signatures\":\n        this.ident = 0;\n        this.currentSeqmap = this.ins_sig;\n        break;\n      case \"!gvar_names\":\n        this.ident = 1;\n        this.currentSeqmap = this.var;\n        break;\n      case \"!gvar_types\":\n        this.ident = 0;\n        this.currentSeqmap = this.var_types;\n        break;\n      case \"!timeline_ins_names\":\n        this.ident = 1;\n        this.currentSeqmap = this.timeline_ins;\n        break;\n      case \"!timeline_ins_signatures\":\n        this.ident = 0;\n        this.currentSeqmap = this.timeline_ins_sig;\n        break;\n      default:\n        this.err(`unknown control line: ${arg}`);\n        return 1;\n    }\n    return 0;\n  }\n\n  isKeyword(str) {\n    if (this.kind === \"ecl\") {\n      return [\n        \"anim\", \"ecli\", \"sub\", \"timeline\",\n        \"var\", \"int\", \"float\", \"void\",\n        \"inline\", \"return\", \"goto\", \"unless\",\n        \"if\", \"else\", \"do\", \"while\",\n        \"times\", \"switch\", \"case\", \"default\",\n        \"break\", \"async\", \"global\", \"sin\",\n        \"cos\", \"sqrt\", \"rad\", \"false\", \"true\",\n      ].indexOf(str) > -1;\n    } else {\n      return false;\n    }\n  }\n\n  validateIdent(str) {\n    if (str.match(/^[a-zA-Z_][a-zA-Z0-9_]*$/) == null) {\n      this.err(`'${str}' isn't a valid identifier`);\n      return 1;\n    }\n    if (str.substring(0, 4) === \"ins_\") {\n      this.err(\"mnemonic can't start with ins_\");\n      return 1;\n    }\n    if (this.isKeyword(str)) {\n      this.err(`'${str}' is a keyword, ignoring`);\n      return 1;\n    }\n    return 0;\n  }\n\n  validateType(str) {\n    if (str !== \"$\" && str !== \"%\") {\n      this.err(`unknown type '${str}'`);\n      return 1;\n    }\n    return 0;\n  }\n\n  validateSignature(str) {\n    // not implemented\n    return 0;\n  }\n\n  set(num, name) {\n    if (this.ident) {\n      if (this.validateIdent(name)) return 1;\n    } else if (this.currentSeqmap == this.globals_types) {\n      if (this.validateType(name)) return 1;\n    } else {\n      if (this.validateSignature(name)) return 1;\n    }\n    this.seqmapSet(this.currentSeqmap, num, name);\n  }\n\n  parseNew(magic) {\n    this.control(\"!ins_names\"); // default\n    this.seqmapLoad(\"!eclmap\", this.set.bind(this), this.control.bind(this), magic);\n  }\n\n  parseNewAnm(magic) {\n    this.control(\"!ins_names\"); // default\n    this.seqmapLoad(\"!anmmap\", this.set.bind(this), this.control.bind(this), magic);\n  }\n\n  seqmapLoad(magic, set, control, line) {\n    if (line != magic) {\n      this.err(\"invalid magic\");\n      return;\n    }\n    while ((line = this.fgets()) != null) {\n      // Remove comments.\n      line = line.split(\"#\")[0];\n\n      let token = this.strtok(line, \" \\t\\n\");\n      if (!token) continue; // 0 tokens = empty line\n\n      if (token[0] === \"!\") {\n        control(token);\n        continue;\n      }\n\n      const num = parseInt(token);\n      if (isNaN(num)) {\n        this.err(\"key token is not a number\");\n        return;\n      }\n\n      token = this.strtok(null, \" \\t\\n\");\n      if (!token) {\n        this.err(\"not enough tokens\");\n        return;\n      }\n\n      if (token === \"_\") token = \"\"; // specify empty strings with _\n\n      set(num, token);\n    }\n  }\n\n  seqmapSet(seqmap, num, name) {\n    seqmap.set(num, name);\n  }\n\n  seqmapGet(seqmap, num) {\n    const out = seqmap.get(num) || null;\n    return out === undefined ? null : out;\n  }\n\n  seqmapFind(seqmap, name) {\n    for (const [key, value] of seqmap.entries()) {\n      if (value === name) return [key, value];\n    }\n    return null;\n  }\n}\n","import {Game, allGames} from '../game-names';\n\nexport type AnmVersion = 'v0' | 'v2' | 'v3' | 'v4' | 'v8';\nexport type SupportedAnmVersion = AnmVersion;\nexport const SUPPORTED_ANM_VERSIONS: SupportedAnmVersion[] = ['v0', 'v2', 'v3', 'v4', 'v8'];\nexport const GAME_ANM_VERSIONS: {[k in Game]: AnmVersion} = {\n  \"06\": 'v0',\n  \"07\": 'v2',\n  \"08\": 'v3', \"09\": 'v3',\n  \"095\": 'v4', \"10\": 'v4', \"11\": 'v4',\n  \"12\": 'v4', \"125\": 'v4', \"128\": 'v4',\n  \"13\": 'v8', \"14\": 'v8', \"143\": 'v8', \"15\": 'v8',\n  \"16\": 'v8', \"165\": 'v8', \"17\": 'v8',\n};\n\nexport type AnmVersionData = {\n  minGame: Game,\n  maxGame: Game,\n};\n\nexport const ANM_VERSION_DATA: {[k in AnmVersion]: AnmVersionData} = {} as any;\nfor (const game of allGames()) {\n  const version = GAME_ANM_VERSIONS[game];\n  if (ANM_VERSION_DATA[version] === undefined) {\n    ANM_VERSION_DATA[version] = {minGame: game, maxGame: game};\n  }\n  ANM_VERSION_DATA[version].maxGame = game;\n}\n","import {MD} from './markdown';\nimport {Eclmap} from './anm/eclmap';\nimport dedent from './lib/dedent';\nimport {SupportedAnmVersion, SUPPORTED_ANM_VERSIONS, ANM_VERSION_DATA} from './anm/versions';\nimport {readFileSync} from \"fs\";\n\nconst LOCAL_STORAGE_KEY_ANMMAP = 'anmmap';\n\n// --------------------------------------------------------------\n// API for loading settings so they can be used from javascript code.\n\n/** A cache so that getCurrentAnmmaps can be called even in reasonably tight loops. */\nlet currentAnmmaps: LoadedAnmMaps | null = null;\n\n/** Get objects with all info from the user's configured anmmaps. */\nexport function getCurrentAnmmaps() {\n  if (currentAnmmaps == null) {\n    const out = storageLoadAnmmaps();\n    currentAnmmaps = out;\n    return out;\n  }\n  return currentAnmmaps;\n}\n\n/** Clear caches for all `getCurrent__` functions. Suitable for use whenever a page is loaded. */\nexport function clearSettingsCache() {\n  currentAnmmaps = null;\n}\n\n// --------------------------------------------------------------\n// Functions that implement the settings page.\n\nexport function initSettings() {\n  (window as any).buildSettingsPage = buildSettingsPage;\n}\n\n/** Selects things on the settings page to match the stored settings. */\nfunction setupSettingsPageInitialState() {\n  resetSettingsPageAnmmapsFromStorage();\n}\n\n/** Generates HTML for the settings page. */\nfunction buildSettingsPage() {\n  buildAnmmapSelector(document.querySelector<HTMLElement>('#upload-anmmaps')!);\n  setupSettingsPageInitialState();\n  setupSettingsPageHooks();\n}\n\n/** Generates HTML for the anmmaps selector. */\nfunction buildAnmmapSelector($div: HTMLElement) {\n  $div.classList.add('map-files');\n  $div.innerHTML = /* HTML */`\n    <div class=\"rows\"></div>\n    <button class='confirm' disabled='true'></button>\n    <div class=\"save-status\"></div>\n  `;\n  const $rows = document.querySelector('.rows')!;\n\n  let rowsHtml = '';\n  for (const version of SUPPORTED_ANM_VERSIONS) {\n    const {minGame, maxGame} = ANM_VERSION_DATA[version];\n\n    let gameRangeStr;\n    if (minGame === maxGame) {\n      gameRangeStr = `TH[game-num=${minGame}]`;\n    } else {\n      gameRangeStr = `TH[game-num=${minGame}]&ndash;[game-num=${maxGame}]`;\n    }\n    rowsHtml += dedent(/* html */`\n      <div class=\"row ${version}\">\n        <div class='col label'>${version} (${gameRangeStr})</div>\n        <div class='col raw'>\n          <input type='radio' id='anmmap-${version}-raw' name='anmmap-${version}'>\n          <label for='anmmap-${version}-raw'></label>\n        </div>\n        <div class='col auto'>\n          <input type='radio' id='anmmap-${version}-auto' name='anmmap-${version}'>\n          <label for='anmmap-${version}-auto'></label>\n        </div>\n        <div class='col file'>\n          <input type='radio' id='anmmap-${version}-file' name='anmmap-${version}'>\n          <label for='anmmap-${version}-file'><input type='file'></label>\n        </div>\n        <div class='col status'></div>\n      </div>\n    `);\n  }\n\n  $rows.innerHTML = MD.makeHtml(rowsHtml);\n}\n\nfunction resetSettingsPageAnmmapsFromStorage() {\n  const $maps = document.querySelector('#upload-anmmaps');\n  if (!$maps) throw new Error('not on settings page!');\n\n  const $rows = $maps.querySelector('.rows')!;\n  for (const $input of $rows.querySelectorAll('input')) {\n    $input.disabled = false;\n  }\n\n  const anmmapSettings = storageReadAnmmapsOrDefault();\n  for (const version of SUPPORTED_ANM_VERSIONS) {\n    const setting = anmmapSettings[version];\n    const $row = $maps.querySelector(`.row.${version}`) as HTMLElement;\n    const {$rawRadio, $autoRadio, $fileRadio, $fileUpload, $status} = getMapSettingsRowStuff($row);\n\n    if (setting === 'raw') {\n      $rawRadio.checked = true;\n      $status.innerHTML = 'using raw names';\n    } else if (setting == 'auto') {\n      $autoRadio.checked = true;\n      $status.innerHTML = 'using default map';\n    } else {\n      $fileRadio.checked = true;\n      $status.innerHTML = 'using stored file';\n    }\n    $fileUpload.disabled = !$fileRadio.checked;\n  }\n  const $confirmButton = $maps.querySelector('button.confirm') as HTMLButtonElement;\n  $confirmButton.disabled = true;\n}\n\n/** Sets up event hooks on the Settings page. */\nfunction setupSettingsPageHooks() {\n  const $maps = document.querySelector('#upload-anmmaps');\n  if (!$maps) throw new Error('not on settings page!');\n\n  const $rows = $maps.querySelector('.rows')!;\n  const $confirmButton = $maps.querySelector('button.confirm') as HTMLButtonElement;\n  for (const $input of $rows.querySelectorAll('input')) {\n    $input.addEventListener('change', () => {\n      for (const $row of $rows.querySelectorAll<HTMLElement>('.row')) {\n        const {$fileRadio, $fileUpload} = getMapSettingsRowStuff($row);\n        $fileUpload.disabled = !$fileRadio.checked;\n      }\n      $confirmButton.disabled = false;\n      setMapsSaveStatus($maps, 'unsaved');\n    });\n  }\n\n  $confirmButton.addEventListener('click', () => {\n    saveNewAnmmapSettingsFromPage().then(\n        () => {},\n        (err) => {\n          window.alert(`Error: ${err}`);\n          resetSettingsPageAnmmapsFromStorage();\n        },\n    );\n  });\n}\n\nfunction getMapSettingsRowStuff($row: HTMLElement) {\n  return {\n    $rawRadio: $row.querySelector('.raw input[type=\"radio\"]') as HTMLInputElement,\n    $autoRadio: $row.querySelector('.auto input[type=\"radio\"]') as HTMLInputElement,\n    $fileRadio: $row.querySelector('.file input[type=\"radio\"]') as HTMLInputElement,\n    $fileUpload: $row.querySelector('.file input[type=\"file\"]') as HTMLInputElement,\n    $status: $row.querySelector('.col.status') as HTMLElement,\n  };\n}\n\nasync function saveNewAnmmapSettingsFromPage() {\n  const $maps = document.querySelector('#upload-anmmaps');\n  if (!$maps) throw new Error('not on settings page!');\n\n  const oldValue = localStorage.getItem(LOCAL_STORAGE_KEY_ANMMAP);\n  try {\n    const anmmapSettings = await readAnmmapSettingsFromPage($maps);\n    localStorage.setItem(LOCAL_STORAGE_KEY_ANMMAP, JSON.stringify(anmmapSettings));\n\n    // Just check to make sure they can be loaded without errors...\n    storageReadAnmmapsOrThrow();\n    setMapsSaveStatus($maps, 'success');\n  } catch (e) {\n    console.error(e);\n    setMapsSaveStatus($maps, 'error');\n    restoreLocalStorageItem(LOCAL_STORAGE_KEY_ANMMAP, oldValue);\n  }\n\n  resetSettingsPageAnmmapsFromStorage();\n}\n\nasync function readAnmmapSettingsFromPage($maps: Element) {\n  const $rows = $maps.querySelector('.rows')!;\n  for (const $input of $rows.querySelectorAll('input')) {\n    $input.disabled = true;\n  }\n\n  // begin with current settings for reason described below.\n  const anmmapSettings = storageReadAnmmapsOrDefault();\n  for (const version of SUPPORTED_ANM_VERSIONS) {\n    const $row = $maps.querySelector(`.row.${version}`) as HTMLElement;\n    const {$rawRadio, $autoRadio, $fileRadio, $fileUpload} = getMapSettingsRowStuff($row);\n\n    if ($rawRadio.checked) anmmapSettings[version] = 'raw';\n    else if ($autoRadio.checked) anmmapSettings[version] = 'auto';\n    else if ($fileRadio.checked) {\n      // If no file was uploaded during the current page visit, it is very likely because\n      // anmmapSettings already contains a loaded file, so we should just keep that.\n      if ($fileUpload.files!.length === 0) continue;\n\n      const text = await readUploadedFile($fileUpload.files![0]);\n      anmmapSettings[version] = parseMapText(text);\n    }\n    loadMapFromSetting(version, anmmapSettings[version]);\n  }\n\n  return anmmapSettings;\n}\n\n/**\n * like localStorage.setItem, but deletes on null instead of stringifying it,\n * with the expectation that the argument previously came from getItem.\n */\nfunction restoreLocalStorageItem(key: string, value: string | null) {\n  if (value == null) localStorage.removeItem(key);\n  else localStorage.setItem(key, value);\n}\n\nfunction setMapsSaveStatus($maps: Element, status: null | 'success' | 'error' | 'unsaved') {\n  const classes = $maps.querySelector('.save-status')!.classList;\n  classes.remove('success');\n  classes.remove('unsaved');\n  classes.remove('error');\n  if (status !== null) {\n    classes.add(status);\n  }\n}\n\n// --------------------------------------------------------------\n// Settings implementation.\n\nexport const DEFAULT_ANMM_TEXT: {[v in SupportedAnmVersion]: string} = {\n  'v0': readFileSync(__dirname + '/../static/eclmap/anmmap/v0.anmm', 'utf8'),\n  'v2': readFileSync(__dirname + '/../static/eclmap/anmmap/v2.anmm', 'utf8'),\n  'v3': readFileSync(__dirname + '/../static/eclmap/anmmap/v2.anmm', 'utf8'),\n  'v4': readFileSync(__dirname + '/../static/eclmap/anmmap/v4.anmm', 'utf8'),\n  'v8': readFileSync(__dirname + '/../static/eclmap/anmmap/v8.anmm', 'utf8'),\n};\n\nexport type LoadedAnmMaps = {[v in SupportedAnmVersion]: LoadedMap};\nexport type AnmMapSettings = {[v in SupportedAnmVersion]: MapSetting};\n\n/** Form of an ECLMap stored in memory. */\nexport type LoadedMap = {ins: NumberMap, vars: NumberMap};\n/** Form of an ECLMap setting that gets JSONified and saved in localStorage. */\nexport type MapSetting = 'raw' | 'auto' | LoadedMap;\nexport type NumberMap = Record<number, string>;\n\n/** Initializes ANM maps, possibly from localStorage. */\nfunction storageLoadAnmmaps(): LoadedAnmMaps {\n  const settings = storageReadAnmmapsOrDefault();\n  const out = {} as Record<SupportedAnmVersion, LoadedMap>;\n  for (const version of SUPPORTED_ANM_VERSIONS) {\n    out[version] = loadMapFromSetting(version, settings[version]);\n  }\n  return out;\n}\n\n/** Get the settings for ANM maps. */\nfunction storageReadAnmmapsOrThrow(): AnmMapSettings {\n  const text = localStorage.getItem('anmmap') || '{}';\n  const json = JSON.parse(text);\n  return parseSettingAnmmapJson(json);\n}\n\nfunction storageReadAnmmapsOrDefault(): AnmMapSettings {\n  const text = localStorage.getItem('anmmap') || '{}';\n  const json = JSON.parse(text);\n  try {\n    return parseSettingAnmmapJson(json);\n  } catch (e) {\n    console.error(`ignoring saved anmmaps due to an error`, e);\n    return {'v0': 'auto', 'v2': 'auto', 'v3': 'auto', 'v4': 'auto', 'v8': 'auto'};\n  }\n}\n\nfunction loadMapFromSetting(version: SupportedAnmVersion, m: MapSetting): LoadedMap {\n  if (m === 'raw') return {ins: {}, vars: {}};\n  if (m === 'auto') return parseMapText(DEFAULT_ANMM_TEXT[version]);\n  return m;\n}\n\nfunction parseMapText(s: string): LoadedMap {\n  const eclmap = new Eclmap(s);\n  const out: LoadedMap = {ins: {}, vars: {}};\n  for (const opcode of eclmap.opcodes()) {\n    out.ins[opcode as number] = eclmap.getMnemonic(opcode);\n  }\n  for (const num of eclmap.globalNums()) {\n    out.vars[num as number] = eclmap.getGlobal(num);\n  }\n  return out;\n}\n\nfunction parseSettingAnmmapJson(x: unknown): AnmMapSettings {\n  if (!(x && typeof x === 'object')) throw new TypeError(`expected object, got ${typeof x}`);\n\n  const xobj = x as Record<SupportedAnmVersion, unknown>;\n  const out = {} as Record<SupportedAnmVersion, MapSetting>;\n  for (const version of SUPPORTED_ANM_VERSIONS) {\n    out[version] = parseStoredMapJson(xobj[version] || 'auto');\n  }\n  return out;\n}\n\nfunction parseStoredMapJson(x: unknown): MapSetting {\n  if (x === 'raw') return x;\n  if (x === 'auto') return x;\n  if (x && typeof x === 'object') {\n    const {ins, vars} = x as {ins?: unknown, vars?: unknown};\n    return {\n      ins: parseNumberMapJson(ins || {}),\n      vars: parseNumberMapJson(vars || {}),\n    };\n  }\n  throw new Error('invalid stored map');\n}\n\nfunction parseNumberMapJson(x: unknown) {\n  if (!(x && typeof x == 'object')) {\n    throw new TypeError(`expected object, got ${typeof x}`);\n  }\n  const out: NumberMap = {};\n  for (const [key, value] of Object.entries(x)) {\n    if (typeof value !== 'string') throw new Error(`expected string, got: ${value}`);\n    const int = parseIntegerIndex(key);\n    out[int] = value;\n  }\n  return out;\n}\n\n// Parse a string to integer, but only if it contains the canonical form of an integer\n// as would be produced by toString.\nfunction parseIntegerIndex(str: string) {\n  const n = Math.floor(Number(str));\n  if (Math.abs(n) === Infinity || n !== n || n < 0) throw new Error(`not a non-negative integer: ${str}`);\n  if (String(n) !== str) throw new Error(`non-canonical form of number: ${str}`);\n  return n;\n}\n\nasync function readUploadedFile(file: File) {\n  return new Promise<string>((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => resolve(reader.result as string);\n    reader.onerror = reject;\n    reader.readAsText(file);\n  });\n}\n","/*\n * GridViewScroll performance rewrite\n * Copyright (c) 2020 Michael Lamparski\n\n * Based on GridViewScroll\n * Copyright (c) 2017 Likol Lee\n\n * Both are released under the MIT license:\n\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n// FIXME: incorrect handling of tables with ids (it gets copied without changing the id)\n// FIXME: bring back undo() and make it possible to call enhance() again when content changes\n//        in a way that invalidates layout.\n\nexport type GridViewScrollOnScroll = (arg: {scrollTop: number, scrollLeft: number}) => any;\nexport type GridViewScrollOptions = {\n    table: HTMLTableElement;\n    /** Set a width as a number (pixels) or percentage. */\n    width?: number | string;\n    /** Set a height as a number (pixels) or percentage. */\n    height?: number | string;\n    /** Derive dimensions from a container element. (takes precedence over `width` and `height`) */\n    container?: HTMLElement;\n    /** Freeze this many header rows. */\n    freezeHeaderRows?: number;\n    /** Freeze this many footer rows. */\n    freezeFooterRows?: number;\n    // FIXME rename to freezeFirstColumns in consideration of RTL\n    /** Freeze this many columns. */\n    freezeLeftColumns?: number;\n    /** Automatically add a class to frozen header <tr> elements. */\n    frozenHeaderCssClass?: string;\n\n    /**\n     * Automatically add a class to frozen footer <tr> elements.\n     *\n     * The footer will be superimposed on top of the table, so it should have an opaque background.\n     * You can use this to help achieve that.\n     * */\n    frozenFooterCssClass?: string;\n\n    /**\n     * Automatically add a class to frozen <td> and <th> elements.\n     *\n     * The frozen will be superimposed on top of the table, so it should have an opaque background.\n     * You can use this to help achieve that.\n     * */\n    frozenLeftCssClass?: string;\n    onscroll?: GridViewScrollOnScroll;\n};\n\ntype InternalOptions = {\n    container?: HTMLElement;\n    width: number | string;\n    height: number | string;\n    freezeHeaderRows: number;\n    freezeLeftColumns: number;\n    freezeFooterRows: number;\n    frozenHeaderCssClass?: string;\n    frozenFooterCssClass?: string;\n    frozenLeftCssClass?: string;\n    onscroll?: GridViewScrollOnScroll;\n};\n\nfunction normalizeOptions(options: GridViewScrollOptions): InternalOptions {\n    return {\n        ...options,\n        freezeHeaderRows: options.freezeHeaderRows || 0,\n        freezeLeftColumns: options.freezeLeftColumns || 0,\n        freezeFooterRows: options.freezeFooterRows || 0,\n        width: options.width == null ? 700 : options.width,\n        height: options.height == null ? 350 : options.height,\n    };\n}\n\n/** Used to identify existing helpers so that `ensureHelperDivs` is idempotent. */\nconst CLASS_SIZE_HELPER = 'GridViewScroll-Helper';\n\n// Created DOM structure is like the followingL\n//\n// <div class=\"${CLASS_CONTAINER}\">\n//   <div class=\"${CLASS_SUPERROW_HEADER}\">         // Header is outside the content so that the vertical scrollbar doesn't extend into it.\n//     <div class=\"${CLASS_SUBTABLE_FULL}\"></div>   // Full header rows.\n//     <div class=\"${CLASS_SUBTABLE_LEFT}\"></div>   // Fixed copy of frozen left header cells.\n//   </div>\n//   <div class=\"${CLASS_SUPERROW_CONTENT}\">        // Original table, with overflow: auto and header rows set to display:none.\n//     <div class=\"${CLASS_SUBTABLE_FULL}\"></div>   // Full non-header rows.\n//     <div class=\"${CLASS_SUBTABLE_LEFT}\"></div>   // Fixed copy of frozen left non-header cells.\n//     <div class=\"${CLASS_SUPERROW_FOOTER}\">         // Footer is inside content so that horizontal scrollbar is below it.\n//       <div class=\"${CLASS_SUBTABLE_FULL}\"></div>   // Full footer rows.\n//       <div class=\"${CLASS_SUBTABLE_LEFT}\"></div>   // Fixed copy of frozen left footer cells.\n//     </div>\n//   </div>\n// </div>\n\nconst CLASS_CONTAINER = 'GridViewScroll';\nconst CLASS_SUPERROW_HEADER = 'GridViewScroll-Header';\nconst CLASS_SUPERROW_CONTENT = 'GridViewScroll-Content';\nconst CLASS_SUPERROW_FOOTER = 'GridViewScroll-Footer';\nconst CLASS_SUBTABLE_FULL = 'GridViewScroll-Full';\nconst CLASS_SUBTABLE_LEFT = 'GridViewScroll-Left';\nconst CLASS_SUBTABLE_RIGHT = 'GridViewScroll-Right';\nconst CSS_PATH_SUPERROW_HEADER = `:scope > .${CLASS_SUPERROW_HEADER}`;\nconst CSS_PATH_SUPERROW_CONTENT = `:scope > .${CLASS_SUPERROW_CONTENT}`;\nconst CSS_PATH_SUPERROW_FOOTER = `:scope > .${CLASS_SUPERROW_CONTENT} > .${CLASS_SUPERROW_FOOTER}`;\n\ntype SuperRow = 'content' | 'header' | 'footer';\ntype Subtable = 'full' | 'left' | 'right';\n\ntype SuperRowTables = {full: TableElements, left?: TableElements, right?: TableElements};\ntype AllTables = {content: SuperRowTables, header?: SuperRowTables, footer?: SuperRowTables};\n\ntype ContentBasedLayoutInfo = {\n    headerOffsetHeight: number;\n    totalOffsetWidth: number;\n    totalOffsetHeight: number;\n    scrollbarWidth: number;\n};\n\nexport class GridViewScroll {\n    private options: InternalOptions;\n    private mainTable: TableElements;\n    private _rootDiv?: HTMLDivElement;\n    private layoutInfo?: ContentBasedLayoutInfo;\n\n    constructor(options: GridViewScrollOptions) {\n        if (!options.table.parentElement) {\n            throw new Error('table must have a parent element');\n        }\n        this.options = normalizeOptions(options);\n        this.mainTable = getTableElements(options.table);\n    }\n\n    enhance() {\n        // If the user wants to style frozen elements, we must add the classes now before we compute any layout.\n        addUserCssClasses(this.mainTable, this.options);\n\n        // NOTE: Reads layout, then modifies DOM.\n        addSizePreservingHelpers(this.mainTable, this.options);\n\n        // Modify DOM to create divs to hold each subtable.\n        if (!this._rootDiv) {\n            const table = this.mainTable.table;\n            this._rootDiv = table.parentElement!.insertBefore(document.createElement('div'), table);\n            this._rootDiv.classList.add(CLASS_CONTAINER);\n            createDivsForCopies(this._rootDiv, this.options);\n        }\n\n        // Create the frozen table copies and insert each one into its div.\n        const allTables = insertTableCopies(this._rootDiv, this.mainTable, this.options);\n\n        hideRedundantCells(allTables, this.options);\n\n        // NOTE: Forces layout of header.\n        // This couldn't be done earlier for a couple of reasons:\n        // * If border-collapse: collapse, then splitting out the header may create a double-border that\n        //   impacts the total table size.\n        const headerOffsetHeight = this.getTableDiv('header', 'full')?.offsetHeight || 0;\n        const totalOffsetHeight = this.getTableDiv('content', 'full')!.offsetHeight + headerOffsetHeight;\n        const totalOffsetWidth = this.getTableDiv('content', 'full')!.querySelector('table')!.offsetWidth;\n        const scrollbarWidth = getScrollbarWidth();\n        this.layoutInfo = {totalOffsetWidth, totalOffsetHeight, scrollbarWidth, headerOffsetHeight};\n\n        this.resize();\n\n        this.setupEvents();\n    }\n\n    private setupEvents() {\n        const divWithScrollbars = this.getTableDiv('content', 'full')!;\n\n        divWithScrollbars.onscroll = (event: Event) => {\n            const scrollTop = divWithScrollbars.scrollTop;\n            const scrollLeft = divWithScrollbars.scrollLeft;\n\n            let div;\n            if (div = this.getTableDiv('header', 'full')) div.scrollLeft = scrollLeft;\n            if (div = this.getTableDiv('content', 'left')) div.scrollTop = scrollTop;\n            if (div = this.getTableDiv('footer', 'full')) div.scrollLeft = scrollLeft;\n            if (this.options.onscroll) this.options.onscroll({scrollTop, scrollLeft});\n        }\n\n        // Ugh.  This doesn't work very well.\n\n        // if (this.options.forwardWheel) {\n        //     let frozenColumn;\n        //     if (frozenColumn = this.getTableDiv('content', 'left')) {\n        //         frozenColumn.onwheel = (event: WheelEvent) => {\n        //             divWithScrollbars.scrollBy({\n        //                 top: event.deltaY,\n        //                 behavior: 'smooth',\n        //             });\n        //         };\n        //     }\n        // }\n    }\n\n    private getSuperRowDiv(superrow: SuperRow): HTMLElement | null {\n        let superrowPath;\n        if (superrow === 'header') superrowPath = CSS_PATH_SUPERROW_HEADER;\n        else if (superrow === 'footer') superrowPath = CSS_PATH_SUPERROW_FOOTER;\n        else if (superrow === 'content') superrowPath = CSS_PATH_SUPERROW_CONTENT;\n\n        return this._rootDiv?.querySelector(`${superrowPath}`) || null;\n    }\n\n    private getTableDiv(\n        superrow: SuperRow,\n        subtable: Subtable,\n    ): HTMLElement | null {\n        let superrowPath, subtableClass;\n        if (superrow === 'header') superrowPath = CSS_PATH_SUPERROW_HEADER;\n        else if (superrow === 'footer') superrowPath = CSS_PATH_SUPERROW_FOOTER;\n        else if (superrow === 'content') superrowPath = CSS_PATH_SUPERROW_CONTENT;\n\n        if (subtable === 'full') subtableClass = CLASS_SUBTABLE_FULL;\n        else if (subtable === 'left') subtableClass = CLASS_SUBTABLE_LEFT;\n        else if (subtable === 'right') subtableClass = CLASS_SUBTABLE_RIGHT;\n\n        return this._rootDiv?.querySelector(`${superrowPath} > .${subtableClass}`) || null;\n    }\n\n    /**\n     * Get the maximum size that the table can occupy, based on its content.\n     *\n     * Ideally this should be used to set `max-width` and `max-height` on a resizable\n     * container, to prevent the resize grip from visibly \"detaching\" from the table.\n     *\n     * `.enhance()` must be called prior to this.\n     * */\n    maxContainerSize() {\n        if (!this.layoutInfo) {\n            throw new Error('must call .enhance() first');\n        }\n        let {totalOffsetHeight, totalOffsetWidth, scrollbarWidth} = this.layoutInfo;\n        return {\n            width: totalOffsetWidth + scrollbarWidth,\n            height: totalOffsetHeight + scrollbarWidth,\n        };\n    }\n\n    /**\n     * Quickly update the dimensions of the scrollable table's viewports to respond to a change\n     * in e.g. container size.\n     *\n     * This method assumes that the content of the table itself has not changed at all. (or at least,\n     * not in any way that should impact the layout of its cells).\n     * */\n    resize() {\n        let {totalOffsetHeight, totalOffsetWidth, scrollbarWidth, headerOffsetHeight} = this.layoutInfo!;\n\n        // width and height of the total space available for displaying the table.\n        let {width: fullViewWidth, height: fullViewHeight} = computeDimensionsFromOptions(this.mainTable.table, this.options);\n\n        // FIXME: bring back overflow = 'auto', or at least let user specify axes without scrollbars\n        //\n        //   This is a tricky problem.  If we want to determine whether scrollbars will appear we can't just compare\n        //   e.g. clientWidth and scrollWidth because clientWidth will soon be invalidated (that's literally the\n        //   entire point of this function!).\n        //\n        //   The original GridViewScroll kind of had support for it?  It was buggy though, and didn't account for\n        //   \"higher-order interactions\" between scrollbars.  (e.g. imagine you have something perfectly fit to its\n        //   content, then reduce its size along one axis.  When you do this, *both* scrollbars should appear, because\n        //   the introduction of the first one will eat up space on the other axis)\n        //\n        //   ...bleh. It's just not worth it for now.\n        this.getTableDiv('content', 'full')!.style.overflow = 'scroll';\n\n        // ...clipped to prevent scrollbars from visibly detaching from the table when there is excess space on one axis\n        fullViewHeight = Math.min(fullViewHeight, totalOffsetHeight + scrollbarWidth);\n        fullViewWidth = Math.min(fullViewWidth, totalOffsetWidth + scrollbarWidth);\n\n        // width and height of the visible viewport of the 'content/full' subtable, including portions that may be\n        // obscured by the frozen left side or the footer. (one could also say contentViewWidth is the length of the\n        // horizontal scrollbar, and likewise contentViewHeight for the vertical scrollbar).\n        let contentViewWidth = fullViewWidth - scrollbarWidth;\n        let contentViewHeight = fullViewHeight - scrollbarWidth - headerOffsetHeight;\n\n        let div;\n        if (div = this.getSuperRowDiv('header')) {\n            div.style.position = 'relative';\n            div.style.width = `${fullViewWidth}px`;\n        }\n        if (div = this.getSuperRowDiv('content')) {\n            div.style.position = 'relative';\n        }\n        if (div = this.getSuperRowDiv('footer')) {\n            div.style.position = 'absolute';\n            div.style.bottom = `${scrollbarWidth}px`;\n        }\n\n        if (div = this.getTableDiv('header', 'full')) {\n            div.style.overflow = 'hidden';\n            div.style.width = `${contentViewWidth}px`;\n            div.style.left = `0`;\n        }\n        if (div = this.getTableDiv('footer', 'full')) {\n            div.style.overflow = 'hidden';\n            div.style.width = `${contentViewWidth}px`;\n            div.style.left = `0`;\n        }\n\n        if (div = this.getTableDiv('content', 'full')) {\n            div.style.width = `${contentViewWidth}px`;\n            div.style.height = `${fullViewHeight - headerOffsetHeight}px`;\n\n            // Note: The original GridViewScroll did this if and only if *both* scrollbars were active,\n            //       which sounds odd.  Not sure why; git blame reveals little.  Might need testing later.\n            //       (But it doesn't matter right now due to \"overflow: scroll\".)\n            if (getComputedStyle(div, null).direction === 'rtl') {\n                div.style.paddingLeft = `${scrollbarWidth}px`;\n            } else {\n                div.style.paddingRight = `${scrollbarWidth}px`;\n            }\n        }\n\n        if (div = this.getTableDiv('content', 'left')) {\n            div.style.height = `${contentViewHeight}px`;\n        }\n\n        for (const superrow of <SuperRow[]>['header', 'content', 'footer']) {\n            if (div = this.getTableDiv(superrow, 'left')) {\n                div.style.overflow = 'hidden';\n                div.style.position = 'absolute';\n                div.style.left = '0';\n                div.style.top = '0';\n            }\n        }\n    }\n}\n\nfunction computeDimensionsFromOptions(table: HTMLTableElement, options: InternalOptions): {width: number, height: number} {\n    if (options.container) {\n        return {width: options.container.clientWidth, height: options.container.clientHeight};\n    }\n\n    let {width: argWidth, height: argHeight} = options;\n    if (argWidth == null || argHeight == null) {\n        throw new Error(\"Either container, or both width and height are required.\")\n    }\n\n    let width;\n    if (typeof argWidth === 'number') {\n        width = argWidth;\n    } else if (argWidth.indexOf(\"%\") > -1) {\n        const percentage = parseFloat(argWidth);\n        width = table.parentElement!.offsetWidth * percentage / 100;\n    } else {\n        width = parseInt(argWidth);\n    }\n\n    let height;\n    if (typeof argHeight === 'number') {\n        height = argHeight;\n    } else if (argHeight.indexOf(\"%\") > -1) {\n        const percentage = parseFloat(argHeight);\n        height = table.parentElement!.offsetHeight * percentage / 100;\n    } else {\n        height = parseInt(argHeight);\n    }\n\n    return {width, height};\n}\n\n/** Adds CSS classes requested by the user to elements that will be frozen. */\nfunction addUserCssClasses(tableElements: TableElements, options: InternalOptions) {\n    const allRows = Array.from(tableElements.allRows());\n    if (options.frozenHeaderCssClass) {\n        for (const [,row] of allRows.slice(0, options.freezeHeaderRows)) {\n            row.classList.add(options.frozenHeaderCssClass);\n        }\n    }\n\n    if (options.frozenLeftCssClass) {\n        for (const [,row] of allRows) {\n            for (const elem of getFirstCells(row, options.freezeLeftColumns)) {\n                elem.classList.add(options.frozenLeftCssClass);\n            }\n        }\n    }\n\n    if (options.frozenFooterCssClass) {\n        for (const [,row] of allRows.slice(allRows.length - options.freezeHeaderRows, allRows.length)) {\n            row.classList.add(options.frozenFooterCssClass);\n        }\n    }\n}\n\n/**\n * Wrap the content of some cells in helper divs that preserve their dimensions.\n *\n * In the copies of the table that we create for frozen cells, we will set width and height on these\n * divs based on their computed dimensions in the original table.  This ensures that the frozen copies\n * have the same row heights and column widths as the original despite missing parts of the table that\n * may have had an effect on these dimensions.\n * */\nfunction addSizePreservingHelpers(tableElements: TableElements, options: InternalOptions) {\n    // Idempotent function for ensuring that a table cell's contents are wrapped in a helper div.\n    function ensureHelperDiv(cell: Element) {\n        if (!(cell.firstElementChild && cell.firstElementChild.classList.contains(CLASS_SIZE_HELPER))) {\n            const div = document.createElement('div');\n            div.classList.add(CLASS_SIZE_HELPER);\n            div.append(...cell.children);\n            cell.append(div);\n        }\n    }\n\n    // Make sure that the header, footer, and main table all have at least one row with helpers.\n    const allRows = Array.from(tableElements.allRows());\n    const [,lastRow] = allRows[allRows.length - 1]; // for footer and main table\n    const [,firstRow] = allRows[0]; // for header\n    for (const row of [firstRow, lastRow]) {\n        for (const cell of row.querySelectorAll(':scope > td, :scope > th')) {\n            ensureHelperDiv(cell);\n        }\n    }\n\n    // Likewise with the full and side-tables.\n    for (const [,row] of allRows) {\n        const [firstCell] = getFirstCells(row, 1); // appears in both full and side-table\n        ensureHelperDiv(firstCell);\n    }\n\n    // ------------------\n    // Now that all of the helpers exist, we want to compute all of their dimensions and then\n    // preserve these in their `width` and `height`.\n\n    // First, in case these helpers are leftover from earlier (e.g. perhaps this is in a second\n    // call to `enhance()` after table content changed), strip any old dimensions to ensure\n    // optimal table layout is computed.\n    const helpers = Array.from(allSizeHelpersInTable(tableElements.table));\n    for (const div of helpers) {\n        div.style.width = '';\n        div.style.height = '';\n    }\n\n    // Compute dimensions of all helper divs before setting any of them, to minimize reflow.\n    let sizes = helpers.map((elem) => ({width: elem.offsetWidth, height: elem.offsetHeight}));\n\n    // Now record them in the helper divs' style so that, when portions of the table are later copied,\n    // they remain the same size.\n    for (let i = 0; i < helpers.length; i++) {\n        helpers[i].style.width = `${sizes[i].width}px`;\n        helpers[i].style.height = `${sizes[i].height}px`;\n    }\n}\n\nfunction* allSizeHelpersInTable(table: HTMLTableElement) {\n    for (const row of table.querySelectorAll(':scope > tr, :scope > * > tr')) {\n        for (const cell of row.querySelectorAll(':scope > td, :scope > th')) {\n            for (const div of cell.querySelectorAll(`:scope > .${CLASS_SIZE_HELPER}`)) {\n                yield div as HTMLDivElement;\n            }\n        }\n    }\n}\n\nfunction createDivsForCopies(rootContainer: HTMLElement, options: InternalOptions) {\n    function makeSuperrow(superRowClass: string) {\n        let superRowElem = document.createElement('div');\n        superRowElem.classList.add(superRowClass);\n\n        let fullDiv = document.createElement('div');\n        fullDiv.classList.add(CLASS_SUBTABLE_FULL);\n        fullDiv.style.overflow = (superRowClass === CLASS_SUPERROW_CONTENT) ? 'auto' : 'hidden';\n        superRowElem.appendChild(fullDiv);\n\n        if (options.freezeLeftColumns) {\n            let leftDiv = document.createElement('div');\n            leftDiv.classList.add(CLASS_SUBTABLE_LEFT);\n            leftDiv.style.overflow = 'hidden';\n            superRowElem.appendChild(leftDiv);\n        }\n        return superRowElem;\n    }\n\n    rootContainer.innerHTML = '';\n\n    if (options.freezeHeaderRows) {\n        rootContainer.appendChild(makeSuperrow(CLASS_SUPERROW_HEADER));\n    }\n\n    const contentElem = makeSuperrow(CLASS_SUPERROW_CONTENT);\n    rootContainer.appendChild(contentElem);\n\n    if (options.freezeHeaderRows) {\n        contentElem.appendChild(makeSuperrow(CLASS_SUPERROW_FOOTER));\n    }\n}\n\nfunction insertTableCopies(rootDiv: HTMLDivElement, tableElements: TableElements, options: InternalOptions) {\n    const labeledRows = Array.from(tableElements.allRows());\n\n    let content: SuperRowTables = {full: tableElements};\n    let frozenHeader: SuperRowTables | undefined;\n    if (options.freezeHeaderRows) {\n        frozenHeader = {full: tableElements.emptyCopy()};\n        for (const [where, row] of labeledRows.slice(0, options.freezeHeaderRows)) {\n            frozenHeader.full.appendRow(where, row.cloneNode(true) as HTMLTableRowElement);\n        }\n    }\n    let frozenFooter: SuperRowTables | undefined;\n    if (options.freezeFooterRows) {\n        frozenFooter = {full: tableElements.emptyCopy()};\n        for (const [where, row] of labeledRows.slice(labeledRows.length - options.freezeFooterRows)) {\n            frozenFooter.full.appendRow(where, row.cloneNode(true) as HTMLTableRowElement);\n        }\n    }\n\n    // At this point we have (up to) three tables:  full table, frozen header, frozen bottom.\n    //\n    // Now for each of those, we also potentially build a frozen left part.\n    if (options.freezeLeftColumns) {\n        for (const superRow of [content, frozenHeader, frozenFooter]) {\n            if (!superRow) continue;\n            superRow.left = superRow.full.emptyCopy();\n\n            for (const [where, row] of superRow.full.allRows()) {\n                let frozenRow = row.cloneNode(false) as HTMLTableRowElement;\n                for (const cell of getFirstCells(row, options.freezeLeftColumns)) {\n                    frozenRow.appendChild(cell.cloneNode(true));\n                }\n\n                superRow.left.appendRow(where, frozenRow);\n            }\n        }\n    }\n\n    // Insert each table into its div\n    let superRows: [SuperRowTables | undefined, string][] = [\n        [content, CSS_PATH_SUPERROW_CONTENT],\n        [frozenHeader, CSS_PATH_SUPERROW_HEADER],\n        [frozenFooter, CSS_PATH_SUPERROW_FOOTER],\n    ];\n    for (const [tables, cssPath] of superRows) {\n        if (!tables) continue;\n        const fullDiv = rootDiv.querySelector(`${cssPath} > .${CLASS_SUBTABLE_FULL}`)!;\n        fullDiv.innerHTML = '';\n        fullDiv.appendChild(reconstructTableFromElements(tables.full));\n\n        if (tables.left) {\n            const leftDiv = rootDiv.querySelector(`${cssPath} > .${CLASS_SUBTABLE_LEFT}`)!;\n            leftDiv.innerHTML = '';\n            leftDiv.appendChild(reconstructTableFromElements(tables.left));\n        }\n    }\n    return {content, frozenHeader, frozenFooter};\n}\n\n// Hide copies of header rows from the main table and it's frozen side-tables.\n//\n// (Nothing else needs to be hidden because everything else gets obscured behind the frozen copies.)\nfunction hideRedundantCells(allTables: AllTables, options: InternalOptions) {\n    for (const subtableKind of <Subtable[]>['full', 'left', 'right']) {\n        const subtable = allTables.content[subtableKind];\n        if (!subtable) continue;\n\n        let allRows = Array.from(subtable.allRows());\n        for (const [,row] of allRows.slice(0, options.freezeHeaderRows)) {\n            row.style.display = 'none';\n        }\n    }\n}\n\n/**\n * A type with all information necessary to rebuild a table while preserving as much styling as possible\n * (except for information related to computed layout).\n * */\ntype TableElements = {\n    // Content of the table.\n    theadRows: HTMLTableRowElement[], // empty if theadElem is null\n    tbodyRows: HTMLTableRowElement[],\n    tfootRows: HTMLTableRowElement[], // empty if tfootElem is null\n\n    // These are here so they can be shallow-cloned for attributes. (their children are ignored)\n    table: HTMLTableElement,\n    thead: HTMLElement | null,\n    tbody: HTMLElement | null,\n    tfoot: HTMLElement | null,\n\n    // A couple of helper methods.\n    allRows(): IterableIterator<[RowKind, HTMLTableRowElement]>,\n    appendRow(where: RowKind, row: HTMLTableRowElement): void,\n    /** Produce a copy with no rows. */\n    emptyCopy(): TableElements,\n};\n/** Which HTML row group does a row belong to? */\ntype RowKind = 'thead' | 'tbody' | 'tfoot';\n\nfunction getTableElements(table: HTMLTableElement): TableElements {\n    const getTrChildren = (elem: Element) => Array.from(elem.querySelectorAll<HTMLTableRowElement>(':scope > tr'));\n\n    let thead = table.querySelector<HTMLElement>(':scope > thead');\n    let tbody = table.querySelector<HTMLElement>(':scope > tbody');\n    let tfoot = table.querySelector<HTMLElement>(':scope > tfoot');\n\n    let theadRows = thead ? getTrChildren(thead) : [];\n    let tfootRows = tfoot ? getTrChildren(tfoot) : [];\n    let tbodyRows = getTrChildren(tbody || table);\n\n    return {\n        table, theadRows, tbodyRows, tfootRows, thead, tbody, tfoot,\n        allRows: function*(): IterableIterator<[RowKind, HTMLTableRowElement]> {\n            for (const row of this.theadRows) yield ['thead', row];\n            for (const row of this.tbodyRows) yield ['tbody', row];\n            for (const row of this.tfootRows) yield ['tfoot', row];\n        },\n        emptyCopy: function() {\n            let {table, thead, tbody, tfoot, allRows, emptyCopy, appendRow} = this;\n            return {\n                table, thead, tbody, tfoot,\n                theadRows: [], tbodyRows: [], tfootRows: [],\n                allRows, emptyCopy, appendRow,\n            };\n        },\n        appendRow: function(where: RowKind, row: HTMLTableRowElement) {\n            if (where === 'thead') this.theadRows.push(row);\n            if (where === 'tbody') this.tbodyRows.push(row);\n            if (where === 'tfoot') this.tfootRows.push(row);\n        },\n    };\n}\n\n/**\n * Build a new table from the TableElements.\n *\n * The rows will be moved inside.  The other elements are only shallow-copied.\n * */\nfunction reconstructTableFromElements(tableElements: TableElements): HTMLTableElement {\n    let {table, thead, tbody, tfoot, theadRows, tbodyRows, tfootRows} = tableElements;\n    table = table.cloneNode(false) as HTMLTableElement;\n\n    if (thead) {\n        thead = thead.cloneNode(false) as HTMLElement;\n        thead.append(...theadRows);\n        table.appendChild(thead);\n    }\n\n    if (tbody) {\n        tbody = tbody.cloneNode(false) as HTMLElement;\n        tbody.append(...tbodyRows);\n        table.appendChild(tbody);\n    } else {\n        table.append(...tbodyRows);\n    }\n\n    if (tfoot) {\n        tfoot = tfoot.cloneNode(false) as HTMLElement;\n        tfoot.append(...tfootRows);\n        table.appendChild(tfoot);\n    }\n\n    return table;\n}\n\n/**\n * Get the cells that occupy the first `columnCount` columns of a row.\n *\n * A cell with `colSpan` will be included if any part of it is in-range.\n * */\nfunction getFirstCells(row: HTMLTableRowElement, columnCount: number): HTMLTableCellElement[] {\n    // NOTE: <script> and <template> are also valid inside <tr> and we don't want to include those\n    let out = [];\n    for (const child of row.querySelectorAll<HTMLTableCellElement>(':scope > td, :scope > th')) {\n        if (columnCount <= 0) break;\n        out.push(child);\n        columnCount -= child.colSpan;\n    }\n    return out;\n}\n\nfunction getScrollbarWidth(): number {\n    const innerElement = document.createElement('p');\n    innerElement.style.width = \"100%\";\n    innerElement.style.height = \"200px\";\n\n    const outerElement = document.createElement('div');\n    outerElement.style.position = \"absolute\";\n    outerElement.style.top = \"0px\";\n    outerElement.style.left = \"0px\";\n    outerElement.style.visibility = \"hidden\";\n    outerElement.style.width = \"200px\";\n    outerElement.style.height = \"150px\";\n    outerElement.style.overflow = \"hidden\";\n\n    outerElement.appendChild(innerElement);\n\n    document.body.appendChild(outerElement);\n\n    const innerElementWidth = innerElement.offsetWidth;\n\n    outerElement.style.overflow = 'scroll';\n\n    let outerElementWidth = innerElement.offsetWidth;\n    if (innerElementWidth === outerElementWidth) outerElementWidth = outerElement.clientWidth;\n\n    document.body.removeChild(outerElement);\n\n    return innerElementWidth - outerElementWidth;\n}\n","import {Game, allGames, gameData} from '../game-names';\nimport {GAME_ANM_VERSIONS} from './versions';\nimport {ANM_INS_HANDLERS, ANM_VAR_HANDLERS, makeRefGameIndependent} from './tables';\nimport {globalNames, globalLinks, PrefixResolver} from '../resolver';\nimport {GridViewScroll} from '../lib/gridviewscroll';\nimport {MD} from '../markdown';\nimport {parseQuery} from '../url-format';\nimport {globalTips, Tip} from '../tips';\n\ntype CellData = {\n  opcode: number, // opcode in this game\n  total: number, // total uses of an instruction in a game, across all anm files\n  breakdown: [string, number][], // maps filename to usage count, by descending usage count (no zeros)\n};\ntype OpcodeStr = string;\ntype NameKey = string;\ntype StatsByOpcode = Record<Game, Record<OpcodeStr, Omit<CellData, 'opcode'>>>;\ntype Stats = {\n  numFiles: Record<Game, number>,\n  ins: StatsByOpcode,\n  var: StatsByOpcode,\n};\ntype StatsByNameKey = Map<NameKey, Map<Game, CellData>>;\n\nconst statsJson: Promise<Stats> = fetch('content/anm/anm-stats.json').then(async (text) => {\n  const out: any = await text.json();\n  out.numFiles = out['num-files'];\n  delete out['num-files'];\n  return out;\n});\n\nconst STATS_TIPS = new PrefixResolver<Tip>();\n\nexport function initStats() {\n  globalTips.registerPrefix('stats', STATS_TIPS);\n}\n\nexport async function buildInsStatsTable($elem: HTMLElement) {\n  const statsRaw = await statsJson;\n  const stats = buildStatsTable($elem, statsRaw.ins, ANM_INS_HANDLERS);\n  registerStatsTips(statsRaw, stats, ANM_INS_HANDLERS);\n}\n\nexport async function buildVarStatsTable($elem: HTMLElement) {\n  const statsRaw = await statsJson;\n  const stats = buildStatsTable($elem, statsRaw.var, ANM_VAR_HANDLERS);\n  registerStatsTips(statsRaw, stats, ANM_VAR_HANDLERS);\n}\n\nfunction buildStatsTable($elem: HTMLElement, statsByOpcode: StatsByOpcode, tableHandlers: any): StatsByNameKey {\n  const dataByRow = getStatsRows(statsByOpcode, tableHandlers);\n\n  let tableBody = '';\n\n  tableBody += '<tr class=\"GridViewScrollHeader\">';\n  tableBody += `<th>ANM stats</th>`;\n  for (const game of allGames()) {\n    tableBody += `<th style=\"color: ${gameData(game).color};\">${gameData(game).thname}</th>`;\n    // headerRow += `<td style=\"color: ${gameData(game).color};\">&mdash;</td>`;\n  }\n  tableBody += '</tr>';\n\n  for (const [nameKey, rowData] of dataByRow) {\n    if (nameKey.startsWith('ref:')) {\n      tableBody += /* html */ `<tr class=\"GridViewScrollItem\"><th>[ref=${nameKey.substring(4)}]</th>`;\n    } else {\n      tableBody += /* html */ `<tr class=\"GridViewScrollItem\"><th><code>${globalNames.getHtml(nameKey)}</code></th>`;\n    }\n    for (const game of allGames()) {\n      const tipId = `stats:${tableHandlers.mainPrefix}:${game}:${nameKey}`;\n      const cellData = rowData.get(game);\n      if (cellData && cellData.total === undefined) console.error(cellData);\n\n      let cellClass = '';\n      let cellText = '';\n      if (!cellData) cellClass = 'class=\"na\"';\n      else if (cellData.total === 0) [cellClass, cellText] = ['class=\"zero\"', '0'];\n      else cellText = `${cellData.total}`;\n\n      tableBody += `<td ${cellClass} data-tip-id=\"${tipId}\"><span>${cellText}</span></td>`;\n    }\n    tableBody += '</tr>';\n  }\n\n  if (!$elem.id) {\n    console.error('stats table element needs an id');\n  }\n  $elem.classList.add(\"stats-table\");\n  $elem.innerHTML = MD.makeHtml(`<table><tbody>${tableBody}</tbody></table>`);\n\n  const context = parseQuery(window.location.hash);\n  globalNames.transformHtml($elem, context);\n  globalLinks.transformHtml($elem, context);\n\n  const grid = new GridViewScroll({\n    table: $elem.querySelector<HTMLTableElement>(':scope > table')!,\n    container: $elem,\n    frozenHeaderCssClass: \"frozen-header\",\n    frozenLeftCssClass: \"frozen-col\",\n    freezeHeaderRows: 1,\n    freezeLeftColumns: 1,\n  });\n\n  grid.enhance();\n\n  const maxContainerSize = grid.maxContainerSize();\n  $elem.style.maxWidth = `${maxContainerSize.width}px`;\n  $elem.style.maxHeight = `${maxContainerSize.height}px`;\n\n  const ResizeObserver = (window as any).ResizeObserver as any;\n  if (ResizeObserver) {\n    new ResizeObserver(() => grid.resize()).observe($elem);\n  }\n\n  return new Map(dataByRow);\n}\n\nfunction getStatsRows(statsByOpcode: StatsByOpcode, tableHandlers: any) {\n  const {tableByOpcode, mainPrefix, itemKindString} = tableHandlers;\n\n  // Deep-copy.  We're about to tear it down...\n  statsByOpcode = JSON.parse(JSON.stringify(statsByOpcode));\n\n  // We use namekeys to identify things here so that we can also show stats for instructions\n  // that have no crossref yet.\n  const out: [NameKey, Map<Game, CellData>][] = [];\n\n  // order:  - instructions from latest game, by opcode.\n  //         - then instructions that are not in that game, ordered by previous game opcode. and etc.\n  const keyIndices = new Map<NameKey, number>();\n  for (const [gameStr, innerByOpcode] of reversed<[string, any]>(tableByOpcode.entries())) {\n    const game = gameStr as Game;\n    const srcInner = statsByOpcode[game];\n    const version = GAME_ANM_VERSIONS[game];\n    const opcodes = Array.from(Object.keys(innerByOpcode as object)).map((opcodeStr) => parseInt(opcodeStr));\n    opcodes.sort();\n\n    for (const opcode of opcodes) {\n      let {ref} = innerByOpcode[opcode];\n      if (ref) ref = makeRefGameIndependent(ref, tableHandlers);\n\n      const nameKey = (ref === null) ? `${mainPrefix}:${version}:${opcode}` : `ref:${ref}`;\n      if (!keyIndices.has(nameKey)) {\n        keyIndices.set(nameKey, out.length);\n        out.push([nameKey, new Map()]);\n      }\n      const [, destMap] = out[keyIndices.get(nameKey)!];\n\n      const cellData: CellData = srcInner[opcode] ? {...srcInner[opcode], opcode} : {total: 0, breakdown: [], opcode};\n      delete srcInner[opcode];\n\n      destMap.set(game, cellData);\n    }\n\n    for (const opcodeStr of Object.keys(srcInner)) {\n      console.error(`game ${game} uses ${itemKindString} ${opcodeStr} but it's not in our table!`);\n    }\n  }\n  return out;\n}\n\nfunction registerStatsTips(statsRaw: Stats, table: StatsByNameKey, tableHandlers: any) {\n  const tipPrefix: string = tableHandlers.mainPrefix;\n  if (!tipPrefix) throw new Error('bug!'); // since we're using 'any'...\n\n  STATS_TIPS.registerPrefix(tipPrefix, (suffix) => {\n    const [gameStr, nameKey] = suffix.split(/:(.+)/);\n    const game = gameStr as Game;\n    const cellData = table.get(nameKey)!.get(game);\n    if (!cellData) return null;\n\n    let tipMd = `Used in ${cellData.breakdown.length} of ${statsRaw.numFiles[game]} files. (as id ${cellData.opcode})\\n\\n`;\n    for (const [filename, uses] of cellData.breakdown.slice(0, 5)) {\n      tipMd += `* ${uses} uses in <code>${filename}</code>\\n`;\n    }\n    const html: string = MD.makeHtml(tipMd);\n    return {\n      contents: html,\n      omittedInfo: false,\n    };\n  });\n}\n\nfunction reversed<T>(iter: Iterable<T>) {\n  return Array.from(iter).reverse();\n}\n","/**\n * An object with safer typing of `obj[key]`.\n *\n * Be careful not to do `obj[key] = undefined`, which will typecheck\n * even if `undefined` is not contained in `V`...\n * */\nexport type StrMap<K extends (string | symbol), V> = { [P in K]?: V };\nexport type NumMap<V> = { [n in number]?: V; };\n\ntype SafeRecord<K extends (string | number | symbol), V> = { [P in K]?: V };\n\nexport const StrMap = {\n  entries: function* <K extends string | symbol, V>(obj: StrMap<K, V>): IterableIterator<[K, V]> {\n    for (const [k, v] of Object.entries(obj)) {\n      yield [k as K, v as V];\n    }\n  },\n  fromEntries: function<K extends string | symbol, V>(entries: [K, V][]): StrMap<K, V> {\n    return fromEntries(entries);\n  },\n  mapValues: function<K extends string | symbol, V, V2>(obj: StrMap<K, V>, func: (v:V, k:K) => V2): StrMap<K, V2> {\n    return StrMap.fromEntries([...StrMap.entries(obj)].map(([k, v]) => [k, func(v, k)]));\n  },\n};\n\nexport const NumMap = {\n  entries: function* <V>(obj: NumMap<V>): IterableIterator<[number, V]> {\n    for (const [k, v] of Object.entries(obj)) {\n      const num = Number.parseInt(k, 10);\n      if (num !== num) throw new Error(`unexpected non-integer key '${k}'`);\n      yield [num, v as V];\n    }\n  },\n  fromEntries: function<V>(entries: [number, V][]): NumMap<V> {\n    return fromEntries(entries);\n  },\n  mapValues: function<V, V2>(obj: NumMap<V>, func: (v:V, k:number) => V2): NumMap<V2> {\n    return NumMap.fromEntries([...NumMap.entries(obj)].map(([k, v]) => [k, func(v, k)]));\n  },\n  keys: function<V>(obj: NumMap<V>): IterableIterator<number> {\n    return [...NumMap.entries(obj)].map(([k, v]) => k)[Symbol.iterator]();\n  },\n};\n\nfunction fromEntries<K extends string | number | symbol, V>(entries: [K, V][]): SafeRecord<K, V> {\n  return entries.reduce(\n      (acc, [key, value]) => ({...acc, [key]: value}),\n      {} as SafeRecord<K, V>,\n  );\n}\n","import dedent from \"../lib/dedent.ts\";\nimport {NumMap} from \"../util.ts\";\n\n// ==========================================================================\n// ==========================================================================\n// ===================    LOOKUP TABLE BY OPCODE    =========================\n\nconst UNASSIGNED = {ref: null, wip: 2};\n\nexport const ANM_BY_OPCODE = new Map();\nexport const ANM_GROUPS_V8 = [\n  {min: 0, max: 99, title: 'System'},\n  {min: 100, max: 199, title: 'Math'},\n  {min: 200, max: 299, title: 'Jumps'},\n  {min: 300, max: 399, title: 'Settings'},\n  {min: 400, max: 499, title: 'General'},\n  {min: 500, max: 599, title: 'Child management'},\n  {min: 600, max: 699, title: 'Drawing'},\n];\n\n// ---- V0 ----\nANM_BY_OPCODE.set('06', {\n  0: {ref: 'anm:delete'},\n  1: {ref: 'anm:sprite'},\n  2: {ref: 'anm:scale'},\n  3: {ref: 'anm:alpha'},\n  4: {ref: 'anm:rgb-dword'},\n  5: {ref: 'anm:v0-jmp'},\n  6: {ref: 'anm:nop'},\n  7: {ref: 'anm:flipX'},\n  8: {ref: 'anm:flipY'},\n  9: {ref: 'anm:rotate'},\n  10: {ref: 'anm:angleVel'},\n  11: {ref: 'anm:scaleGrowth'},\n  12: {ref: 'anm:alphaTimeLinear'},\n  13: {ref: 'anm:blendAdditive'},\n  14: {ref: 'anm:blendAlpha'},\n  15: {ref: 'anm:static'},\n  16: {ref: 'anm:spriteRand'},\n  17: {ref: 'anm:pos'},\n  18: {ref: 'anm:posTimeLinear'}, // seets 0b00\n  19: {ref: 'anm:posTimeEaseout'}, // posTimeDecel // sets 0b01\n  20: {ref: 'anm:posTimeEaseout4'}, // posTimeAccel // sets 0b10\n  21: {ref: 'anm:stop'},\n  22: {ref: 'anm:case'},\n  23: {ref: 'anm:v0-anchorBottomLeft'},\n  24: {ref: 'anm:stop2'},\n  25: {ref: 'anm:posMode'}, // set_allow_dest_offset (alternate_pos_flag)\n  26: {ref: 'anm:v0-26'}, // set_automatic_angle\n  27: {ref: 'anm:uAdd'},\n  28: {ref: 'anm:vAdd'},\n  29: {ref: 'anm:visible'}, // set_visible\n  30: {ref: 'anm:scaleTimeLinear'}, //\n  31: {ref: 'anm:noZBuffer', wip: 1}, // bitflag 12\n});\n\n// ---- V2 ----\nANM_BY_OPCODE.set('07', {\n  0: {ref: 'anm:nop'},\n  1: {ref: 'anm:delete'},\n  2: {ref: 'anm:static'},\n  3: {ref: 'anm:sprite'},\n  4: {ref: 'anm:jmp'},\n  5: {ref: 'anm:jmpDec'},\n  6: {ref: 'anm:pos'},\n  7: {ref: 'anm:scale'},\n  8: {ref: 'anm:alpha'},\n  9: {ref: 'anm:rgb-dword'},\n  10: {ref: 'anm:flipX'},\n  11: {ref: 'anm:flipY'},\n  12: {ref: 'anm:rotate'},\n  13: {ref: 'anm:angleVel'},\n  14: {ref: 'anm:scaleGrowth'},\n  15: {ref: 'anm:alphaTimeLinear'},\n  16: UNASSIGNED, // PoFV:  flag 4 = arg, flag 5 = 0 ??\n  17: {ref: 'anm:posTimeLinear'},\n  18: {ref: 'anm:posTimeEaseout'},\n  19: {ref: 'anm:posTimeEaseout4'},\n  20: {ref: 'anm:stop'},\n  21: {ref: 'anm:case'},\n  22: UNASSIGNED, // PoFV:  flags 11=1, 12=1\n  23: {ref: 'anm:stop2'},\n  24: {ref: 'anm:posMode'},\n  25: {ref: 'anm:v0-26'}, // reads a word field\n  26: {ref: 'anm:uAdd'},\n  27: {ref: 'anm:vAdd'},\n  28: {ref: 'anm:visible'}, // PoFV:  sets flag 0\n  29: {ref: 'anm:scaleTimeLinear'},\n  30: UNASSIGNED, // PoFV:  sets flag 13\n  31: UNASSIGNED, // PoFV:  sets flag 15\n  32: {ref: 'anm:posTime'},\n  33: {ref: 'anm:rgbTime-dword'},\n  34: {ref: 'anm:alphaTime'},\n  35: {ref: 'anm:rotateTime'},\n  36: {ref: 'anm:scaleTime'},\n\n  37: {ref: 'anm:set'},\n  38: {ref: 'anm:setF'},\n  39: {ref: 'anm:add'},\n  40: {ref: 'anm:addF'},\n  41: {ref: 'anm:sub'},\n  42: {ref: 'anm:subF'},\n  43: {ref: 'anm:mul'},\n  44: {ref: 'anm:mulF'},\n  45: {ref: 'anm:div'},\n  46: {ref: 'anm:divF'},\n  47: {ref: 'anm:mod'},\n  48: {ref: 'anm:modF'},\n  49: {ref: 'anm:add3'},\n  50: {ref: 'anm:addF3'},\n  51: {ref: 'anm:sub3'},\n  52: {ref: 'anm:subF3'},\n  53: {ref: 'anm:mul3'},\n  54: {ref: 'anm:mulF3'},\n  55: {ref: 'anm:div3'},\n  56: {ref: 'anm:divF3'},\n  57: {ref: 'anm:mod3'},\n  58: {ref: 'anm:modF3'},\n  59: {ref: 'anm:v3-rand'}, // FIXME merge\n  60: {ref: 'anm:v3-randF'}, // FIXME\n  61: {ref: 'anm:mathSin'},\n  62: {ref: 'anm:mathCos'},\n  63: {ref: 'anm:mathTan'},\n  64: {ref: 'anm:mathAcos'},\n  65: {ref: 'anm:mathAtan'},\n  66: {ref: 'anm:mathReduceAngle'},\n\n  67: {ref: 'anm:jmpEq'},\n  68: {ref: 'anm:jmpEqF'},\n  69: {ref: 'anm:jmpNe'},\n  70: {ref: 'anm:jmpNeF'},\n  71: {ref: 'anm:jmpLt'},\n  72: {ref: 'anm:jmpLtF'},\n  73: {ref: 'anm:jmpLe'},\n  74: {ref: 'anm:jmpLeF'},\n  75: {ref: 'anm:jmpGt'},\n  76: {ref: 'anm:jmpGtF'},\n  77: {ref: 'anm:jmpGe'},\n  78: {ref: 'anm:jmpGeF'},\n\n  79: {ref: 'anm:wait'},\n  80: {ref: 'anm:uVel'},\n  81: {ref: 'anm:vVel'},\n});\n\n// ---- V3 ----\nANM_BY_OPCODE.set('08', {\n  ...ANM_BY_OPCODE.get('07'),\n\n  // changed signatures\n  9: {ref: 'anm:rgb'},\n  33: {ref: 'anm:rgbTime'},\n\n  // new instrs\n  82: UNASSIGNED, // PoFV:  sets 2-bit field of flags 4+5, like in ins_16\n  83: UNASSIGNED, // stores dword field\n  84: {ref: 'anm:rgb2'},\n  85: {ref: 'anm:alpha2'},\n  86: {ref: 'anm:rgb2Time'},\n  87: {ref: 'anm:alpha2Time'},\n  88: {ref: 'anm:blink'}, // PoFV:  sets flag 17 if floor(arg/256) is odd\n  89: {ref: 'anm:caseReturn'},\n});\n\nANM_BY_OPCODE.set('09', {\n  ...ANM_BY_OPCODE.get('08'),\n});\n\n// ---- V4 ----\nANM_BY_OPCODE.set('095', {\n  0: {ref: 'anm:nop'},\n  1: {ref: 'anm:delete'},\n  2: {ref: 'anm:static', wip: 1},\n  3: {ref: 'anm:sprite'},\n  4: {ref: 'anm:jmp'},\n  5: {ref: 'anm:jmpDec'},\n\n  6: {ref: 'anm:set'},\n  7: {ref: 'anm:setF'},\n  8: {ref: 'anm:add'},\n  9: {ref: 'anm:addF'},\n  10: {ref: 'anm:sub'},\n  11: {ref: 'anm:subF'},\n  12: {ref: 'anm:mul'},\n  13: {ref: 'anm:mulF'},\n  14: {ref: 'anm:div'},\n  15: {ref: 'anm:divF'},\n  16: {ref: 'anm:mod'},\n  17: {ref: 'anm:modF'},\n  18: {ref: 'anm:add3'},\n  19: {ref: 'anm:addF3'},\n  20: {ref: 'anm:sub3'},\n  21: {ref: 'anm:subF3'},\n  22: {ref: 'anm:mul3'},\n  23: {ref: 'anm:mulF3'},\n  24: {ref: 'anm:div3'},\n  25: {ref: 'anm:divF3'},\n  26: {ref: 'anm:mod3'},\n  27: {ref: 'anm:modF3'},\n\n  28: {ref: 'anm:jmpEq'},\n  29: {ref: 'anm:jmpEqF'},\n  30: {ref: 'anm:jmpNe'},\n  31: {ref: 'anm:jmpNeF'},\n  32: {ref: 'anm:jmpLt'},\n  33: {ref: 'anm:jmpLtF'},\n  34: {ref: 'anm:jmpLe'},\n  35: {ref: 'anm:jmpLeF'},\n  36: {ref: 'anm:jmpGt'},\n  37: {ref: 'anm:jmpGtF'},\n  38: {ref: 'anm:jmpGe'},\n  39: {ref: 'anm:jmpGeF'},\n\n  40: {ref: 'anm:rand'},\n  41: {ref: 'anm:randF'},\n  42: {ref: 'anm:mathSin'},\n  43: {ref: 'anm:mathCos'},\n  44: {ref: 'anm:mathTan'},\n  45: {ref: 'anm:mathAcos', wip: 1},\n  46: {ref: 'anm:mathAtan'},\n  47: {ref: 'anm:mathReduceAngle'},\n\n  48: {ref: 'anm:pos'},\n  49: {ref: 'anm:rotate'},\n  50: {ref: 'anm:scale'},\n  51: {ref: 'anm:alpha'},\n  52: {ref: 'anm:rgb'},\n  53: {ref: 'anm:angleVel'},\n  54: {ref: 'anm:scaleGrowth'},\n  55: {ref: 'anm:alphaTimeLinear'},\n  56: {ref: 'anm:posTime'},\n  57: {ref: 'anm:rgbTime'},\n  58: {ref: 'anm:alphaTime'},\n  59: {ref: 'anm:rotateTime'},\n\n  60: {ref: 'anm:scaleTime'},\n  61: {ref: 'anm:flipX'},\n  62: {ref: 'anm:flipY'},\n  63: {ref: 'anm:stop'},\n  64: {ref: 'anm:case'},\n  65: {ref: 'anm:anchor'},\n  66: {ref: 'anm:blendMode'}, // TODO: UFO has fewer modes!\n  67: {ref: 'anm:renderMode'},\n  68: {ref: 'anm:layer'},\n  69: {ref: 'anm:stop2'},\n\n  70: {ref: 'anm:uVel'},\n  71: {ref: 'anm:vVel'},\n  72: {ref: 'anm:visible', wip: 1}, // flag 0\n  73: {ref: 'anm:noZBuffer', wip: 1}, // flag 12\n  74: {ref: 'anm:v8-306', wip: 1},\n  75: {ref: 'anm:wait', wip: 1},\n  76: {ref: 'anm:rgb2'},\n  77: {ref: 'anm:alpha2'},\n  78: {ref: 'anm:rgb2Time'},\n  79: {ref: 'anm:alpha2Time'},\n\n  80: {ref: 'anm:colorMode'}, // flag lo:16 (DS: lo:16-17)\n  81: {ref: 'anm:caseReturn'},\n  82: {ref: 'anm:rotateAuto', wip: 1}, // flag lo:29\n  83: {ref: 'anm:posAdopt'},\n  84: {ref: 'anm:textureCircle'},\n  85: {ref: 'anm:v8-flag-431', wip: 1}, // flag lo:30 (DS: lo:31)\n  86: {ref: 'anm:v8-flag-432', wip: 1}, // flag lo:31 (DS: hi:0)\n  87: {ref: 'anm:v4-randMode'},\n});\n\nANM_BY_OPCODE.set('10', {\n  ...ANM_BY_OPCODE.get('095'),\n\n  88: {ref: 'anm:createChild', wip: 1},\n  89: {ref: 'anm:resampleMode', wip: 1}, // flag hi:1 (DS: hi:2)\n\n  90: {ref: 'anm:createChildUi', wip: 1},\n  91: {ref: 'anm:prependChild', wip: 1},\n  92: {ref: 'anm:prependChildUi', wip: 1},\n});\n\nANM_BY_OPCODE.set('11', {\n  ...ANM_BY_OPCODE.get('10'),\n\n  93: {ref: 'anm:uVelTime'},\n  94: {ref: 'anm:vVelTime'},\n  95: {ref: 'anm:createRoot'},\n  96: {ref: 'anm:createChildPos'},\n  97: {ref: 'anm:createRootPos'},\n  98: {ref: 'anm:v8-418'},\n  99: {ref: 'anm:v8-flag-419', wip: 1},\n\n  100: {ref: 'anm:posBezier'},\n  101: {ref: 'anm:v4-texCircle2'}, // type 13 in GFW\n  102: {ref: 'anm:spriteRand'},\n  103: {ref: 'anm:drawRect'}, // type 15 in GFW\n});\n\nANM_BY_OPCODE.set('12', {\n  ...ANM_BY_OPCODE.get('11'),\n  104: {ref: 'anm:drawPoly'},\n  105: {ref: 'anm:drawPolyBorder'},\n  106: {ref: 'anm:uvScale'},\n  107: {ref: 'anm:uvScaleTime'},\n  108: {ref: 'anm:drawRectGrad'}, // type 19 in GFW\n  109: {ref: 'anm:drawRectShadow'}, // type 20 in GFW\n  110: {ref: 'anm:drawRectShadowGrad'}, // type 21 in GFW\n});\n\nANM_BY_OPCODE.set('125', {\n  ...ANM_BY_OPCODE.get('12'),\n  111: UNASSIGNED, // (DS: hi:6-8)\n  112: {ref: 'anm:ignoreParent'}, // (DS: hi:8)\n});\n\nANM_BY_OPCODE.set('128', {\n  ...ANM_BY_OPCODE.get('125'),\n  113: {ref: 'anm:rotateTime2D'},\n  114: {ref: 'anm:v4-texCircle3'}, // type 14 in GFW\n});\n\n// ---- V8 ----\nANM_BY_OPCODE.set('13', {\n  0: {ref: 'anm:nop'},\n  1: {ref: 'anm:delete'},\n  2: {ref: 'anm:static'},\n  3: {ref: 'anm:stop'},\n  4: {ref: 'anm:stop2'},\n  5: {ref: 'anm:case'},\n  6: {ref: 'anm:wait'},\n  7: {ref: 'anm:caseReturn'},\n\n  100: {ref: 'anm:set'},\n  101: {ref: 'anm:setF'},\n  102: {ref: 'anm:add'},\n  103: {ref: 'anm:addF'},\n  104: {ref: 'anm:sub'},\n  105: {ref: 'anm:subF'},\n  106: {ref: 'anm:mul'},\n  107: {ref: 'anm:mulF'},\n  108: {ref: 'anm:div'},\n  109: {ref: 'anm:divF'},\n  110: {ref: 'anm:mod'},\n  111: {ref: 'anm:modF'},\n  112: {ref: 'anm:add3'},\n  113: {ref: 'anm:addF3'},\n  114: {ref: 'anm:sub3'},\n  115: {ref: 'anm:subF3'},\n  116: {ref: 'anm:mul3'},\n  117: {ref: 'anm:mulF3'},\n  118: {ref: 'anm:div3'},\n  119: {ref: 'anm:divF3'},\n  120: {ref: 'anm:mod3'},\n  121: {ref: 'anm:modF3'},\n  122: {ref: 'anm:rand'},\n  123: {ref: 'anm:randF'},\n  124: {ref: 'anm:mathSin'},\n  125: {ref: 'anm:mathCos'},\n  126: {ref: 'anm:mathTan'},\n  127: {ref: 'anm:mathAcos'},\n  128: {ref: 'anm:mathAtan'},\n  129: {ref: 'anm:mathReduceAngle'},\n  130: {ref: 'anm:mathCirclePos'},\n  131: {ref: 'anm:mathCirclePosRand'},\n\n  200: {ref: 'anm:jmp'},\n  201: {ref: 'anm:jmpDec'},\n  202: {ref: 'anm:jmpEq'},\n  203: {ref: 'anm:jmpEqF'},\n  204: {ref: 'anm:jmpNe'},\n  205: {ref: 'anm:jmpNeF'},\n  206: {ref: 'anm:jmpLt'},\n  207: {ref: 'anm:jmpLtF'},\n  208: {ref: 'anm:jmpLe'},\n  209: {ref: 'anm:jmpLeF'},\n  210: {ref: 'anm:jmpGt'},\n  211: {ref: 'anm:jmpGtF'},\n  212: {ref: 'anm:jmpGe'},\n  213: {ref: 'anm:jmpGeF'},\n\n  300: {ref: 'anm:sprite'},\n  301: {ref: 'anm:spriteRand'},\n  302: {ref: 'anm:renderMode'},\n  303: {ref: 'anm:blendMode'},\n  304: {ref: 'anm:layer'},\n  305: {ref: 'anm:noZBuffer'},\n  306: {ref: 'anm:v8-306'},\n  307: {ref: 'anm:v8-randMode'},\n  308: {ref: 'anm:flipX'},\n  309: {ref: 'anm:flipY'},\n  310: {ref: 'anm:visible'},\n  311: {ref: 'anm:resampleMode'},\n  312: {ref: 'anm:scrollMode'},\n\n  400: {ref: 'anm:pos'},\n  401: {ref: 'anm:rotate'},\n  402: {ref: 'anm:scale'},\n  403: {ref: 'anm:alpha'},\n  404: {ref: 'anm:rgb'},\n  405: {ref: 'anm:alpha2'},\n  406: {ref: 'anm:rgb2'},\n  407: {ref: 'anm:posTime'},\n  408: {ref: 'anm:rgbTime'},\n  409: {ref: 'anm:alphaTime'},\n  410: {ref: 'anm:rotateTime'},\n  411: {ref: 'anm:rotateTime2D'},\n  412: {ref: 'anm:scaleTime'},\n  413: {ref: 'anm:rgb2Time'},\n  414: {ref: 'anm:alpha2Time'},\n  415: {ref: 'anm:angleVel'},\n  416: {ref: 'anm:scaleGrowth'},\n  417: {ref: 'anm:alphaTimeLinear'},\n  418: {ref: 'anm:v8-418'},\n  419: {ref: 'anm:v8-flag-419'},\n  420: {ref: 'anm:posBezier'},\n  421: {ref: 'anm:anchor'},\n  422: {ref: 'anm:posAdopt'},\n  423: {ref: 'anm:colorMode'},\n  424: {ref: 'anm:rotateAuto'},\n  425: {ref: 'anm:uVel'},\n  426: {ref: 'anm:vVel'},\n  427: {ref: 'anm:uVelTime'},\n  428: {ref: 'anm:vVelTime'},\n  429: {ref: 'anm:uvScale'},\n  430: {ref: 'anm:uvScaleTime'},\n  431: {ref: 'anm:v8-flag-431'},\n  432: {ref: 'anm:v8-flag-432'},\n  433: {ref: 'anm:posTime2D'},\n  434: {ref: 'anm:scale2'},\n  435: {ref: 'anm:scale2Time'},\n  436: {ref: 'anm:anchorOffset'},\n  437: {ref: 'anm:rotationSystem'},\n  438: {ref: 'anm:originMode'},\n\n  500: {ref: 'anm:createChild'},\n  501: {ref: 'anm:createChildUi'},\n  502: {ref: 'anm:prependChild'},\n  503: {ref: 'anm:prependChildUi'},\n  504: {ref: 'anm:createRoot'},\n  505: {ref: 'anm:createChildPos'},\n  506: {ref: 'anm:createRootPos'},\n  507: {ref: 'anm:ignoreParent'},\n  508: {ref: 'anm:createEffect'},\n\n  600: {ref: 'anm:textureCircle'},\n  601: {ref: 'anm:textureArcEven'},\n  602: {ref: 'anm:textureArc'},\n  603: {ref: 'anm:drawRect'},\n  604: {ref: 'anm:drawPoly'},\n  605: {ref: 'anm:drawPolyBorder'},\n  606: {ref: 'anm:drawRectGrad'},\n  607: {ref: 'anm:drawRectShadow'},\n  608: {ref: 'anm:drawRectShadowGrad'},\n});\n\nANM_BY_OPCODE.set('14', {\n  ...ANM_BY_OPCODE.get('13'),\n  313: {ref: 'anm:resolutionMode'},\n  314: {ref: 'anm:attached'},\n  315: {ref: 'anm:colorizeChildren'},\n  509: {ref: 'anm:copyParentVars'},\n  609: {ref: 'anm:textureCylinder3D'},\n  610: {ref: 'anm:textureRing3D'},\n});\n\nANM_BY_OPCODE.set('143', {\n  ...ANM_BY_OPCODE.get('14'),\n  316: {ref: 'anm:v8-flag-316'}, // in 16: flag 2\n  317: {ref: 'anm:v8-flag-317'}, // in 16: flag 2\n  611: {ref: 'anm:drawRing'},\n});\n\nANM_BY_OPCODE.set('15', {\n  ...ANM_BY_OPCODE.get('143'),\n});\n\nANM_BY_OPCODE.set('16', {\n  ...ANM_BY_OPCODE.get('15'),\n  612: {ref: 'anm:drawRectBorder'},\n  613: {ref: 'anm:drawLine'},\n});\n\nANM_BY_OPCODE.set('165', {\n  ...ANM_BY_OPCODE.get('16'),\n  439: {ref: 'anm:vd-imaginary-439'},\n});\n\nANM_BY_OPCODE.set('17', {\n  ...ANM_BY_OPCODE.get('165'),\n});\n\nfor (const [, inner] of ANM_BY_OPCODE.entries()) {\n  for (const [opcode, {ref, wip}] of NumMap.entries(inner)) {\n    inner[opcode] = {ref, wip: wip || 0};\n  }\n}\n\n// ==========================================================================\n// ==========================================================================\n// =====================    INSTRUCTION DATA    =============================\n\n// Lookup table by ref id. (game-independent, anmmap-independent name)\nexport const ANM_INS_DATA = {};\n\n// ==============\n// ==== CORE ====\n// ==============\nObject.assign(ANM_INS_DATA, {\n  'nop': {sig: '', args: [], desc: \"Does nothing.\"},\n  'delete': {sig: '', args: [], desc: \"Destroys the graphic.\"},\n  'static': {\n    sig: '', args: [], desc: `\n    Freezes the graphic until it is destroyed externally.\n\n    [tiphide]\n    Any interpolation instructions like [ref=anm:posTime] will no longer advance,\n    and [interrupts](#anm/concepts&a=interrupt) are disabled.\n    [/tiphide]\n  `},\n  'stop': {sig: '', args: [], desc: `\n    Stops executing the script (at least for now), but keeps the graphic alive.\n\n    [tiphide]\n    Interpolation instructions like [ref=anm:posTime] will continue to advance,\n    and [interrupts](#anm/concepts&a=interrupt) can be triggered at any time.\n    You could say this essentially behaves like an infinitely long [ref=anm:wait].\n    [/tiphide]\n  `},\n  'stop2': {\n    sig: '', args: [], wip: 2, desc: `\n    This is like [ref=anm:stop] except that it also hides the graphic by clearing\n    the visibility flag (see [ref=anm:visible]).\n\n    [tiphide]\n    Interpolation instructions like [ref=anm:posTime] will continue to advance,\n    and [interrupts](#anm/concepts&a=interrupt) can be triggered at any time.\n    Successful interrupts will automatically re-enable the visibility flag.\n    [/tiphide]\n  `},\n  'case': {\n    sig: 'S', args: ['n'], desc: `\n    A label for an [interrupt](#anm/concepts&a=interrupt). When executed, it is a no-op.\n  `},\n  'wait': {\n    sig: 'S', args: ['t'], desc: `\n    Wait \\`t\\` frames.\n\n    [tiphide]\n    An extremely similar effect can be achieved using [time labels](#anm/concepts&a=time):\n    [code]\n    // Option 1: increasing the time label between instructions (+n: syntax)\n      [ref=anm:posTime](6, 0, 1f, 0f, 0f);\n    +6:\n      [ref=anm:alpha](0);\n\n    // Option 2: using wait\n      [ref=anm:posTime](6, 0, 1f, 0f, 0f);\n      [ref=anm:wait](6);\n      [ref=anm:alpha](0);\n    [/code]\n    The difference between the two is subtle, and depends on the game:\n\n    * **[game=095] and earlier:**\n      [ref=anm:wait] is implemented using a dedicated timer. [wip]This has not been tested[/wip],\n      but it seems this may cause the two snippets to behave differently in cases where the\n      current time is greater than the time label (which is possible through [ref=anm:jmp]);\n      in essence, [wip]it seems that [ref=anm:wait] will *always* wait the specified number of frames\n      regardless of the current time in these early games.[/wip]\n    * **[game=10] and later:** This now works by actually subtracting \\`t\\` from the current time\n      before executing the next instruction.  Thus, the only difference between the two snippets\n      is that [ref=anm:wait] produces simpler time labels.\n      (notice that \\`thanm\\` has \\`timeof(label)\\` syntax to make option 1 less painful anyways)\n    [/tiphide]\n  `},\n  'caseReturn': {\n    sig: '', args: [], desc: `\n    Can be used at the end of a [ref=anm:case] block to return back\n    to the moment just before the VM received the [interrupt](#anm/concepts&a=interrupt).\n\n    [tiphide]\n    This is not the only way to end a [ref=anm:case] block; oftentimes the game may use a [ref=anm:stop] instead.\n    You can read a more detailed discussion in the link above on interrupts, but the broad recommendation is:\n\n    * [ref=anm:caseReturn] is required if you want to allow your VM to return to a longer running part of\n      the script after being interrupted.\n    * If [ref=anm:caseReturn] is used, you should avoid any form of waiting inside that particular\n      [ref=anm:case] block. (else risk creating an infinite loop...)\n    [/tiphide]\n  `},\n});\n\n// =====================\n// ==== OPS N JUMPS ====\n// =====================\nObject.assign(ANM_INS_DATA, {\n  'v0-jmp': {\n    sig: 'S', args: ['dest'], succ: 'jmp', desc: `\n    Jumps to byte offset \\`dest\\` from the script's beginning, and sets the time to that\n    instruction's [time label](#anm/concepts&a=time).\n  `},\n  'jmp': {\n    sig: 'SS', args: ['dest', 't'], desc: `\n    Jumps to byte offset \\`dest\\` from the script's beginning and sets the time to \\`t\\`.\n    \\`thanm\\` accepts a label name for \\`dest\\`.\n\n    [tiphide]\n    [wip=2]Chinese wiki says some confusing recommendation about setting a=0, can someone explain to me?[/wip]\n    [/tiphide]\n  `},\n  'jmpDec': {\n    sig: '$SS', args: ['x', 'dest', 't'], desc: `\n    Decrement \\`x\\` and then jump if \\`x > 0\\`.  You can use this to repeat a loop a fixed number of times.\n\n    [tiphide]\n    [code]\n      [ref=anm:set]([ref=anmvar:i0], 3);\n    loop:\n      // ...\n      // anything in this block will be done 3 times\n      // ...\n      [ref=anm:jmpDec]([ref=anmvar:i0], loop);\n    [/code]\n    [/tiphide]\n  `},\n});\n\nconst JUMP_DATA = {jmpEq: \"==\", jmpNe: \"!=\", jmpLt: \"<\", jmpLe: \"<=\", jmpGt: \">\", jmpGe: \">=\"};\nfor (const [mnemonic, operator] of Object.entries(JUMP_DATA)) {\n  for (const [suffix, ty] of [['', 'S'], ['F', 'f']]) {\n    ANM_INS_DATA[`${mnemonic}${suffix}`] = {\n      sig: `${ty}${ty}SS`,\n      args: ['a', 'b', 'dest', 't'],\n      desc: `Jumps if \\`a ${operator} b\\`.`,\n    };\n  }\n}\n\nconst OPERATOR_DATA = {set: \"=\", add: \"+=\", sub: \"-=\", mul: \"*=\", div: \"/=\", mod: \"%=\"};\nfor (const [mnemonic, operator] of Object.entries(OPERATOR_DATA)) {\n  for (const [suffix, refTy, valTy] of [['', '$', 'S'], ['F', '%', 'f']]) {\n    ANM_INS_DATA[`${mnemonic}${suffix}`] = {\n      sig: `${refTy}${valTy}`,\n      args: ['a', 'b'],\n      desc: `Does \\`a ${operator} b\\`.`,\n    };\n  }\n}\n\nconst OPERATOR_3_DATA = {add: \"+\", sub: \"-\", mul: \"*\", div: \"/\", mod: \"%\"};\nfor (const [mnemonic, operator] of Object.entries(OPERATOR_3_DATA)) {\n  for (const [suffix, refTy, valTy] of [['', '$', 'S'], ['F', '%', 'f']]) {\n    ANM_INS_DATA[`${mnemonic}${suffix}3`] = {\n      sig: `${refTy}${valTy}${valTy}`,\n      args: ['x', 'a', 'b'],\n      desc: `Does \\`a = b ${operator} c\\`.`,\n    };\n  }\n}\n\nObject.assign(ANM_INS_DATA, {\n  'v3-rand': {sig: '$S', args: ['x', 'n'], succ: 'v4-rand', desc: 'Draw a random integer `0 <= x < n` using the global RNG.'},\n  'v3-randF': {sig: '%f', args: ['x', 'r'], succ: 'v4-randF', desc: 'Draw a random float `0 <= x <= r` using the global RNG.'},\n  'v4-rand': {sig: '$S', args: ['x', 'n'], succ: 'rand', desc: 'Draw a random integer `0 <= x < n` using the selected RNG (see [ref=anm:v4-randMode]).'},\n  'v4-randF': {sig: '%f', args: ['x', 'r'], succ: 'randF', desc: 'Draw a random float `0 <= x <= r` using the selected RNG (see [ref=anm:v4-randMode]).'},\n\n  'v4-randMode': {\n    sig: 'S', args: ['mode'], succ: 'v8-randMode', desc: `\n    Selects the RNG used by this VM.\n\n    [tiphide]\n    | Mode | Effect |\n    | :---: | --- |\n    | 0 | Uses the [replay RNG](#anm/concepts&a=rng) |\n    | 1 | Uses the [animation RNG](#anm/concepts&a=rng) |\n\n    It seems that 0, the replay RNG, is the default. This is in stark contrast to [game=13] onwards.\n    ([wip]this seems surprising... can somebody conclusively verify this?[/wip])\n\n    This flag will be enabled on any scripts created using any of the ANM instructions that create new VMs.\n    [/tiphide]\n  `},\n\n  'v8-randMode': {\n    sig: 'S', args: ['mode'], wip: 1, desc: `\n    A ([wip=1]completely ineffectual?[/wip]) leftover of [ref=anm:v4-randMode].\n\n    [tiphide]\n    Scripts in modern games still use this exactly as they did back in ANM V4/V7, and\n    [tip=though some of it is plain bugged in later games due to a memcpy added in TD after the flag is set in some\n    instructions]all of the code that manipulates this bitflag on child creation is still present[/tip],\n    but all of the code that _uses_ the bitflag appears to be gone.\n    [/tiphide]\n  `},\n\n  'rand': {sig: '$S', args: ['x', 'n'], desc: 'Draw a random integer `0 <= x < n` using the [animation RNG](#anm/concepts&a=rng).'},\n  'randF': {sig: '%f', args: ['x', 'r'], desc: 'Draw a random float `0 <= x <= r` using the [animation RNG](#anm/concepts&a=rng).'},\n\n  'mathSin': {sig: '%f', args: ['dest', 'θ'], desc: 'Compute `sin(θ)` (`θ` in radians).'},\n  'mathCos': {sig: '%f', args: ['dest', 'θ'], desc: 'Compute `cos(θ)` (`θ` in radians).'},\n  'mathTan': {sig: '%f', args: ['dest', 'θ'], desc: 'Compute `tan(θ)` (`θ` in radians).'},\n  'mathAcos': {sig: '%f', args: ['dest', 'x'], desc: 'Compute `acos(x)` (output in radians).'},\n  'mathAtan': {sig: '%f', args: ['dest', 'm'], desc: 'Compute `atan(m)` (output in radians).'},\n  'mathReduceAngle': {sig: '%', args: ['θ'], desc: 'Reduce an angle modulo `2*PI` into the range `[-PI, +PI]`.'},\n  'mathCirclePos': {sig: '%%ff', args: ['x', 'y', 'θ', 'r'], desc: '`x = r*cos(θ);`<br>`y = r*sin(θ);`'},\n  'mathCirclePosRand': {\n    sig: '%%ff', args: ['x', 'y', 'rmin', 'rmax'], desc: `\n    Uniformly draws a random radius \\`r\\` in the interval given by \\`rmin\\` and \\`rmax\\`, and picks a random angle\n    (both using the [animation RNG](#anm/concepts&a=rng)).\n    Then basically computes [ref=anm:mathCirclePos] on those.\n\n    This isn't the right way to uniformly draw points on a ring shape, but I don't think that's what it's used for anyways.\n    (it's more like for just making a random vector with a random magnitude)\n  `},\n});\n\n// =========================\n// ==== RENDER SETTINGS ====\n// =========================\nObject.assign(ANM_INS_DATA, {\n  'sprite': {\n    sig: 'S', args: ['id'], desc: `\n    Sets the image used by this VM to one of the sprites defined in the ANM file.\n    [tiphide]\n    A value of \\`-1\\` means to not use an image (this is frequently used with [special drawing instructions](#anm/ins&a=group-600)).\n    thanm also lets you use the sprite's name instead of an index.\n\n    [wip=2]Under some unknown conditions, these sprite indices are transformed by a \"sprite-mapping\"\n    function; e.g. many bullet scripts use false indices, presumably to avoid repeating the same script\n    for 16 different colors.  The precise mechanism of this is not yet fully understood.[/wip]\n    [/tiphide]\n  `},\n  'spriteRand': {\n    sig: 'SS', args: ['a', 'b'], desc: `\n    Selects a random sprite from \\`a\\` (inclusive) to \\`a + b\\` (exclusive).\n\n    * (&ndash;[game=128]): uses the [replay RNG](#anm/concepts&a=rng), regardless of [ref=anm:v4-randMode].\n    * ([game=13]&ndash;): uses the [animation RNG](#anm/concepts&a=rng).\n  `},\n  'blendAdditive': {sig: '', args: [], desc: `Enables additive blending by setting \\`D3DRS_DESTBLEND\\` to \\`D3DBLEND_ONE\\`.`},\n  'blendAlpha': {sig: '', args: [], desc: `Disables additive blending by setting \\`D3DRS_DESTBLEND\\` to \\`D3DBLEND_INVSRCALPHA\\`. (the default)`},\n  'blendMode': {\n    sig: 'S', args: ['mode'], desc: `\n    Set color blending mode.\n\n    [tiphide]\n    Modes for [game=14]: (other games may be different)\n\n    | Mode | \\`SRCBLEND\\` | \\`DESTBLEND\\` | \\`BLENDOP\\` | Meaning |\n    | :---: | ---           | --- | --- | --- |\n    | 0 | \\`SRCALPHA\\` | \\`INVSRCALPHA\\` | \\`ADD\\` | Normal |\n    | 1 | \\`SRCALPHA\\` | \\`ONE\\` | \\`ADD\\` | Add |\n    | 2 | \\`SRCALPHA\\` | \\`ONE\\` | \\`REVSUBTRACT\\` | Subtract (but weird?)† |\n    | 3 | \\`ONE\\` | \\`ZERO\\` | \\`ADD\\` | Replace |\n    | 4 | \\`INVDESTCOLOR\\` | \\`INVSRCCOLOR\\` | \\`ADD\\` | Screen? (S + D - SD) |\n    | 5 | \\`DESTCOLOR\\` | \\`ZERO\\` | \\`ADD\\` | Multiply, I guess? |\n    | 6 | \\`INVSRCCOLOR\\` | \\`INVSRCALPHA\\` | \\`ADD\\` | *uh.*  (S(1-S) + D(1-alpha)) |\n    | 7 | \\`DESTALPHA\\` | \\`INVDESTALPHA\\` | \\`ADD\\` | Normal but src is drawn *behind* dest |\n    | 8 | \\`SRCALPHA\\` | \\`ONE\\` | \\`MIN\\` | Darken only? |\n    | 9 | \\`SRCALPHA\\` | \\`ONE\\` | \\`MAX\\` | Lighten only? |\n\n    [wip]These are all untested, I only looked at assembly.[/wip]\n\n    † Weird because it seems this would also subtract alpha. (so if the thing you're drawing is fully opaque,\n    the result will be fully transparent, deleting even the background...)\n    [/tiphide]\n  `},\n  // TODO: Maybe link to RenderType enum.\n  'renderMode': {\n    sig: 'S', args: ['t'], desc: `\n    Determines how the ANM is rendered.\n\n    [tiphide]\n    Mode numbers can change between games, but the most popular modes have pretty stable numbers:\n\n    * Mode 0 is for 2D sprites that do not require rotation.\n    * Mode 1 is for 2D sprites that require rotation around the z-axis. <br>\n      [wip]When you activate mode 1, things may suddenly become a bit blurry.  Visually it looks identical to\n      mode 2 at zero rotation, but the cause seems different based on the code?[/wip]\n    * Mode 8 is for sprites that need to rotate in 3D space.\n    * [wip]Mode 2 is like mode 0, but shifts the position by (-0.5, -0.5) pixels, making it appear ever-so-slightly\n        larger and blurrier.[/wip]\n    * [wip]Any other modes used in scripts are a total mystery at this time.[/wip]\n    * Many mode numbers are not intended for use by ANM scripts, and are instead reserved for instructions\n      like [ref=anm:textureCircle] and [ref=anm:drawRect] (each one has its own mode).\n    [/tiphide]\n  `},\n  'layer': {\n    sig: 'S', args: ['n'], desc: `\n    Sets the layer of the ANM.  [tiphide][wip]This may or may not affect z-ordering? It's weird...[/wip][/tiphide]\n\n    [tiphide]\n    **Different layer numbers may behave differently!** Each game only has a finite number of layers,\n    and certain groups of these layers are drawn at different stages [in the rendering pipeline](#anm/stages-of-rendering).\n    Be especially careful when porting something from one game to another, as the layer groupings may have changed.\n    [/tiphide]\n  `},\n  'flipX': {\n    sig: '', args: [], desc: `\n    Toggles mirroring on the x axis.\n    [tiphide]\n    This very simply [tip=It also sets a bitflag but I think only EoSD uses it to keep the sign flipped during interpolation of scale.]just[/tip]\n    flips the sign of \\`sx\\` in [ref=anm:scale].  Future calls to [ref=anm:scale] will thus basically undo it.\n    [/tiphide]\n  `},\n  'flipY': {\n    sig: '', args: [], desc: `\n    Toggles mirroring on the y axis.\n    [tiphide]\n    This very simply [tip=It also sets a bitflag but I think only EoSD uses it to keep the sign flipped during interpolation of scale.]just[/tip]\n    flips the sign of \\`sy\\` in [ref=anm:scale].  Future calls to [ref=anm:scale] will thus basically undo it.\n    [/tiphide]\n  `},\n  'resampleMode': {\n    sig: 'S', args: ['n'], desc: `\n    Determines how a sprite is resampled when scale is greater or less than 1f.\n\n    [tiphide]\n    | Mode | D3D constant | Meaning | Layman's terms |\n    | :---: | --- | --- | --- |\n    | 0    | \\`D3DTEXF_LINE\\` | linear interpolation | blurry |\n    | 1    | \\`D3DTEXF_POINT\\` | nearest-point sampling | big pixels |\n\n    As an example, Reimu's sprite in [game=14] uses [ref-notip=anm:resampleMode]\\`(1)\\`, while her hitbox animation does not.\n    Here you can see the effect of enabling it on the hitbox during Shinmyoumaru's survival spell.<br>\n    <img src=\"./content/anm/img/ins-v8-311.png\" height=\"200px\">\n    [/tiphide]\n  `},\n  'scrollMode': {\n    sig: 'SS', args: ['xmode', 'ymode'], desc: `\n    Determines how a sprite pulls image data when an instruction like [ref=anm:uvScale], [ref=anm:uVel],\n    or [ref=anm:textureCircle] causes it to pull from [uv coords](#anm/concepts&a=uv-coords) outside the \\`(0,0)-(1,1)\\` rectangle.\n\n    [tiphide]\n    | Mode | D3D constant | Meaning |\n    | ---  | --- | --- |\n    | 0    | \\`D3DTADDRESS_WRAP\\` | texture repeats infinitely |\n    | 1    | \\`D3DTADDRESS_CLAMP\\` | pixels at the edge extend to infinity |\n    | 2    | \\`D3DTADDRESS_MIRROR\\` | like 0 but every other image is mirrored |\n    [/tiphide]\n  `},\n  'originMode': {\n    sig: 'S', args: ['mode'], wip: 1, desc: `\n    Determines the origin used by the sprite.\n\n    [tiphide]\n    | Value | Origin | Appropriate for |\n    | ---   | ---    | --- |\n    | 0     | Top left of target surface. | Border around the game. |\n    | 1     | Location of ECL's (0, 0) in [rendering stages 1 to 3](#anm/stages-of-rendering&a=stage-1) | Game elements always drawn at 640x480. |\n    | 2     | Location of ECL's (0, 0) in [rendering stage 4](#anm/stages-of-rendering&a=stage-4) | Game elements drawn at full res (e.g. boss HP). |\n\n    **If your sprite is correctly positioned at 640x480 resolution but not at larger resolutions,\n    you may want to check this setting.** (as well as [ref=anm:resolutionMode])\n    [/tiphide]\n\n    Typically, [ref=anm:layer] will automatically set this to a good default.\n    [wip]Clear guidelines are not yet known for when you are required to override that default.[/wip]\n\n    [tiphide]\n    This only has an effect on root graphics. (for child graphics, the origin is always the parent's position)\n    [/tiphide]\n  `},\n  'resolutionMode': {\n    sig: 'S', args: ['n'], wip: 1, desc: `\n    Determines how certain aspects of the game are scaled to the current resolution.\n\n    [c=red]TODO: details[/c]\n\n    Typically, [ref=anm:layer] will automatically set this to a good default.\n    [wip]Clear guidelines are not yet known for when you are required to override that default.[/wip]\n\n    [tiphide]\n    **If your sprite is correctly positioned at 640x480 resolution but not at larger resolutions,\n    you may want to check this setting.** (as well as [ref=anm:originMode])\n    [/tiphide]\n  `},\n});\n\n// ==================\n// ==== DA BASICS ===\n// ==================\nObject.assign(ANM_INS_DATA, {\n  'pos': {\n    sig: 'fff', args: ['x', 'y', 'z'], desc: `\n    Sets the position of the graphic.\n\n    [tiphide]\n    There is a bitflag that, when activated, causes [ref=anm:pos] and all other position-modifying code\n    to overwrite [\\`pos_2\\`](#anm/concepts&a=position) instead.\n    [wip]The method of setting this bitflag, and its purpose, is unknown.[/wip]\n    [/tiphide]\n  `},\n  'rotate': {\n    sig: 'fff', args: ['rx', 'ry', 'rz'], desc: `\n    Set the graphic's rotation.  For 2D objects, only the z rotation matters.\n    [tiphide]\n    In some rare cases, x rotation has a special meaning for [special drawing instructions](#anm/ins&a=group-600).\n    Graphics rotate around their anchor point (see [ref=anm:anchor]).\n\n    A positive angle around the z-axis goes **clockwise** from the +x direction towards the +y direction (defined to point down).\n    3D rotations are performed as follows: (see the [conventions](#anm/conventions) page for more info)\n\n    * ([game=06]) Rotate first around x, then around y, then around z.\n    * ([game=07]&ndash;[game=128]) [wip]Haven't checked. Probably the same?[/wip]\n    * ([game=13]&ndash;) You can choose the rotation system with [ref=anm:rotationSystem]. [wip](what's the default? probably the same?)[/wip]\n\n    *If nothing seems to be happening when you call this, check your [ref=anm:renderMode] setting!*\n    [/tiphide]\n  `},\n  'rotateAuto': {\n    sig: 'b', args: ['mode'], desc: `\n    Sets the auto-rotate flag, which causes a graphic to rotate to face its direction of motion.\n\n    [wip]\n    You can't just put this in any arbitrary script and expect it to work; the script must be used somewhere\n    specifically designed to support it, such as an enemy bullet, a player bullet.\n    A predecessor to this instruction [ref=anm:v0-26] also enabled auto rotation on secondary VMs on an enemy;\n    not sure if that is still true here.\n    <!-- there is something for enemies at th125.exe+0x41191b though -->\n    [/wip]\n  `},\n  'rotationSystem': {\n    sig: 'S', args: ['mode'], desc: `\n    Sets the conventions for 3D rotation (e.g. XYZ, ZYX, etc.).\n    [wip]TODO: Define the modes.[/wip]\n  `},\n  'scale': {\n    sig: 'ff', args: ['sx', 'sy'], desc: `\n    Scales the ANM independently along the x and y axis.\n    Graphics grow around their anchor point (see [ref=anm:anchor]).\n    Some [special drawing instructions](#anm/ins&a=group-600) give the x and y scales special meaning.\n  `},\n  'scale2': {\n    sig: 'ff', args: ['sx', 'sy'], desc: `\n    *As far as we know,* this is just an extra set of scale factors that apply separately (multiplicatively)\n    to [ref=anm:scale].\n\n    [tiphide]\n    All [special drawing instructions](#anm/ins&a=group-600) ignore this (which is a shame, because it means you still can't\n    draw ellipses...).\n    [/tiphide]\n  `},\n  'rgb-dword': {\n    sig: 'S', args: ['rgb'], succ: 'rgb', desc: `\n    Set a color which gets blended with this sprite.\n\n    This version takes a single dword in the form \\`0x00RRGGBB\\`.  Variables are not supported.\n  `},\n  'rgb': {\n    sig: 'SSS', args: ['r', 'g', 'b'], desc: `\n    Set a color which gets blended with this sprite.\n    Blend operation is [multiply](https://en.wikipedia.org/wiki/Blend_modes#Multiply), so setting white (255, 255, 255) eliminates the effect.\n  `},\n  'alpha': {\n    sig: 'S', args: ['alpha'], desc: `\n    Set alpha (opacity) to a value 0-255.\n  `},\n  'rgb2': {\n    sig: 'SSS', args: ['r', 'g', 'b'], desc: `\n    Set a second color for gradients.  Gradients are used by certain [special drawing instructions](#anm/ins&a=group-600), and can be enabled\n    on regular sprites using [ref=anm:colorMode].\n  `},\n  'alpha2': {\n    sig: 'S', args: ['alpha'], desc: `\n    Set a second alpha for gradients.  Gradients are used by certain [special drawing instructions](#anm/ins&a=group-600), and can be enabled\n    on regular sprites using [ref=anm:colorMode].\n  `},\n  'colorMode': {\n    sig: 'S', args: ['mode'], desc: `\n    Lets you enable gradients on regular sprites.\n\n    [tiphide]\n    | Value | Effect |\n    | :---: |   ---  |\n    |   0   | Only use the color set by [ref=anm:rgb] and [ref=anm:alpha]. |\n    |   1   | Only use the color set by [ref=anm:rgb2] and [ref=anm:alpha2]. |\n    |   2   | ([game=125]&ndash;) Horizontal gradient. |\n    |   3   | ([game=125]&ndash;) Vertical gradient. |\n\n    This has no effect on [special drawing instructions](#anm/ins&a=group-600).\n\n    For some strange reason, from [game=14] onwards,\n    [ref=anm:rgb2Time] and [ref=anm:alpha2Time] automatically do [ref-notip=anm:colorMode](1).\n    Therefore, if you use those instructions, you must call this *afterwards,* not before.\n\n    **ECL modders beware:** The game may interfere with the use of [ref=anm:rgb2], [ref=anm:alpha2] and [ref=anm:colorMode]\n    on the VM in slot 0 of an enemy, because it uses them to make enemies blink when they take damage.\n    [/tiphide]\n  `},\n  'colorizeChildren': {\n    sig: 'b', args: ['enable'], desc: `\n    Sets a bitflag that causes colorization (see [ref=anm:rgb]) to affect children as well.\n\n    [tiphide]\n    The game uses this on yin-yang orb enemies to ensure that their satellites also flash on damage taken.\n    In the following image, the damage flash was significantly exaggerated to make the difference easy to see.\n\n    <img src=\"content/anm/img/ins-colorize-children.png\">\n\n    Notes:\n    * Must be called *before* the children are created. (the bitflag is copied on child creation)\n    * Not supported by [special drawing instructions](#anm/ins&a=group-600).\n    * Both parent and child must not be using gradients (i.e. they must have [ref=anm:colorMode] 0 or 1).\n    [/tiphide]\n  `},\n  'angleVel': {sig: 'fff', args: ['ωx', 'ωy', 'ωz'], desc: `Set a constant angular velocity, in radians per frame.`},\n  'scaleGrowth': {sig: 'ff', args: ['gx', 'gy'], desc: `\n    Every frame, it increases the values of [ref=anm:scale] as \\`sx -> sx + gx\\` and \\`sy -> sy + gy\\`.\n    Basically, [ref-notip=anm:scaleGrowth] is to [ref=anm:scale] as [ref=anm:angleVel] is to [ref=anm:rotate].\n    (they even share implemenation details...)\n  `},\n  'uAdd': {sig: 'f', args: ['du'], desc: `\n    Adds \\`du\\` to the [texture u coordinate](#anm/concepts&a=uv-coords).\n\n    [tiphide]\n    Later versions remove this entirely in favor of [ref=anm:uVel].\n    [/tiphide]\n  `},\n  'vAdd': {sig: 'f', args: ['dv'], desc: `\n    Adds \\`dv\\` to the [texture v coordinate](#anm/concepts&a=uv-coords).\n\n    [tiphide]\n    Later versions remove this entirely in favor of [ref=anm:vVel].\n    [/tiphide]\n  `},\n  'uVel': {sig: 'f', args: ['vel'], desc: `\n    Add \\`vel\\` to the [texture u coordinate](#anm/concepts&a=uv-coords) every frame (in units of \\`1 / total_image_width\\`),\n    causing the displayed sprite to scroll horizontally through the image file.\n\n    [tiphide]\n    This image shows [ref=anm:uVel] used with a negative argument:\n\n    <img src=\"content/anm/img/ins-u-vel.gif\">\n    [/tiphide]\n  `},\n  'vVel': {sig: 'f', args: ['vel'], desc: `\n    Add \\`vel\\` to the [texture v coordinate](#anm/concepts&a=uv-coords) every frame (in units of \\`1 / total_image_height\\`),\n    causing the displayed sprite to scroll vertically through the image file.\n  `},\n  'uvScale': {sig: 'ff', args: ['uscale', 'vscale'], desc: `\n    Scales [texture uv coordinates](#anm/concepts&a=uv-coords).  [tiphide]Values greater than 1 means that a larger\n    region of the texture (spritesheet) is shown.  Typically used to make a texture repeat multiple times, but you\n    can also use [ref=anm:scrollMode] to change what happens.\n    [/tiphide]\n\n    [tiphide]\n    Here is a demonstration using [ref=anm:uvScaleTime] to change \\`uscale\\` to 3 on the left,\n    and \\`vscale\\` to 3 on the right.  (in this case, the sprite occupies the full texture)\n\n    <img src=\"content/anm/img/ins-uv-scale.gif\" height=\"200px\">\n    [/tiphide]\n  `},\n  'v0-anchorBottomLeft': {sig: '', args: [], desc: `\n    Changes the anchor point to the bottom left. (default is center)\n\n    [tiphide]\n    [wip]UNTESTED:[/wip]\n    This is not entirely the same as [ref=anm:anchor] in future games.  In particular, judging from the code,\n    I do not believe it changes the center of rotation or scaling, but rather merely translates the sprite\n    by \\`(+sx*w/2, -sy*h/2)\\` *after* scaling and rotating it. (where \\`w,h\\` are sprite dimensions\n    and \\`sx,sy\\` come from [ref=anm:scale]).\n    [/tiphide]\n  `},\n  'anchor': {sig: 'ss', args: ['h', 'v'], desc: `\n    Set the horizontal and vertical anchoring of the sprite.  Notice the args are each two bytes.\n    For further fine-tuning see [ref=anm:anchorOffset].\n\n    [tiphide]\n    | Args  |  0     |  1   | 2      |\n    | :---:  | ---    | ---  | ---    |\n    | \\`h\\` | Center | Left | Right  |\n    | \\`v\\` | Center | Top  | Bottom |\n    [/tiphide]\n  `},\n  'anchorOffset': {sig: 'ff', args: ['dx', 'dy'], desc: `\n    Nudge the anchor point of the sprite right by \\`dx\\` pixels and down by \\`dy\\` pixels in the source image.\n    Important for asymmetric bullet sprites because the anchor position is the center point for rotation and scaling.\n\n    [tiphide]\n    [wip=1]\n    Surprisingly, UFO did not have this.\n    At this time, it is unclear how rotated bullets were correctly positioned in those earlier games.\n    [/wip]\n\n    In the image below, both hearts are rotating using [ref=anm:angleVel]\\`(0f, 0f, rad(3))\\`,\n    but the pink heart additionally has:\n\n    [code]\n      [ref=anm:anchor](1, 1);\n      [ref=anm:anchorOffset](9.5f, 25f);\n    [/code]\n\n    ![anchorOffset demo](./content/anm/img/ins-v8-436.gif)\n\n    [/tiphide]\n  `},\n});\n\n// more timely basics\nObject.assign(ANM_INS_DATA, {\n  'posTime': {sig: 'SSfff', args: ['t', 'mode', 'x', 'y', 'z'], desc: `Over the next \\`t\\` frames, changes [ref=anm:pos] to the given values using [interpolation mode](#anm/interpolation) \\`mode\\`.`},\n  'rotateTime': {sig: 'SSfff', args: ['t', 'mode', 'rx', 'ry', 'rz'], desc: `Over the next \\`t\\` frames, changes [ref=anm:rotate] to the given values using [interpolation mode](#anm/interpolation) \\`mode\\`.`},\n  'scaleTime': {sig: 'SSff', args: ['t', 'mode', 'sx', 'sy'], desc: `Over the next \\`t\\` frames, changes [ref=anm:scale] to the given values using [interpolation mode](#anm/interpolation) \\`mode\\`.`},\n  'scale2Time': {sig: 'SSff', args: ['t', 'mode', 'sx', 'sy'], desc: `Over the next \\`t\\` frames, changes [ref=anm:scale2] to the given values using [interpolation mode](#anm/interpolation) \\`mode\\`.`},\n  'uvScaleTime': {sig: 'SSff', args: ['t', 'mode', 'uscale', 'vscale'], desc: `Over the next \\`t\\` frames, changes [ref=anm:uvScale] to the given values using [interpolation mode](#anm/interpolation) \\`mode\\`.`},\n  'alphaTime': {sig: 'SSS', args: ['t', 'mode', 'alpha'], desc: `Over the next \\`t\\` frames, changes [ref=anm:alpha] to the given values using [interpolation mode](#anm/interpolation) \\`mode\\`.`},\n  'alpha2Time': {sig: 'SSS', args: ['t', 'mode', 'alpha'], desc: `\n    Over the next \\`t\\` frames, changes [ref=anm:alpha2] to the given value using [interpolation mode](#anm/interpolation) \\`mode\\`.\n\n    [tiphide]For some reason, in [game=14] onwards, this also sets [ref=anm:colorMode] to 1, which can be a mild inconvenience.[/tiphide]\n  `},\n  'rgbTime-dword': {\n    sig: 'SSS', args: ['t', 'mode', 'rgb'], succ: 'rgbTime', desc: `\n    Over the next \\`t\\` frames, changes [ref=anm:rgb-dword] to the given value using [interpolation mode](#anm/interpolation) \\`mode\\`.\n\n    This version takes a single dword in the form \\`0x00RRGGBB\\`.  Variables are not supported.\n  `},\n  'rgbTime': {sig: 'SSSSS', args: ['t', 'mode', 'r', 'g', 'b'], desc: `Over the next \\`t\\` frames, changes [ref=anm:rgb] to the given value using [interpolation mode](#anm/interpolation) \\`mode\\`.`},\n  'rgb2Time': {sig: 'SSSSS', args: ['t', 'mode', 'r', 'g', 'b'], desc: `\n    Over the next \\`t\\` frames, changes [ref=anm:rgb2] to the given value using [interpolation mode](#anm/interpolation) \\`mode\\`.\n\n    [tiphide]For some reason, in [game=14] onwards, this also sets [ref=anm:colorMode] to 1, which can be a mild inconvenience.[/tiphide]\n  `},\n  'uVelTime': {sig: 'SSf', args: ['t', 'mode', 'vel'], desc: `\n    Over the next \\`t\\` frames, changes [ref=anm:uVel] to the given value using [interpolation mode](#anm/interpolation) \\`mode\\`.\n\n    [tiphide]\n    Remember that [ref=anm:uVel] is scroll *velocity,* not position.\n    [/tiphide]\n  `},\n  'vVelTime': {sig: 'SSf', args: ['t', 'mode', 'vel'], desc: `\n    Over the next \\`t\\` frames, changes [ref=anm:vVel] to the given value using [interpolation mode](#anm/interpolation) \\`mode\\`.\n\n    [tiphide]\n    Remember that [ref=anm:vVel] is scroll *velocity,* not position.\n    [/tiphide]\n  `},\n  'rotateTime2D': {\n    sig: 'SSf', args: ['t', 'mode', 'rz'], desc: `\n    A compact version of [ref=anm:rotateTime] that only interpolates the z rotation.\n    [tiphide]\n    Only used by [game=128] in the main menu.\n\n    (note: [ref=anm:rotateTime2D] and [ref=anm:rotateTime] are tracked separately, but judging from the code, they **are not** meant\n    to be used together and their effects do not stack properly)\n    [/tiphide]\n  `},\n  'alphaTimeLinear': {\n    sig: 'SS', args: ['alpha', 't'], desc: `\n    [tiphide]**Obsolete.** Use [ref=anm:alphaTime] instead.[/tiphide]\n\n    [wip]UNTESTED:[/wip]\n    Linearly changes alpha to \\`alpha\\` over the next \\`t\\` frames.\n    [tiphide]\n    Identical to calling [ref=anm:alphaTime]\\`(t, 0, alpha)\\`.\n    [/tiphide]\n  `},\n  'posTimeLinear': {\n    sig: 'fffS', args: ['x', 'y', 'z', 't'], wip: 1, desc: `\n    [tiphide]**Obsolete.** Use [ref=anm:posTime] instead.[/tiphide]\n\n    [wip]UNTESTED:[/wip]\n    Linearly changes position to \\`(x, y, z)\\` over the next \\`t\\` frames.\n    [tiphide]\n    Identical to calling [ref=anm:posTime]\\`(t, 0, x, y, z)\\`.\n    [/tiphide]\n  `},\n  'posTimeEaseout': {\n    sig: 'fffS', args: ['x', 'y', 'z', 't'], wip: 1, desc: `\n    [tiphide]**Obsolete.** Use [ref=anm:posTime] instead.[/tiphide]\n\n    [wip]UNTESTED:[/wip]\n    Changes position to \\`(x, y, z)\\` over the next \\`t\\` frames with a sudden burst\n    of speed that decelerates over time.\n    [tiphide]\n    Identical to calling [ref=anm:posTime]\\`(t, 4, x, y, z)\\`.\n    [/tiphide]\n  `},\n  'posTimeEaseout4': {\n    sig: 'fffS', args: ['x', 'y', 'z', 't'], wip: 1, desc: `\n    [tiphide]**Obsolete.** Use [ref=anm:posTime] instead.[/tiphide]\n\n    [wip]UNTESTED:[/wip]\n    Changes position to \\`(x, y, z)\\` over the next \\`t\\` frames with a sudden burst\n    of speed that sharply decelerates as \\`t^4\\`.\n    [tiphide]\n    Identical to calling [ref=anm:posTime]\\`(t, 6, x, y, z)\\`.\n    [/tiphide]\n  `},\n  'scaleTimeLinear': {\n    sig: 'ffS', args: ['sx', 'sy', 't'], wip: 1, desc: `\n    [tiphide]**Obsolete.** Use [ref=anm:scaleTime] instead.[/tiphide]\n\n    [wip]UNTESTED:[/wip]\n    Linearly changes scale to \\`(sx, sy)\\` over the next \\`t\\` frames.\n    [tiphide]\n    Identical to calling [ref=anm:scaleTime]\\`(t, 0, sx, sy)\\`.\n    [/tiphide]\n  `},\n  'posBezier': {\n    sig: 'Sfffffffff', args: ['t', 'x1', 'y1', 'z1', 'x2', 'y2', 'z2', 'x3', 'y3', 'z3'],\n    desc: `\n    In \\`t\\` frames, moves to \\`(x2, y2, z2)\\` using Bezier interpolation.\n\n    [tiphide]\n    * The graphic starts at its current position.\n    * \\`(x1/t, y1/t, z1/t)\\` is the **initial velocity.**\n    * \\`(x2, y2, z2)\\` is the **final position.**\n    * \\`(x3/t, y3/t, z3/t)\\` is the **final velocity.**\n    [/tiphide]\n  `},\n  'posTime2D': {\n    sig: 'SSff', args: ['t', 'mode', 'x', 'y'], wip: 1, desc: `\n    Looks like a 2D version of [ref=anm:posTime]?  ([wip]Is that all? Seems pointless[/wip])\n  `},\n});\n\n// =================\n// ==== DRAWING ====\n// =================\n\n// 2D texture circles\nObject.assign(ANM_INS_DATA, {\n  'textureCircle': {\n    sig: 'S', args: ['nmax'], desc: `\n    Wraps a texture into a thin ring (annulus).  The argument determines the size of an internal buffer.\n\n    [tiphide]\n    First, the texture is repeated an integer number of times along the y axis.\n    Then, it is stretched and wrapped into an annular shape as follows:\n\n    * The x-scale from [ref=anm:scale] is the **width** of the annulus (R2-R1).\n    * The y-scale is the **radius** of the \"middle\" of the texture. (0.5*(R1+R2))\n    * [ref=anmvar:i0] is the **number of points** to create along this arc section.\n    * [ref=anmvar:i1] is the **number of times the texture is repeated**.\n\n    After calling this command you can **change these parameters in real-time** simply by\n    modifying [ref=anm:scale], [ref=anmvar:i0] and [ref=anmvar:i1]. Further notes:\n\n    * **[ref=anmvar:i0] MUST be \\`<= nmax\\` at all times!**\n    * For this command, the last point is equal to the first point, so n points makes an (n-1)gon.\n    * The repeating of the texture is done in a manner affected by [ref=anm:scrollMode],\n      and the sprite is assumed to span the full height of its image file.\n    * The image is reversed; use a negative x-scale to make it normal.\n\n    [wip]Out of all five 600-series instructions that contort textures, this instruction is unique in that it\n    appears to support gradients whenever [ref=anm:colorMode] is nonzero, but I haven't tested this.[/wip]\n\n    Comparison image of the two-dimensional texture circle instructions in TH17:<br>\n    ![600, 601, 602 comparison](./content/anm/img/ins-v8-texCircle.png)\n    [/tiphide]\n  `},\n  'textureArc': {\n    sig: 'S', args: ['nmax'], desc: `\n    Similar to [ref=anm:textureCircle], but creates an arc segment beginning from an angle of zero and running clockwise.\n    [tiphide]\n    In addition to all of the settings [ref=anm:textureCircle], this has one additional parameter:\n    * The x rotation from [ref=anm:rotate] defines **the angle subtended by the arc.**\n\n    Note that the shape will always contain [ref=anmvar:i1] full copies of the image. (they stretch and shrink with\n    \\`rotx\\` rather than being cut off).\n    [/tiphide]\n  `},\n  'textureArcEven': {\n    sig: 'S', args: ['nmax'], desc: `\n    Identical to [ref=anm:textureArc] but awkwardly centered around angle 0 rather than starting at 0.\n  `},\n  'textureCylinder3D': {\n    sig: 'S', args: ['nmax'], desc: `\n    Wraps a texture into the 3D surface of a cylindrical section.\n    The argument determines the size of an internal buffer.\n\n    [tiphide]\n    First, the texture is repeated an integer number of times along the y axis.\n    (this is done in a manner affected by [ref=anm:scrollMode],\n    and the sprite is assumed to span the full height of its image file).\n    Then, it is turned on its side in 3D space, stretched and wrapped into a section\n    of a cylinder as follows:\n\n    * [ref=anmvar:f0] is the **total angle** subtended by the arc section.  (\\`2PI\\` = a full cylinder)\n    * [ref=anmvar:f1] is the **height**.\n    * [ref=anmvar:f2] is the **radius**.\n    * [ref=anmvar:f3] is the **center angle** of the arc section, measured towards +z from the x-axis (see image).\n    * [ref=anmvar:i0] is the **number of points** to create along this arc section.  (this MUST be \\`<= nmax\\` at all times!)\n    * [ref=anmvar:i1] is the **number of times the texture is repeated**.\n\n    After calling this command you can modify these variables to change the shape in real-time.\n\n    <img src=\"./content/anm/img/ins-v8-609.png\" height=\"250px\">\n    [/tiphide]\n  `},\n  'textureRing3D': {\n    sig: 'S', args: ['nmax'], desc: `\n    Wraps a texture into a thin ring (annulus) positioned in 3D space (i.e. the stage background).\n    The argument determines the size of an internal buffer.\n\n    [tiphide]\n    First, the texture is repeated an integer number of times along the y axis.\n    (this is done in a manner affected by [ref=anm:scrollMode],\n    and the sprite is assumed to span the full height of its image file).\n    Then, it is laid flat on the xz-plane in 3D space, and then\n    stretched and wrapped into an annular shape as follows:\n\n    * [ref=anmvar:f0] is the **total angle** subtended by the arc section.  (\\`2PI\\` = a full cylinder)\n    * [ref=anmvar:f1] is the **width** of the annulus. (R2 - R1)\n    * [ref=anmvar:f2] is the **radius of the \"middle\"** of the texture.  (1/2 * (R1 + R2))\n    * [ref=anmvar:f3] is the **center angle** of the arc section, measured towards +z from the x-axis (see image).\n    * [ref=anmvar:i0] is the **number of points** to create along this arc section.  (this MUST be \\`<= nmax\\` at all times!)\n    * [ref=anmvar:i1] is the **number of times the texture is repeated**.\n\n    After calling this command you can modify these variables to change the shape in real-time.\n\n    <img src=\"./content/anm/img/ins-v8-610.png\" height=\"250px\">\n    [/tiphide]\n  `},\n});\n\n// Circle-drawing family\nObject.assign(ANM_INS_DATA, {\n  'drawPoly': {\n    sig: 'fS', args: ['radius', 'nInit'], desc: `\n    Draws a filled regular n-gon with a gradient going from center to edge.\n    [tiphide]\n    \\`nInit\\` will be stored in the integer variable [ref=anmvar:i0], where you can change it at any time.\n    If you want to change the radius in real-time or from ECL, you can adjust the x-scale from [ref=anm:scale]\n    (which gets multiplied into the \\`radius\\` argument).\n    [/tiphide]\n  `},\n  'drawPolyBorder': {\n    sig: 'fS', args: ['radius', 'nInit'], desc: `\n    Like [ref=anm:drawPoly] but draws a 1-pixel border. No gradients.\n  `},\n  'drawRing': {\n    sig: 'ffS', args: ['radius', 'thickness', 'nInit'], desc: `\n    Draws a filled ring (annulus) with n sides.  No gradients.\n    [tiphide]\n    \\`nInit\\` is stored in $I0 like [ref=anm:drawPoly] and [ref=anm:drawPolyBorder].\n    \\`radius\\` is mean radius (0.5*(R1+R2)), \\`thickness\\` is (R2 - R1).\n    If you want to change the parameters in real-time or from ECL,\n    use the [ref=anm:scale] instruction; x-scale is multiplied into \\`radius\\`,\n    y-scale is multiplied into \\`thickness\\`.\n    [/tiphide]\n  `},\n});\n\n// Rectangle-drawing family\nObject.assign(ANM_INS_DATA, {\n  'drawRect': {\n    sig: 'ff', args: ['w', 'h'], desc: `\n    Draws a filled rectangle with the given dimensions.  No gradients.\n    If you want to control the dimensions from ECL, consider passing in \\`1.0\\` and changing the anm's scale instead.\n\n    [tiphide]\n    Image of the rectangle-drawing family of instructions in TH17:<br>\n    ![Overview of rectangle-drawing instructions in TH17.](./content/anm/img/ins-v8-drawRect.png)\n    [/tiphide]\n  `},\n  'drawRectGrad': {\n    sig: 'ff', args: ['w', 'h'], desc: `\n    Same as [ref=anm:drawRect] but supports gradients ([ref=anm:rgb2]), which go from left to right.\n  `},\n  'drawRectShadow': {\n    sig: 'ff', args: ['w', 'h'], desc: `\n    A variant of [ref=anm:drawRect] intended for rotated rectangles, which smooths out the edges\n    somewhat.\n\n    [tiphide]\n    **Be careful!** This can look ugly if your rotation is zero, *especially* if it moves!\n\n    [more]\n    More precisely, the implementation does the following:\n    1. Draw a rectangle like [ref=anm:drawRect] but of size \\`(w+1, h+1)\\`, and \\`0.5 * alpha\\`.\n    2. Then draw a rectangle exactly like [ref=anm:drawRect].\n\n    The first step is basically a sort of poor man's anti-aliasing hack, by creating something\n    that's half of a pixel larger in each direction.  When the rectangle is rotated, some of the\n    pixels along each edge will receive this half-alpha color, creating less jagged edges.\n    In this image, [ref=anm:drawRectShadow] is on the right:\n\n    <img src=\"content/anm/img/shadowgrad-rotate.gif\">\n\n    At zero rotation however, the effect looks pretty bad, because basically all of the\n    pixels along one horizontal edge and one vertical edge will get the half-alpha color.\n    This creates a sort of \"drop shadow\" that will bounce around between opposite sides of\n    the object as it moves, as seen here:\n\n    <img src=\"content/anm/img/shadowgrad-move.gif\">\n\n    Even if you can't quite see it, something certainly *feels* off about the square\n    on the right, wouldn't you agree?\n    [/more]\n    [/tiphide]\n  `},\n  'drawRectShadowGrad': {\n    sig: 'ff', args: ['w', 'h'], desc: `\n    Same as [ref=anm:drawRect] but supports gradients ([ref=anm:rgb2]), which go from left to right.\n  `},\n  'drawRectBorder': {\n    sig: 'ff', args: ['w', 'h'], desc: `\n    Draws a 1-pixel thick outline of a rectangle.  No gradients.\n\n    Just like [ref=anm:drawRect], you can control the dimensions externally using [ref=anm:scale].\n    (the border will remain 1 pixel thick even when scaled)\n  `},\n  'drawLine': {\n    sig: 'ff', args: ['len', 'unused'], desc: `\n    Draws a 1-pixel thick horizontal line.  The second argument is unused.  No gradients.\n\n    Just like [ref=anm:drawRect], you can change the length on demand by setting the x-scale in [ref=anm:scale];\n    the y-scale has no effect. If you want to change its direction, you must use [ref=anm:rotate].\n  `},\n});\n\n// ==================\n// ==== CHILDREN ====\n// ==================\nObject.assign(ANM_INS_DATA, {\n  'createChild': {\n    sig: 'S', args: ['script'], desc: `\n    The standard way to create a child graphic.\n  `},\n  'prependChild': {\n    sig: 'S', args: ['script'], wip: 1, desc: `\n    Create a child graphic, but insert it **at the front** of the [world list](#anm/ontick-ondraw) instead of the back.\n  `},\n  'createChildUi': {\n    sig: 'S', args: ['script'], desc: `\n    Create a child graphic, but insert it at the back **of the [UI list](#anm/ontick-ondraw)** instead.\n\n    UI ANMs are ticked even while the game is paused.\n  `},\n  'prependChildUi': {\n    sig: 'S', args: ['script'], wip: 1, desc: `\n    Create a child graphic, but insert it **at the front of the [UI list](#anm/ontick-ondraw)**.\n  `},\n  'attached': {\n    sig: 'S', args: ['enable'], wip: 1, desc: `\n    Sets a bitflag.  When the bitflag is enabled, the graphic will move as its parent rotates.\n    (picture a person holding a shield; as the person rotates, the shield moves around them)\n\n    [wip]Where is it used? Are there other effects?[/wip]\n  `},\n  'createEffect': {\n    sig: 'S', args: ['kind'], wip: 1, desc: `\n    Creates a special child graphic that may have additional hardcoded behavior.\n\n    [tiphide]\n    Different games have different effects!  Someday we'll have a table of them.\n    [/tiphide]\n  `},\n  'createRoot': {\n    sig: 'S', args: ['script'], wip: 1, desc: `\n    Creates a new root VM. (i.e. the new VM will have no parent)\n\n    [tiphide]\n    Pseudocode:\n    [code]\n    new_vm.rotation = this.rotation;\n    new_vm.pos = {0f, 0f, 0f};\n    new_vm.pos_2 = this.pos;\n    new_vm.pos_3 = this.pos_3;\n    [/code]\n    \\`pos_2\\` and \\`pos_3\\` refer to the mysterious [extra position vectors](#anm/concepts&a=position).\n    Assuming that \\`pos_2\\` on the parent is initially 0, one could perhaps say that [ref=anm:pos]\\`(0f, 0f)\\`\n    for the new VM corresponds to the original location of the parent when it called this instruction.\n    [/tiphide]\n  `},\n  'createChildPos': {\n    sig: 'Sff', args: ['script', 'x', 'y'], wip: 1, desc: `\n    Creates a child at an offset from this graphic.\n\n    [tiphide]\n    The child's [three position variables](#anm/concepts&a=position) will be:\n    [code]\n    child.pos = {0f, 0f, 0f};\n    child.pos_2 = {x, y, 0f};\n    child.pos_3 = {0f, 0f, 0f};\n    [/code]\n    [tiphide]\n  `},\n  'createRootPos': {\n    sig: 'Sff', args: ['script', 'x', 'y'], wip: 1, desc: `\n    Combines the effects of [ref=anm:createRoot] and [ref=anm:createChildPos].\n\n    [tiphide]\n    The net effect on the [three position variables](#anm/concepts&a=position) is:\n    [code]\n    new_vm.rotation = this.rotation;\n    new_script.pos = {0f, 0f, 0f};\n    new_script.pos_2 = {x, y, 0f};  // <-- arguments\n    new_script.pos_3 = this.pos_3;\n    [/code]\n    One can almost define [ref=anm:createRoot] in terms of this: (just missing the z coordinate)\n    [code]\n    [ref=anm:createRootPos](script, [ref=anmvar:pos-x], [ref=anmvar:pos-y]);\n    [/code]\n    [/tiphide]\n  `},\n  'ignoreParent': {\n    sig: 'S', args: ['ignore'], desc: `\n    Sets a bitflag.  If the bitflag is 1, then in many different contexts, the ANM will e.g. ignore the\n    parent's position/scale/rotation/etc. and it will be allowed to use e.g. [ref=anm:originMode] as though\n    it were root.\n\n    [tiphide]\n    The only game to ever make proper use this was [game=125], where it was used by some multilayered,\n    rotating spell backgrounds as well as the enemy names and diagonal banners on level entry\n    (children of the \"Shoot!\" text).\n\n    Generally speaking, it does not seem that this instruction is ever really *necessary*, which is\n    probably why it's no longer used.  If you find yourself needing it, you may want to consider the\n    alternative of turning the child into a sibling instead, by giving the two scripts a common parent.\n    (This will probably be more reliable/less buggy in the end.)\n    [/tiphide]\n  `},\n  'copyParentVars': {\n    sig: '', args: [], desc: `\n    When called on a child graphic, copies over a number of variables from its parent.\n\n    [tiphide]\n    They are:\n    [headless-table]\n    | | | | |\n    | --- | --- | --- | --- |\n    | [ref=anmvar:i0] | [ref=anmvar:f0] | [ref=anmvar:i4]             | [ref=anmvar:rand-param-int] |\n    | [ref=anmvar:i1] | [ref=anmvar:f1] | [ref=anmvar:i5]             | [ref=anmvar:mystery-angle-x]  |\n    | [ref=anmvar:i2] | [ref=anmvar:f2] | [ref=anmvar:rand-param-one] | [ref=anmvar:mystery-angle-y]  |\n    | [ref=anmvar:i3] | [ref=anmvar:f3] | [ref=anmvar:rand-param-pi]  | [ref=anmvar:mystery-angle-z]  |\n    [/headless-table]\n\n    [wip](example use case? the game uses it a lot...)[/wip]\n\n    ![copyParentVars demonstration](./content/anm/img/ins-v8-509.gif)\n    [/tiphide]\n  `},\n});\n\n// ============================\n// ==== WEIRD-ASS NONSENSE ====\n// ============================\nObject.assign(ANM_INS_DATA, {\n  'v8-418': {\n    sig: '', args: [], desc: `\n    A bizarre and **totally unused** instruction that appears to select a new sprite in the image file based on the anm's coordinates.\n\n    [tiphide]\n    [more]\n    The code does the following:\n    * Using the current position, scale, etc. and [ref=anm:renderMode] setting (which must be \\`<= 3\\`),\n      compute the corners of the rectangle that the ANM would occupy on the surface it is being drawn to.\n    * Divide each corner's coords by 640x480 (regardless of resolution or original image size).\n    * Use those as fractional uv coordinates for a region to pull sprite data from.\n\n    This basically lets you use any arbitrary rectangular region of a spritesheet as a sprite, even rotated ones!\n\n    Presumably, the intended use is to set [ref=anm:rotate] and [ref=anm:pos] and etc. for picking a sprite,\n    call this instruction, and then change [ref=anm:pos] and etc. again to the desired location for display.\n    You get a pretty cool effect though if you simply let the before and after positions be the same,\n    where it looks like a sort of window into another world.  (thanks to Priw8 for the video!)\n\n    <video controls width=\"400\" height=\"300\" preload=\"none\" poster=\"content/anm/img/priw8-418-thumb.png\">\n      <source type=\"video/mp4\" src=\"content/anm/img/priw8-418.mp4\">\n      <a download href=\"content/anm/img/priw8-418.mp4\">Download video (.MP4)</a>\n    </video>\n    [/more]\n    [/tiphide]\n  `},\n  'noZBuffer': {\n    sig: 'S', args: ['disable'], wip: 1, desc: `\n    If \\`disable\\` is 1, writing to the z-buffer is disabled.  Otherwise, it is enabled.\n    This can matter in cases where z-testing is used to filter writes.\n    ([wip]under what conditions are z-testing enabled, anyway?[/wip])\n    [wip]This seems strange. Are there other, unknown effects?[/wip]\n\n    [tiphide]\n    It is extremely difficult to find examples where this has any noticeable effect,\n    but there's an example in stage 4:\n\n    <a href=\"./content/anm/img/ins-v8-305.png\" target=\"_blank\"><img src=\"./content/anm/img/ins-v8-305.png\" style=\"max-width:100%;\"></a>\n    [/tiphide]\n  `},\n  'v8-306': {\n    sig: 'S', args: ['enable'], wip: 2, desc: `\n    [wip=2]Sets the state of a bitflag.  When this flag is enabled, some unknown vector from the stage background\n    camera data is added to some poorly-understood position-related vector on the ANM, for an even more\n    unknown purpose.[/wip]\n  `},\n  'posAdopt': {\n    sig: '', args: [], wip: 2, desc: `\n    [wip=2]Copies [\\`pos_3\\`](#anm/concepts&a=position) into \\`pos\\`, and zeros out \\`pos_3\\`...[/wip]\n  `},\n  'visible': {\n    sig: 'b', args: ['visible'], desc: `\n    Set the visibility flag (1 = visible). Invisible graphics are skipped during rendering.\n\n    [tiphide]\n    Generally speaking this is not a huge deal as the most expensive parts of rendering are typically\n    skipped anyways whenever [ref=anm:alpha] and [ref=anm:alpha2] are both 0. (and the latter defaults to 0).\n\n    The visibility flag is automatically set to 1 whenever a successful [interrupt](#anm/concepts&a=interrupt) occurs.\n    [/tiphide]\n  `},\n  'v0-26': {\n    sig: 's', args: ['arg'], wip: 2, desc: `\n    Uhhhhh. Geeze.  I dunno.  Might be a precursor to [ref=anm:renderMode]?\n\n    [tiphide]\n    Sets a word-sized field. Only ever called with the arguments 1, 2, or ([game=08]&ndash;) 18.\n    * **1** &mdash; [wip=2]Don't know.  Used by player and bullet ANMs in all pre-[game=10] games.\n      There's something added in the IN background code at \\`th08.exe+0x0a0ce\\` where it does something with color...[/wip]\n    * **2** &mdash; enables spherical billboarding when used on 3D background sprites.\n    * **18** &mdash; [wip=2]...also enables sperical billboarding? See \\`th08.exe+0x0a929\\` in the background rendering code.[/wip]\n    * Additionally, enemy rendering code at \\`th08.exe+0x42e1e6\\` sets the z-rotation on any *slotted VM* where this\n      field is nonzero. (slotted VMs only; the primary VM looks at the flag on the enemy set by ECL \\`ins_145\\` instead)\n    [/tiphide]\n  `},\n  'v8-flag-316': {sig: '', args: [], wip: 2, desc: `[wip=2]Enables an unknown bitflag. Clear with [ref=anm:v8-flag-317].[/wip]`},\n  'v8-flag-317': {sig: '', args: [], wip: 2, desc: `[wip=2]Clears the bitflag from [ref=anm:v8-flag-316].[/wip]`},\n  'v8-flag-419': {sig: 'S', args: ['enable'], wip: 2, desc: `[wip=2]Sets the state of an unknown bitflag.[/wip]`},\n  'v8-flag-431': {sig: 'S', args: ['enable'], wip: 2, desc: `[wip=2]Sets the state of an unknown bitflag.[/wip]`},\n  'v8-flag-432': {sig: 'S', args: ['enable'], wip: 2, desc: `[wip=2]Sets the state of an unknown bitflag. Only used by photo games.[/wip]`},\n  'v4-texCircle2': {sig: '', args: [], wip: 2, desc: '[wip=2]unidentified member of texCircle family, likely [ref=anm:textureArcEven][/wip]'},\n  'v4-texCircle3': {sig: '', args: [], wip: 2, desc: '[wip=2]unidentified member of texCircle family, likely [ref=anm:textureArc][/wip]'},\n  'vd-imaginary-439': {\n    sig: 'S', args: ['_'], desc: `\n    ANM \\`ins_439\\` does not exi[s](http://www.scpwiki.com/scp-3930)t.\n    It is used by [game=165] in \\`photo.anm\\`, where it does nothing because, again, *it does not exist.*\n    We thank you for your understanding.\n  `},\n  'posMode': {\n    sig: 'S', args: ['flag'], wip: 1, desc: `\n    [wip=1]Sets the state of a bitflag.  Wait a second, is that... is that the [alternate position flag!?](#anm/concepts&a=position)[/wip]\n  `},\n  'blink': {\n    sig: 'S', args: ['arg'], wip: 2, desc: `\n    [wip=2]\n    **Never used.** Does some bit math and then sets what *appears* to be the color flag\n    (which picks between [ref=anm:rgb] and [ref=anm:rgb2])?\n    [/wip]\n    [tiphide]\n    [wip=2]Somebody plz test.[/wip]\n\n    [wip=2]\n    Specifically, I think it sets the color flag equal to \\`floor(arg / 256) % 2\\`.  Thus, calling it with an\n    increasing argument should lead to blinking.\n    [/wip]\n    [/tiphide]\n  `},\n});\n\n// Add `minGame` and `maxGame` keys to each crossref.\nfor (const [game, table] of ANM_BY_OPCODE.entries()) {\n  for (const [opcodeStr, {ref}] of Object.entries(table)) {\n    if (ref === null) continue;\n    const id = ref.substring('anm:'.length);\n    const entry = ANM_INS_DATA[id];\n\n    if (!entry) {\n      window.console.error(`invalid ref in opcode table (game ${game}, opcode ${opcodeStr}): ${ref}`);\n      continue;\n    }\n\n    if (entry.minGame === undefined) {\n      entry.minGame = game;\n    }\n    entry.maxGame = game;\n  }\n}\n\nfor (const [key, value] of Object.entries(ANM_INS_DATA)) {\n  value.wip = value.wip || 0;\n  if (value.desc === undefined) window.console.error(`TABLE CORRUPT: anm ref ${key} has no 'desc'`);\n  if (value.sig === undefined) window.console.error(`TABLE CORRUPT: anm ref ${key} has no 'sig'`);\n  if (value.sig != null && value.args === undefined) window.console.error(`TABLE CORRUPT: anm ref ${key} has no 'args'`);\n  if (value.sig && value.sig.length !== value.args.length) {\n    window.console.error(`TABLE CORRUPT: anm ref ${key} has arg count mismatch`);\n  }\n\n  // automatically remove tips from self-references\n  const re = new RegExp(`\\\\[ref=anm:${key}\\\\]`, 'g');\n  value.desc = value.desc.replace(re, `[tip-nodeco=YOU ARE HERE][ref-notip=anm:${key}][/tip-nodeco]`);\n  value.desc = dedent(value.desc);\n}\n","import dedent from \"../lib/dedent.ts\";\n\n// ==========================================================================\n// ==========================================================================\n// ===================    LOOKUP TABLE BY OPCODE    =========================\n\n/**\n * Table indexed first by game number string, then by var number,\n * producing the crossref associated with that opcode.\n *\n * Iterating the first table should produce games in ascending order.\n * There are NO GUARANTEES about iteration order of variables within a game.\n */\nexport const ANM_VARS_BY_NUMBER = new Map(); // has to be a map because 'integer' keys defy insertion order\n\nANM_VARS_BY_NUMBER.set('06', {});\nANM_VARS_BY_NUMBER.set('07', {\n  10000: {ref: 'anmvar:i0'},\n  10001: {ref: 'anmvar:i1'},\n  10002: {ref: 'anmvar:i2'},\n  10003: {ref: 'anmvar:i3'},\n  10004: {ref: 'anmvar:f0'},\n  10005: {ref: 'anmvar:f1'},\n  10006: {ref: 'anmvar:f2'},\n  10007: {ref: 'anmvar:f3'},\n  10008: {ref: 'anmvar:i4'},\n  10009: {ref: 'anmvar:i5'},\n});\n\nANM_VARS_BY_NUMBER.set('08', {...ANM_VARS_BY_NUMBER.get('07')});\n\nANM_VARS_BY_NUMBER.set('09', {...ANM_VARS_BY_NUMBER.get('08'),\n  10010: {ref: 'anmvar:v3-randrad'},\n  10011: {ref: 'anmvar:v3-randf-01'},\n  10012: {ref: 'anmvar:v3-randf-11'},\n});\n\nANM_VARS_BY_NUMBER.set('095', {...ANM_VARS_BY_NUMBER.get('09'),\n  // changed descriptions\n  10010: {ref: 'anmvar:v4-randrad'},\n  10011: {ref: 'anmvar:v4-randf-01'},\n  10012: {ref: 'anmvar:v4-randf-11'},\n  // new\n  10013: {ref: 'anmvar:pos-x'},\n  10014: {ref: 'anmvar:pos-y'},\n  10015: {ref: 'anmvar:pos-z'},\n});\n\nANM_VARS_BY_NUMBER.set('10', {...ANM_VARS_BY_NUMBER.get('095'),\n  10016: {ref: 'anmvar:v4-camera-x'},\n  10017: {ref: 'anmvar:v4-camera-y'},\n  10018: {ref: 'anmvar:v4-camera-z'},\n  10019: {ref: 'anmvar:v4-lookat-x'},\n  10020: {ref: 'anmvar:v4-lookat-y'},\n  10021: {ref: 'anmvar:v4-lookat-z'},\n});\n\nANM_VARS_BY_NUMBER.set('11', {...ANM_VARS_BY_NUMBER.get('10'),\n  10022: {ref: 'anmvar:v4-rand'},\n});\n\nANM_VARS_BY_NUMBER.set('12', {...ANM_VARS_BY_NUMBER.get('11'),\n  10023: {ref: 'anmvar:rot-x'},\n  10024: {ref: 'anmvar:rot-y'},\n  10025: {ref: 'anmvar:rot-z'},\n});\n\nANM_VARS_BY_NUMBER.set('125', {...ANM_VARS_BY_NUMBER.get('12')});\nANM_VARS_BY_NUMBER.set('128', {...ANM_VARS_BY_NUMBER.get('12')});\nANM_VARS_BY_NUMBER.set('13', {...ANM_VARS_BY_NUMBER.get('12'),\n  // changed descriptions\n  10010: {ref: 'anmvar:randrad'},\n  10011: {ref: 'anmvar:randf-01'},\n  10012: {ref: 'anmvar:randf-11'},\n  10022: {ref: 'anmvar:rand'},\n\n  // uncertain if changed (haven't reversed STD/camera in UFO)\n  10016: {ref: 'anmvar:camera-x'},\n  10017: {ref: 'anmvar:camera-y'},\n  10018: {ref: 'anmvar:camera-z'},\n  10019: {ref: 'anmvar:lookat-x'},\n  10020: {ref: 'anmvar:lookat-y'},\n  10021: {ref: 'anmvar:lookat-z'},\n\n  // new\n  10023: {ref: 'anmvar:rot-x'},\n  10024: {ref: 'anmvar:rot-y'},\n  10025: {ref: 'anmvar:rot-z'},\n  10026: {ref: 'anmvar:rot-z-effective'},\n  10027: {ref: 'anmvar:rand-param-one'},\n  10028: {ref: 'anmvar:rand-param-pi'},\n  10029: {ref: 'anmvar:rand-param-int'},\n  10030: {ref: 'anmvar:randrad-replay'},\n  10031: {ref: 'anmvar:randf-01-replay'},\n  10032: {ref: 'anmvar:randf-11-replay'},\n});\n\nANM_VARS_BY_NUMBER.set('14', {...ANM_VARS_BY_NUMBER.get('13'),\n  10033: {ref: 'anmvar:mystery-angle-x'},\n  10034: {ref: 'anmvar:mystery-angle-y'},\n  10035: {ref: 'anmvar:mystery-angle-z'},\n});\n\nANM_VARS_BY_NUMBER.set('143', {...ANM_VARS_BY_NUMBER.get('14')});\nANM_VARS_BY_NUMBER.set('15', {...ANM_VARS_BY_NUMBER.get('143')});\nANM_VARS_BY_NUMBER.set('16', {...ANM_VARS_BY_NUMBER.get('15')});\nANM_VARS_BY_NUMBER.set('165', {...ANM_VARS_BY_NUMBER.get('16')});\nANM_VARS_BY_NUMBER.set('17', {...ANM_VARS_BY_NUMBER.get('165')});\n\n// Var table cannot have entries without refs because we need the type to generate the default name...\nfor (const [game, inner] of ANM_VARS_BY_NUMBER.entries()) {\n  for (const [num, entry] of Object.entries(inner)) {\n    if (entry.ref == null) {\n      window.console.error(`TABLE CORRUPT: anm var (game ${game}, num ${num}) has no crossref!`);\n    }\n  }\n}\n\n// ==========================================================================\n// ==========================================================================\n// =====================    INSTRUCTION DATA    =============================\n\n// Lookup table by ref id. (game-independent, anmmap-independent name)\nexport const ANM_VAR_DATA = {};\n\nObject.assign(ANM_VAR_DATA, {\n  'i0': {type: '$', mut: true, desc: `General purpose local integer register 0.`},\n  'i1': {type: '$', mut: true, desc: `General purpose local integer register 1.`},\n  'i2': {type: '$', mut: true, desc: `General purpose local integer register 2.`},\n  'i3': {type: '$', mut: true, desc: `General purpose local integer register 3.`},\n  'f0': {type: '%', mut: true, desc: `General purpose local floating-point register 0.`},\n  'f1': {type: '%', mut: true, desc: `General purpose local floating-point register 1.`},\n  'f2': {type: '%', mut: true, desc: `General purpose local floating-point register 2.`},\n  'f3': {type: '%', mut: true, desc: `General purpose local floating-point register 3.`},\n  'i4': {type: '$', mut: true, wip: 1, desc: `[wip]Another general-purpose int? (#4)[/wip]`},\n  'i5': {type: '$', mut: true, wip: 1, desc: `[wip]Another general-purpose int? (#5)[/wip]`},\n\n  // v4 random numbers\n  'v3-randrad': {type: '%', mut: false, succ: 'v4-randrad', desc: `Draws a random value from \\`-PI\\` to \\`PI\\` using the [replay RNG](#anm/concepts&a=rng).`},\n  'v3-randf-01': {type: '%', mut: false, succ: 'v4-randf-01', desc: `Draws a random value from \\`0.0\\` to \\`1.0\\` using the [replay RNG](#anm/concepts&a=rng).`},\n  'v3-randf-11': {type: '%', mut: false, succ: 'v4-randf-11', desc: `Draws a random value from \\`-1.0\\` to \\`1.0\\` using the [replay RNG](#anm/concepts&a=rng).`},\n  'v4-randrad': {type: '%', mut: false, succ: 'randrad', desc: `Draws a random value from \\`-PI\\` to \\`PI\\` using the selected RNG (see [ref=anm:v4-randMode]).`},\n  'v4-randf-01': {type: '%', mut: false, succ: 'randf-01', desc: `Draws a random value from \\`0.0\\` to \\`1.0\\` using the selected RNG (see [ref=anm:v4-randMode]).`},\n  'v4-randf-11': {type: '%', mut: false, succ: 'randf-11', desc: `Draws a random value from \\`-1.0\\` to \\`1.0\\` using the selected RNG (see [ref=anm:v4-randMode]).`},\n  'v4-rand': {\n    type: '$', mut: false, succ: 'rand', desc: `\n    Draws a random integer using the selected RNG (see [ref=anm:v4-randMode]).\n\n    [wip]What's the range?[/wip]\n    [wip=2]My best guess based on the code is that, when read as integer, this generates a uniformly-distributed signed 32-bit integer\n    (\\`-2**31 to 2**31-1\\`), but when read as a float it generates a uniformly-distributed **unsigned** 32-bit integer cast to float.[/wip]\n  `},\n\n  // v8 random numbers\n  'randrad': {type: '%', mut: false, desc: `Draws a random value from \\`-PI\\` to \\`PI\\` using the [animation RNG](#anm/concepts&a=rng).  You can modify this range by editing [ref=anmvar:rand-param-pi].`},\n  'randf-01': {type: '%', mut: false, desc: `Draws a random value from \\`0.0\\` to \\`1.0\\` using the [animation RNG](#anm/concepts&a=rng).  You can modify this range by editing [ref=anmvar:rand-param-one].`},\n  'randf-11': {type: '%', mut: false, desc: `Draws a random value from \\`-1.0\\` to \\`1.0\\` using the [animation RNG](#anm/concepts&a=rng).  You can modify this range by editing [ref=anmvar:rand-param-int].`},\n  'rand': {\n    type: '$', mut: false, desc: `\n    Draws a random integer from 0 (inclusive) to 65536 (exclusive) using the [animation RNG](#anm/concepts&a=rng).\n    You can modify this range by editing [ref=anmvar:rand-param-int].\n  `},\n  'rand-param-one': {type: '%', mut: true, desc: `Scale factor for [ref=anmvar:randf-01] and [ref=anmvar:randf-11]. Defaults to \\`1.0\\`.`},\n  'rand-param-pi': {type: '%', mut: true, desc: `Scale factor for [ref=anmvar:randrad].  Defaults to \\`PI\\`.`},\n  'rand-param-int': {type: '$', mut: true, desc: `Modulus for [ref=anmvar:rand].  Defaults to 65536.`},\n  'randrad-replay': {type: '%', mut: false, desc: `Variant of [ref=anmvar:randrad] that uses the replay RNG.`},\n  'randf-01-replay': {type: '%', mut: false, desc: `Variant of [ref=anmvar:randf-01] that uses the replay RNG.`},\n  'randf-11-replay': {type: '%', mut: false, desc: `Variant of [ref=anmvar:randf-11] that uses the replay RNG.`},\n\n  'pos-x': {type: '%', mut: true, desc: `Position x, as set by [ref=anm:pos].`},\n  'pos-y': {type: '%', mut: true, desc: `Position y, as set by [ref=anm:pos].`},\n  'pos-z': {type: '%', mut: true, desc: `Position z, as set by [ref=anm:pos].`},\n  'rot-x': {type: '%', mut: true, desc: `x-axis rotation, as set by [ref=anm:rotate].`},\n  'rot-y': {type: '%', mut: true, desc: `y-axis rotation, as set by [ref=anm:rotate].`},\n  'rot-z': {type: '%', mut: true, desc: `z-axis rotation, as set by [ref=anm:rotate].`},\n  'rot-z-effective': {type: '%', mut: false, desc: `z-axis rotation, including the rotation of the parent.`},\n  'mystery-angle-x': {type: '%', mut: true, wip: 2, desc: `[wip]Is somehow related to rotation? Little is known. (x component)[/wip]`},\n  'mystery-angle-y': {type: '%', mut: true, wip: 2, desc: `[wip]Is somehow related to rotation? Little is known. (y component)[/wip]`},\n  'mystery-angle-z': {type: '%', mut: true, wip: 2, desc: `[wip]Is somehow related to rotation? Little is known. (z component)[/wip]`},\n\n  'camera-x': {type: '%', mut: false, wip: 1, desc: `[wip]Stage BG camera's x position, plus some vector related to its rocking...[/wip]`},\n  'camera-y': {type: '%', mut: false, wip: 1, desc: `[wip]Stage BG camera's y position, plus some vector related to its rocking...[/wip]`},\n  'camera-z': {type: '%', mut: false, wip: 1, desc: `[wip]Stage BG camera's z position, plus some vector related to its rocking...[/wip]`},\n  'lookat-x': {type: '%', mut: false, wip: 1, desc: `x of normalized direction vector that the stage BG camera is facing. [wip](what is it used for?)[/wip]`},\n  'lookat-y': {type: '%', mut: false, wip: 1, desc: `y of normalized direction vector that the stage BG camera is facing. [wip](what is it used for?)[/wip]`},\n  'lookat-z': {type: '%', mut: false, wip: 1, desc: `z of normalized direction vector that the stage BG camera is facing. [wip](what is it used for?)[/wip]`},\n\n  'v4-camera-x': {type: '%', mut: false, succ: 'camera-x', wip: 1, desc: `[wip=2]Probably stage BG camera's y position like in V8. (but no rocking vector is added in V4)[/wip]`},\n  'v4-camera-y': {type: '%', mut: false, succ: 'camera-y', wip: 1, desc: `[wip=2]Probably stage BG camera's y position like in V8. (but no rocking vector is added in V4)[/wip]`},\n  'v4-camera-z': {type: '%', mut: false, succ: 'camera-z', wip: 1, desc: `[wip=2]Probably stage BG camera's z position like in V8. (but no rocking vector is added in V4)[/wip]`},\n  'v4-lookat-x': {type: '%', mut: false, succ: 'lookat-x', wip: 1, desc: `[wip=2]Probably x of normalized direction vector that the stage BG camera is facing, like in V8.[/wip]`},\n  'v4-lookat-y': {type: '%', mut: false, succ: 'lookat-y', wip: 1, desc: `[wip=2]Probably y of normalized direction vector that the stage BG camera is facing, like in V8.[/wip]`},\n  'v4-lookat-z': {type: '%', mut: false, succ: 'lookat-z', wip: 1, desc: `[wip=2]Probably z of normalized direction vector that the stage BG camera is facing, like in V8.[/wip]`},\n});\n\n// Validate\nfor (const [id, value] of Object.entries(ANM_VAR_DATA)) {\n  value.wip = value.wip || 0;\n  if (value.desc === undefined) window.console.error(`TABLE CORRUPT: anmvar id ${id} has no 'desc'`);\n  if (value.type === undefined) window.console.error(`TABLE CORRUPT: anmvar id ${id} has no 'type'`);\n  if (value.mut === undefined) window.console.error(`TABLE CORRUPT: anmvar id ${id} has no 'mut'`);\n\n  value.desc = dedent(value.desc);\n}\n","import dedent from \"../lib/dedent.ts\";\n\nexport const UNASSIGNED = {ref: null, wip: 2};\n\n// ==========================================================================\n// ==========================================================================\n// ===================    LOOKUP TABLE BY OPCODE    =========================\n\n/**\n * Table indexed first by game number string, then by opcode number,\n * producing the crossref associated with that opcode.\n *\n * Iterating the first table should produce games in ascending order.\n * There are NO GUARANTEES about iteration order of opcodes within a game.\n */\nexport const STD_BY_OPCODE = new Map(); // has to be a map because 'integer' keys defy insertion order\nexport const GROUPS_V8 = [\n  {min: 0, max: 99, title: 'System'},\n  {min: 100, max: 199, title: 'Math'},\n  {min: 200, max: 299, title: 'Jumps'},\n  {min: 300, max: 399, title: 'Settings'},\n  {min: 400, max: 499, title: 'General'},\n  {min: 500, max: 599, title: 'Child management'},\n  {min: 600, max: 699, title: 'Drawing'},\n];\n\n// ---- EoSD ----\nSTD_BY_OPCODE.set('06', {\n  0: {ref: 'std:v0-pos-keyframe'},\n  1: {ref: 'std:v0-skyfog'},\n  2: {ref: 'std:eosd-facing'},\n  3: {ref: 'std:eosd-facing-time'},\n  4: {ref: 'std:v0-skyfog-time'},\n  5: {ref: 'std:eosd-stop'},\n});\n\n// ---- v0 ----\nSTD_BY_OPCODE.set('07', {\n  0: {ref: 'std:v0-pos-keyframe'},\n  1: {ref: 'std:v0-skyfog'},\n  2: {ref: 'std:v0-skyfog-time'},\n  3: {ref: 'std:v0-stop'},\n  4: {ref: 'std:v0-jmp'},\n  5: {ref: 'std:v0-pos'},\n  6: {ref: 'std:v0-pos-time'},\n  7: {ref: 'std:v0-facing'},\n  8: {ref: 'std:v0-facing-time'},\n  9: {ref: 'std:v0-up'},\n  10: {ref: 'std:v0-up-time'},\n  11: {ref: 'std:v0-fov'},\n  12: {ref: 'std:v0-fov-time'},\n  13: {ref: 'std:v0-clear-color'},\n  14: {ref: 'std:v0-pos-initial'},\n  15: {ref: 'std:v0-pos-final'},\n  16: {ref: 'std:v0-pos-initial-deriv'},\n  17: {ref: 'std:v0-pos-final-deriv'},\n  18: {ref: 'std:v0-pos-bezier'},\n  19: {ref: 'std:v0-facing-initial'},\n  20: {ref: 'std:v0-facing-final'},\n  21: {ref: 'std:v0-facing-initial-deriv'},\n  22: {ref: 'std:v0-facing-final-deriv'},\n  23: {ref: 'std:v0-facing-bezier'},\n  24: {ref: 'std:v0-up-initial'},\n  25: {ref: 'std:v0-up-final'},\n  26: {ref: 'std:v0-up-initial-deriv'},\n  27: {ref: 'std:v0-up-final-deriv'},\n  28: {ref: 'std:v0-up-bezier'},\n  29: {ref: 'std:v0-sprite-a'},\n  30: {ref: 'std:v0-sprite-b'},\n  31: {ref: 'std:v0-case'},\n});\n\nSTD_BY_OPCODE.set('08', {\n  ...STD_BY_OPCODE.get('07'),\n  32: {ref: 'std:v0-rocking-vector'},\n  33: {ref: 'std:v0-rock'},\n  34: {ref: 'std:v0-sprite-c'},\n});\n\n// ==========================================================================\n// ==========================================================================\n// =====================    INSTRUCTION DATA    =============================\n\n// Lookup table by ref id. (game-independent, map-independent name)\nexport const STD_INS_DATA = {};\n\n// EoSD\nObject.assign(STD_INS_DATA, {\n  'v0-pos-keyframe': {\n    sig: 'fff', args: ['x', 'y', 'z'], desc: `\n    Declares a keyframe for camera position at the current time label.\n    [tiphide]\n    The game will automatically search ahead for the next keyframe and linearly interpolate\n    position between the two time labels. For instance, the following snippet will linearly\n    interpolate position from \\`(0, 10, 0)\\` to \\`(0, 0, 15)\\` over 300 frames.\n\n    [code]\n    0:\n      [ref=std:v0-pos-keyframe](0f, 10f, 0f);\n    +150:\n      // other intervening instructions...\n    +150:\n      [ref=std:v0-pos-keyframe](0f, 0f, 15f);\n    [/code]\n\n    The final keyframe must have a time label of \\`-1\\`.\n    [/tiphide]\n  `},\n  'eosd-facing': {\n    sig: 'fff', args: ['x', 'y', 'z'], desc: `\n    Set the direction the camera is facing.\n    [tiphide]\n    The vector does not need to be normalized.\n\n    If there is a call to [ref=std:eosd-facing-time] on the same frame, the change will happen gradually over\n    the specified time frame rather than instantly.\n    [/tiphide]\n  `},\n  'eosd-facing-time': {\n    sig: 'S__', args: ['t', '_', '_'], desc: `\n    Causes the final [ref=std:eosd-facing] instruction on this same frame to be interpolated linearly over\n    the next \\`t\\` frames rather than occuring instantly.\n\n    [tiphide]\n    More precisely:\n    * [ref=std:eosd-facing] copies the *goal* into the *initial* direction, then sets the *goal* equal to the args.\n    * [ref=std:eosd-facing-time] just resets the timer.\n\n    Thus, it doesn't matter which order you call [ref=std:eosd-facing] and [ref=std:eosd-facing-time].\n    [/tiphide]\n  `},\n  'v0-skyfog': {\n    sig: 'Sff', args: ['color', 'near', 'far'], desc: `\n    Set the color, near plane, and far plane of the distance fog.\n    [tiphide]\n    Color is \\`0xAARRGGBB\\`. \\`thstd\\` also supports \\`#RRGGBBAA\\` notation.\n\n    If [ref=std:v0-skyfog-time] was called before this, then the change will happen gradually over\n    the specified time frame rather than instantly.\n    [/tiphide]\n  `},\n  'v0-skyfog-time': {\n    sig: 'S__', args: ['t', '_', '_'], desc: `\n    Cause the next [ref=std:v0-skyfog-time] to be linearly interpolated over the next \\`t\\` frames.\n\n    [tiphide]\n    More precisely:\n    * [ref=std:v0-skyfog] sets both the *current* and *goal* fog equal to the arguments.\n    * [ref=std:v0-skyfog-time] copies the *current* into the *initial*, and resets the timer.\n\n    Thus, for things to work as expected, [ref=std:v0-skyfog-time] should generally be called *before*\n    [ref=std:v0-skyfog]. (except on the first frame when you are setting the initial fog)\n    [/tiphide]\n  `},\n  'eosd-stop': {\n    sig: '___', args: ['_', '_', '_'], succ: 'v0-stop', desc: `\n    Stops executing the script until unpaused by ECL \\`ins_125()\\`.\n  `},\n  'v0-stop': {\n    sig: '___', args: ['_', '_', '_'], desc: `\n    Stops executing the script.\n\n    [tiphide]\n    This is basically like putting an infinitely large time label in the script.\n    Time-interpolated values will update, and interrupts can be triggered at any time (see [ref=std:v0-case]).\n    [/tiphide]\n  `},\n\n  'v0-case': {\n    sig: 'S__', args: ['number', '_', '_'], wip: 1, desc: `\n    A label for an interrupt.\n\n    [tiphide]\n    STD interrupts are similar to [ANM interrupts](#/anm/concepts&a=interrupt). They can occur\n    at any time the script is waiting (due to e.g. an increased [time label](#/anm/concepts&a=time)\n    or a [ref=std:v0-stop]), and there is an ECL instruction to trigger them.\n\n    * In [game=08], there is additional hardcoded jank tied to interrupts 1&ndash;4 that\n      that controls the purple/red waves emanating from the moon during the Kaguya fight.\n    [/tiphide]\n  `},\n\n  'v0-clear-color': {\n    sig: 'S__', args: ['color', '_', '_'], wip: 1, desc: `\n    Sets a color that gets used at some point in a call to \\`IDirect3DDevice8::Clear\\`.\n    [tiphide]\n    I'm not sure when and where this color would ever be visible in-game...\n\n    Color is \\`0xAARRGGBB\\`. \\`thstd\\` also supports \\`#RRGGBBAA\\` notation.\n    [/tiphide]\n  `},\n\n  'v0-jmp': {\n    sig: 'SS_', args: ['instr', 'time', '_'], wip: 1, desc: `\n    Jumps to the instruction with index \\`instr\\` and sets the current time to \\`time\\`.\n\n    [tiphide]\n    Notice this is different from jump instructions in later versions or other formats in that it takes the\n    index of the instruction rather than its byte offset! (this is possible because all instructions are the\n    same size (20 bytes) in v0 STD)\n\n    [wip]Jumping automatically sets a flag.  For now we'll call this the \\`wtfisthisicanteven\\` flag.[/wip]\n    [/tiphide]\n  `},\n\n  'v0-pos': {\n    sig: 'fff', args: ['x', 'y', 'z'], desc: `\n    Set the position of the camera.\n\n    [tiphide]\n    [wip]If the \\`wtfisthisicanteven\\` flag is set (see [ref=std:v0-jmp]),\n    this instruction will also iterate over a subset of the entities managed by \\`EffectManager\\`\n    and do... uh... something... to them. It will then clear the flag.[/wip]\n    [/tiphide]\n  `},\n\n  'v0-pos-time': {\n    sig: 'SS_', args: ['t', 'mode', '_'], desc: `\n    Causes the final [ref=std:v0-pos] instruction on this same frame to be interpolated over\n    the next \\`t\\` frames using the given [interpolation mode](#/anm/interpolation&a=old-games)\n    rather than occuring instantly.\n    [tiphide]\n    (**Note:** v0 STD has its own set of mode numbers!)\n\n    More precisely:\n    * [ref=std:v0-pos] copies the *goal* into the *initial* direction, then sets the *goal* equal to the args.\n    * [ref=std:v0-pos-time] just resets the timer.\n\n    Thus, it doesn't matter which order you call [ref=std:v0-pos] and [ref=std:v0-pos-time].\n    [/tiphide]\n  `},\n\n  'v0-facing': {sig: 'fff', args: ['x', 'y', 'z'], desc: `Set the direction the camera is facing.  The vector does not need to be normalized.`},\n  'v0-up': {sig: 'fff', args: ['x', 'y', 'z'], desc: `Set the up direction of the camera.  The vector does not need to be normalized.`},\n  'v0-fov': {sig: 'f__', args: ['fovy', '_', '_'], desc: `Set the vertical field-of-view of the camera.`},\n\n  'v0-pos-initial': {\n    sig: 'fff', args: ['x', 'y', 'z'], desc: `\n    Simply writes the initial camera position for time interpolation.\n\n    [tiphide]\n    Be aware that [ref=std:v0-pos] already copies the final position into the initial position, so it does not make sense\n    to call this before calling [ref=std:v0-pos].  (rather, you should be making two calls to [ref=std:v0-pos] instead).\n    [code]\n    // broke   X_X\n      [ref=std:v0-pos-initial](0f, 0f, 0f);\n      [ref=std:v0-pos-time](60, 3, 0);\n      [ref=std:v0-pos](0f, 20f, 0f);\n\n    // woke    :D\n    // This is the correct way to interpolate from (0, 0, 0)\n    // to (0, 20, 0) over 60 frames using mode 3.\n      [ref=std:v0-pos](0f, 0f, 0f);\n      [ref=std:v0-pos-time](60, 3, 0);\n      [ref=std:v0-pos](0f, 20f, 0f);\n\n    // also acceptable\n      [ref=std:v0-pos-initial](0f, 0f, 0f);\n      [ref=std:v0-pos-time](60, 3, 0);\n      [ref=std:v0-pos-final](0f, 20f, 0f);\n    [/code]\n    [/tiphide]\n  `},\n\n  'v0-pos-final': {\n    sig: 'fff', args: ['x', 'y', 'z'], desc: `\n    Simply writes the final camera position for time interpolation, without the extra effects of the [ref=std:v0-pos] instruction.\n    (i.e. this one doesn't overwrite the initial position.)\n\n    [tiphide]\n    (it also doesn't do the funny stuff with \\`EffectManager\\`...)\n    [/tiphide]\n  `},\n\n  'v0-sprite-a': {\n    sig: 'S__', args: ['i', '_', '_'], wip: 1, desc: `\n    [wip]Sets something sprite related. Like an ANM script index or something.[/wip]\n  `},\n  'v0-sprite-b': {\n    sig: 'S__', args: ['i', '_', '_'], wip: 1, desc: `\n    [wip]Sets something sprite related. Like an ANM script index or something.[/wip]\n  `},\n  'v0-sprite-c': {\n    sig: 'S__', args: ['i', '_', '_'], wip: 1, desc: `\n    [wip]Sets something sprite related. Like an ANM script index or something.[/wip]\n  `},\n\n  'v0-rock': {\n    sig: 'S__', args: ['mode', '_', '_'], wip: 1, desc: `\n    Sets the rocking mode and resets the rocking timer to 0.\n    [tiphide]\n    Different games have different modes. 0 disables rocking.\n    [/tiphide]\n  `},\n  'v0-rocking-vector': {\n    sig: 'fff', args: ['x', 'y', 'z'], wip: 1, desc: `\n    Manually sets [wip]an unknown vector that is usually modified by rocking modes.[/wip]\n\n    [tiphide]\n    The game only ever uses this to reset the vector back to \\`(0, 0, 0)\\` after setting\n    the rocking mode to 0.\n    [/tiphide]\n  `},\n});\n\nfor (const thing of ['facing', 'up', 'fov']) {\n  STD_INS_DATA[`v0-${thing}-time`] = {\n    sig: 'SS_', args: ['t', 'mode', '_'], desc: `\n    Causes the final [ref=std:v0-${thing}] instruction on this same frame to be interpolated over\n    the next \\`t\\` frames using the given [interpolation mode](#/anm/interpolation&a=old-games)\n    rather than occuring instantly.\n    [tiphide]\n    (**Note:** v0 STD has its own set of mode numbers!)\n\n    Similarly to [ref=std:v0-pos-time], order does not matter.\n    [/tiphide]\n  `};\n}\n\nfor (const thing of ['facing', 'up']) {\n  STD_INS_DATA[`v0-${thing}-time`] = {\n    sig: 'SS_', args: ['t', 'mode', '_'], desc: `\n    Causes the final [ref=std:v0-${thing}] instruction on this same frame to be interpolated over\n    the next \\`t\\` frames using the given [interpolation mode](#/anm/interpolation&a=old-games)\n    rather than occuring instantly.\n    [tiphide]\n    (**Note:** v0 STD has its own set of mode numbers!)\n\n    Similarly to [ref=std:v0-pos-time], order does not matter.\n    [/tiphide]\n  `};\n\n  STD_INS_DATA[`v0-${thing}-initial`] = {\n    sig: 'SS_', args: ['t', 'mode', '_'], desc: `\n    Simply writes the initial value of [ref=std:v0-${thing}] for time interpolation.\n    [tiphide]\n    This has similar caveats to [ref=std:v0-pos-initial].\n    [/tiphide]\n  `};\n  STD_INS_DATA[`v0-${thing}-final`] = {\n    sig: 'SS_', args: ['t', 'mode', '_'], desc: `\n    Simply writes the final value of [ref=std:v0-${thing}] for time interpolation,\n    without any of the additional effects of a direct call to [ref=std:v0-${thing}].\n  `};\n}\n\nfor (const thing of ['pos', 'facing', 'up']) {\n  STD_INS_DATA[`v0-${thing}-bezier`] = {\n    sig: 'S__', args: ['t', '_', '_'], desc: `\n    Interpolates [ref=std:v0-${thing}] using a Bezier.\n    [tiphide]\n    Identical to calling [ref=std:v0-${thing}-time]\\`(t, 7, 0)\\`. (7 is the Bezier mode)\n    [/tiphide]\n  `};\n\n  STD_INS_DATA[`v0-${thing}-initial-deriv`] = {\n    sig: 'fff', args: ['dx', 'dy', 'dz'], desc: `\n    Sets the initial derivative for Bezier interpolation of [ref=std:v0-${thing}].\n    [tiphide]\n    This is the initial derivative of the normalized easing function, so the initial velocity\n    will be \\`(dx/t, dy/t, dz/t)\\` (where \\`t\\` comes from [ref=std:v0-${thing}-bezier])\n    [/tiphide]\n  `};\n\n  STD_INS_DATA[`v0-${thing}-final-deriv`] = {\n    sig: 'fff', args: ['dx', 'dy', 'dz'], desc: `\n    Sets the final derivative for Bezier interpolation of [ref=std:v0-${thing}].\n    [tiphide]\n    This is the final derivative of the normalized easing function, so the final velocity\n    will be \\`(dx/t, dy/t, dz/t)\\` (where \\`t\\` comes from [ref=std:v0-${thing}-bezier])\n    [/tiphide]\n  `};\n}\n\n// Add `minGame` and `maxGame` keys to each crossref.\nfor (const [game, table] of STD_BY_OPCODE.entries()) {\n  for (const [opcodeStr, {ref}] of Object.entries(table)) {\n    if (ref === null) continue;\n    const id = ref.substring('std:'.length);\n    const entry = STD_INS_DATA[id];\n\n    if (!entry) {\n      window.console.error(`invalid ref in opcode table (game ${game}, opcode ${opcodeStr}): ${ref}`);\n      continue;\n    }\n\n    if (entry.minGame === undefined) {\n      entry.minGame = game;\n    }\n    entry.maxGame = game;\n  }\n}\n\nfor (const [key, value] of Object.entries(STD_INS_DATA)) {\n  value.wip = value.wip || 0;\n  if (value.desc === undefined) window.console.error(`TABLE CORRUPT: std ref ${key} has no 'desc'`);\n  if (value.sig === undefined) window.console.error(`TABLE CORRUPT: std ref ${key} has no 'sig'`);\n  if (value.sig != null && value.args === undefined) window.console.error(`TABLE CORRUPT: std ref ${key} has no 'args'`);\n  if (value.sig && value.sig.length !== value.args.length) {\n    window.console.error(`TABLE CORRUPT: astdnm ref ${key} has arg count mismatch`);\n  }\n\n  // automatically remove tips from self-references\n  const re = new RegExp(`\\\\[ref=std:${key}\\\\]`, 'g');\n  value.desc = value.desc.replace(re, `[tip-nodeco=YOU ARE HERE][ref-notip=std:${key}][/tip-nodeco]`);\n\n  value.desc = dedent(value.desc);\n}\n","import dedent from '../lib/dedent';\nimport {globalRefNames, globalRefTips, globalRefLinks, getRefNameKey, Ref} from '../ref';\nimport {MD, postprocessConvertedMarkdown} from '../markdown';\nimport {globalNames, globalLinks, PrefixResolver, Context} from '../resolver';\nimport {parseQuery, queryUrl, queryGame, queryPageEquals, queryFilterCommonProps, Query} from '../url-format';\nimport {gameData, Game} from '../game-names';\nimport {getCurrentAnmmaps} from '../settings';\nimport {initStats, buildInsStatsTable, buildVarStatsTable} from './stats';\nimport {SUPPORTED_ANM_VERSIONS, GAME_ANM_VERSIONS, ANM_VERSION_DATA, AnmVersion} from './versions';\nimport {StrMap, NumMap} from \"../util\";\n\nimport {ANM_INS_DATA, ANM_BY_OPCODE, ANM_GROUPS_V8} from './ins-table.js';\nimport {ANM_VAR_DATA, ANM_VARS_BY_NUMBER} from './var-table.js';\nimport {STD_INS_DATA, STD_BY_OPCODE} from './std-table.js';\n\nexport function initAnm() {\n  (window as any).setupGameSelectorForAnm = ($e: HTMLElement) => setupGameSelector(ANM_INS_HANDLERS, $e);\n  (window as any).setupGameSelectorForStdIns = ($e: HTMLElement) => setupGameSelector(STD_HANDLERS, $e);\n  (window as any).generateAnmInsTableHtml = () => generateTablePageHtml(ANM_INS_HANDLERS);\n  (window as any).generateAnmVarTableHtml = () => generateTablePageHtml(ANM_VAR_HANDLERS);\n  (window as any).generateStdInsTableHtml = () => generateTablePageHtml(STD_HANDLERS);\n  (window as any).buildInsStatsTable = buildInsStatsTable;\n  (window as any).buildVarStatsTable = buildVarStatsTable;\n\n  initNames();\n  initStats();\n\n  registerRefTipsForTable(ANM_INS_HANDLERS); // \"ref:anm:\" tips\n  registerRefTipsForTable(ANM_VAR_HANDLERS); // \"ref:anmvar:\" tips\n  registerRefTipsForTable(STD_HANDLERS); // \"ref:anmvar:\" tips\n  registerAnmRefNamesForTable(ANM_INS_HANDLERS); // \"ref:anm:\" names\n  registerAnmRefNamesForTable(ANM_VAR_HANDLERS); // \"ref:anmvar:\" names\n  registerStdRefNamesForTable(STD_HANDLERS); // \"ref:anmvar:\" names\n  globalRefLinks.registerPrefix('anm', (id, ctx) => getUrlByRef('anm:' + id, ctx, ANM_INS_HANDLERS));\n  globalRefLinks.registerPrefix('anmvar', (id, ctx) => getUrlByRef('anmvar:' + id, ctx, ANM_VAR_HANDLERS));\n  globalRefLinks.registerPrefix('std', (id, ctx) => getUrlByRef('std:' + id, ctx, STD_HANDLERS));\n}\n\n/** Data for a specific numbered entity (e.g. a specific ANM opcode number) in a specific game. */\nexport type OpcodeRefData = {\n  /**\n   * Game independent crossref for this opcode.\n   *\n   * `null` means the instruction exists (and therefore should have a row in the table)\n   * but we haven't created a crossref for it yet.\n   */\n  ref: string | null,\n  /**\n   * How confident are we in matching this opcode to that crossref?\n   *\n   * Used in cases where research of an instruction was primarily conducted in one game,\n   * then matching instructions were identified in other games due to code similarities.\n   * Generally reserved for things like bitflags where there are many opportunities to make\n   * an error in relating code between games.\n   */\n  wip: Wip,\n};\n\n/** Data for a specific numbered entity (e.g. a specific ANM opcode number) in a specific game. */\nexport type CommonData = {\n  /**\n   * Crossref id that is a successor to this crossref in later games.\n   *\n   * The crossref for an instruction is changed when the signature changes,\n   * when the description needs to change, or when we want to be able to have\n   * the description in one version link to the description in another.\n   * For instance, the \"jump\" instructions in v0 and v2 ANM have different crossrefs\n   * because a time argument was added.\n   *\n   * `succ` helps provide an even greater level of game-independence to help things\n   * like the stats table track an instruction across an even wider range of games.\n   */\n  succ?: string,\n  /** How complete is our understanding of this thing? */\n  wip: Wip,\n  /** Markdown description. */\n  desc: string,\n};\n\ntype Wip = 0 | 1 | 2;\ntype VarType = '%' | '$;'\n\nexport type InsData = {\n  sig: string,\n  args: string[],\n} & CommonData;\n\nexport type VarData = {\n  type: VarType,\n  mut: boolean,\n} & CommonData;\n\ntype TableHandlers<Data> = {\n  /** Page (URL s= field) where table is hosted. */\n  tablePage: string,\n  /** Turns opcode into the anchor (URL a= field) for that item on the table's page. */\n  formatAnchor(num: number): string,\n\n  /** E.g. 'instruction', 'variable'. For debug/error messages. */\n  itemKindString: string,\n  /** Prefix (e.g. `\"anm\"`) of crossrefs (e.g. `\"anm:pos\"`) and name keys (e.g. `\"anm:v8:pos\"`). */\n  mainPrefix: string,\n  /** Get table that maps an item id (portion of crossref after mainPrefix) to data about that item. */\n  dataTable: StrMap<string, Data>,\n  /**\n   * Gives the crossref for a numbered entity (e.g. an opcode or variable number).\n   *\n   * Iterating the first table should produce games in ascending order.\n   * Some games may be missing. There are NO GUARANTEES about iteration order of opcodes within a game.\n   */\n  tableByOpcode: Map<Game, NumMap<OpcodeRefData>>,\n  /** Finds the opcode from a crossref. */\n  reverseTable: StrMap<Game, StrMap<Ref, number>>,\n\n  /**\n   * Gives the range of games where each crossref exists.\n   *\n   * A key is missing if it's not a valid ref, or if it is valid but no games use it.\n   */\n  gameRangeTable: StrMap<Ref, Availability>,\n\n  /**\n   * Get groups to build a table of contents from on the table page.\n   *\n   * If there's only one group, no table of contents is generated.\n   */\n  getGroups(game: Game): {min: number, max: number, title: string | null}[],\n\n  /** Generate HTML for a tooltip header. */\n  generateTipHeader(data: Data, _: {nameKey: string}): string,\n\n  getNameKey(game: Game, opcode: number): string,\n\n  /** Data used to generate a useless row in the table for an opcode whose ref is `null`. */\n  dummyDataWhenNoRef(game: Game): Data,\n\n  /** Generate a row of the table. */\n  generateTableRowHtml(this: TableHandlers<Data>, game: Game, data: Data, opcode: number): string,\n\n  /** Markdown content to place after summary and before Toc or Table. */\n  textBeforeTable(c: Context): string | null,\n}\n\n/** Resolves names from the suffix of 'anm:' namekeys. */\nconst ANM_INS_NAMES = new PrefixResolver<string>();\n/** Resolves names from the suffix of 'anmvar:' namekeys */\nconst ANM_VAR_NAMES = new PrefixResolver<string>();\n/** Resolves names from the suffix of 'std:' namekeys */\nconst STD_INS_NAMES = new PrefixResolver<string>();\n\ntype Availability = {minGame: Game, maxGame: Game};\ntype AutoGeneratedFields = 'gameRangeTable' | 'reverseTable';\n\nexport const ANM_INS_HANDLERS: TableHandlers<InsData> = makeTableHandlers({\n  tablePage: 'anm/ins',\n  itemKindString: 'instruction',\n  formatAnchor: (opcode: number) => `ins-${opcode}`,\n  dataTable: ANM_INS_DATA,\n  tableByOpcode: ANM_BY_OPCODE,\n  dummyDataWhenNoRef: () => ({sig: '?', args: [''], wip: 2, desc: '[wip=2]*No data.*[/wip]'}),\n  mainPrefix: 'anm',\n  getNameKey: (game: Game, opcode: number) => `anm:${GAME_ANM_VERSIONS[game]}:${opcode}`,\n  generateTipHeader: generateInsSiggy,\n  getGroups: (game) => GAME_ANM_VERSIONS[game] == 'v8' ? ANM_GROUPS_V8 : [{min: 0, max: 1300, title: null}],\n  generateTableRowHtml: generateInsTableRowHtml,\n  textBeforeTable: () => null,\n});\n\nexport const ANM_VAR_HANDLERS: TableHandlers<VarData> = makeTableHandlers({\n  tablePage: 'anm/var',\n  itemKindString: 'variable',\n  formatAnchor: (num: number) => `var-${num}`,\n  dataTable: ANM_VAR_DATA,\n  tableByOpcode: ANM_VARS_BY_NUMBER,\n  dummyDataWhenNoRef: () => {\n    throw new Error(\"anmvars must always have refs!\");\n  },\n  mainPrefix: 'anmvar',\n  getNameKey: (game: Game, opcode: number) => `anmvar:${GAME_ANM_VERSIONS[game]}:${opcode}`,\n  generateTipHeader: generateVarHeader,\n  getGroups: () => [{min: 10000, max: 11000, title: null}],\n  generateTableRowHtml: generateVarTableRowHtml,\n  textBeforeTable: (c: Context) => (queryGame(c) === '06') ? '**EoSD ANM has no variables, _nerrrrd._**' : null,\n});\n\nexport const STD_HANDLERS: TableHandlers<InsData> = makeTableHandlers({\n  tablePage: 'std/ins',\n  itemKindString: 'instruction',\n  formatAnchor: (num: number) => `ins-${num}`,\n  dataTable: STD_INS_DATA,\n  tableByOpcode: STD_BY_OPCODE,\n  dummyDataWhenNoRef: () => ({sig: '?', args: [''], wip: 2, desc: '[wip=2]*No data.*[/wip]'}),\n  mainPrefix: 'std',\n  getNameKey: (game: Game, opcode: number) => `std:${game}:${opcode}`,\n  generateTipHeader: generateInsSiggy,\n  getGroups: () => [{min: 0, max: 100, title: null}],\n  generateTableRowHtml: generateInsTableRowHtml,\n  textBeforeTable: (c: Context) => (queryGame(c) > '09') ? null : dedent(`\n    In games prior to [game=095], all STD instructions are the same size, with room for three arguments.\n    Your version of \\`thstd\\` may or may not require you to always supply three arguments.  Thus, an\n    argument of \\`__\\` below indicates a padding argument whose value is unused.\n  `),\n});\n\nfunction makeTableHandlers<T extends CommonData>(handlers: Without<TableHandlers<T>, AutoGeneratedFields>): TableHandlers<T> {\n  const {tableByOpcode} = handlers;\n\n  const gameRangeTable: Record<Ref, Availability> = {};\n  const reverseTable: StrMap<Game, StrMap<Ref, number>> = {};\n\n  for (const [game, table] of tableByOpcode.entries()) {\n    const reverseInner = reverseTable[game] = {} as StrMap<Ref, number>;\n\n    for (const [opcode, {ref}] of NumMap.entries(table)) {\n      if (ref === null) continue;\n\n      const minGame = gameRangeTable[ref]?.minGame || game;\n      const maxGame = game;\n      gameRangeTable[ref] = {minGame, maxGame};\n      reverseInner[ref] = opcode;\n    }\n  }\n  return {...handlers, gameRangeTable, reverseTable};\n}\n\ntype Without<T, K> = {\n  [L in Exclude<keyof T, K>]: T[L]\n};\n\nconst ARGTYPES_HTML: StrMap<string, (name: string) => string> = {\n  \"S\": (name: string) => /* html */`<span class=\"type int\">int</span>&nbsp;${name}`,\n  \"s\": (name: string) => /* html */`<span class=\"type int\">short</span>&nbsp;${name}`,\n  \"b\": (name: string) => /* html */`<span class=\"type int\">byte</span>&nbsp;${name}`,\n  \"$\": (name: string) => /* html */`<span class=\"type int mut\">int&</span>&nbsp;${name}`,\n  \"f\": (name: string) => /* html */`<span class=\"type float\">float</span>&nbsp;${name}`,\n  \"%\": (name: string) => /* html */`<span class=\"type float mut\">float&</span>&nbsp;${name}`,\n  \"_\": () => /* html */`<span class=\"type unused\">__</span>`,\n  \"?\": () => /* html */`<span class=\"type unknown\">???...</span>`,\n};\n\nfunction setupGameSelector<D>({tableByOpcode}: TableHandlers<D>, $select: HTMLElement) {\n  const supportedGames = tableByOpcode.keys();\n  const currentQuery = parseQuery(window.location.hash);\n  const currentGame = queryGame(currentQuery);\n  for (const game of supportedGames) {\n    const $option = document.createElement('option');\n    $option.value = game;\n    $option.text = `${gameData(game).thname} ~ ${gameData(game).long}`;\n    if (game == currentGame) {\n      $option.selected = true;\n    }\n    $select.appendChild($option);\n  }\n\n  $select.addEventListener('change', (ev: any) => {\n    // to switch games, just set g= in the url\n    const query = Object.assign({}, currentQuery, {g: ev.target.value});\n    // clear the anchor; if the user is changing the dropbox, they're at the top of the page,\n    // and we don't need it suddenly scrolling back to the last clicked opcode.\n    delete query.a;\n    window.location.href = queryUrl(query);\n  });\n}\n\nfunction initNames() {\n  initAnmInsNames();\n  initAnmVarNames();\n  initStdInsNames();\n}\n\n// Adds e.g. a 'v4:' prefix to a name if the version doesn't match the current page.\nfunction possiblyAddAnmVersionPrefix(s: string, version: AnmVersion, ctx: Context) {\n  if (version !== GAME_ANM_VERSIONS[queryGame(ctx)]) {\n    return `${version}:${s}`;\n  }\n  return s;\n}\n\n// Adds e.g. a 'th095:' prefix to a name if the version doesn't match the current page.\nfunction possiblyAddStdGamePrefix(s: string, game: Game, ctx: Context) {\n  if (queryGame(ctx) !== game) {\n    return `th${game}:${s}`;\n  }\n  return s;\n}\n\nfunction initAnmInsNames() {\n  for (const version of SUPPORTED_ANM_VERSIONS) {\n    const getDefaultName = (opcode: number) => `ins_${opcode}`;\n\n    const getMappedName = (opcode: number) => {\n      const name = getCurrentAnmmaps()[version].ins[opcode];\n      if (name == null) return getDefaultName(opcode);\n      return name;\n    };\n\n    ANM_INS_NAMES.registerPrefix(version, (suffix, ctx) => {\n      const opcode = parseInt(suffix, 10);\n      if (Number.isNaN(opcode)) return null;\n\n      const name = getMappedName(opcode);\n      return possiblyAddAnmVersionPrefix(name, version, ctx);\n    });\n  }\n  globalNames.registerPrefix('anm', ANM_INS_NAMES);\n}\n\nfunction initAnmVarNames() {\n  // (this is sufficiently different from instructions that we'll just put up with the copypasta)\n  for (const version of SUPPORTED_ANM_VERSIONS) {\n    const getDefaultName = (opcode: number, type: VarType) => `[${opcode}${type === '%' ? '.0f' : ''}]`;\n\n    const getMappedName = (opcode: number, type: VarType) => {\n      const name = getCurrentAnmmaps()[version].vars[opcode];\n      if (name == null) return getDefaultName(opcode, type);\n      return type + name;\n    };\n\n    ANM_VAR_NAMES.registerPrefix(version, (suffix, ctx) => {\n      const opcode = parseInt(suffix, 10);\n      if (Number.isNaN(opcode)) return null;\n\n      const game = ANM_VERSION_DATA[version].maxGame;\n      const entry = ANM_VAR_HANDLERS.tableByOpcode.get(game)![opcode];\n      if (entry == null) return null;\n\n      // Variables are always required to have crossrefs associated with them so that we can get the type\n      if (!entry.ref) throw new Error(`anmvar ${version}:${opcode} exists but has no ref`);\n      const data = getDataByRef(entry.ref!, ANM_VAR_HANDLERS);\n      const name = getMappedName(opcode, data!.type);\n      return possiblyAddAnmVersionPrefix(name, version, ctx);\n    });\n  }\n  globalNames.registerPrefix('anmvar', ANM_VAR_NAMES);\n}\n\nfunction initStdInsNames() {\n  for (const game of STD_HANDLERS.tableByOpcode.keys()) {\n    const getDefaultName = (opcode: number) => `ins_${opcode}`;\n\n    STD_INS_NAMES.registerPrefix(game, (suffix, ctx) => {\n      const opcode = parseInt(suffix, 10);\n      if (Number.isNaN(opcode)) return null;\n\n      const name = getDefaultName(opcode);\n      return possiblyAddStdGamePrefix(name, game, ctx);\n    });\n  }\n  globalNames.registerPrefix('std', STD_INS_NAMES);\n}\n\nfunction registerRefTipsForTable<D extends CommonData>(tableHandlers: TableHandlers<D>) {\n  const {mainPrefix, dataTable} = tableHandlers;\n  globalRefTips.registerPrefix(mainPrefix, (id, ctx) => {\n    const ins = dataTable[id];\n    if (!ins) return null;\n\n    const ref = `${mainPrefix}:${id}`;\n    return generateTip(ins, ref, ctx, tableHandlers);\n  });\n}\n\nfunction registerAnmRefNamesForTable<D>(tableHandlers: TableHandlers<D>) {\n  const {mainPrefix, reverseTable} = tableHandlers;\n  globalRefNames.registerPrefix(mainPrefix, (id, ctx) => {\n    const ref = `${mainPrefix}:${id}`;\n\n    const preferredGame = gameForNamingRef(tableHandlers, ref, ctx);\n    if (!preferredGame) return null; // no game has it\n    const version = GAME_ANM_VERSIONS[preferredGame];\n\n    // FIXME: This is what's forcing us to keep V3 anmmaps.  We might need to check\n    //        previous games in the same version, so that we can locate rgb-dword\n    const versionGame = ANM_VERSION_DATA[version].maxGame;\n    const opcode = reverseTable[versionGame]![ref];\n    if (opcode == null) return null;\n    return globalNames.getNow(`${mainPrefix}:${version}:${opcode}`, ctx);\n  });\n}\n\nfunction registerStdRefNamesForTable<D>(tableHandlers: TableHandlers<D>) {\n  const {mainPrefix, reverseTable} = tableHandlers;\n  globalRefNames.registerPrefix(mainPrefix, (id, ctx) => {\n    const ref = `${mainPrefix}:${id}`;\n\n    const game = gameForNamingRef(tableHandlers, ref, ctx);\n    if (!game) return null; // no game has it\n\n    const opcode = reverseTable[game]![ref]!;\n    return globalNames.getNow(`${mainPrefix}:${game}:${opcode}`, ctx);\n  });\n}\n\nfunction gameForNamingRef<D>(tableHandlers: TableHandlers<D>, ref: string, ctx: Context): Game | null {\n  const {reverseTable, gameRangeTable} = tableHandlers;\n\n  // prefer displaying the name from the current game if it exists there\n  const currentGame = queryGame(ctx);\n  const table = reverseTable[currentGame];\n  if (table && table[ref] != null) { // opcode in current game?\n    return currentGame;\n  }\n\n  // else find the latest game that has it\n  const avail = gameRangeTable[ref];\n  if (!avail) return null;\n  return avail.maxGame;\n}\n\nfunction generateTablePageHtml<D extends CommonData>(tableHandlers: TableHandlers<D>) {\n  const {getGroups, dummyDataWhenNoRef, mainPrefix, textBeforeTable} = tableHandlers;\n\n  const currentQuery = parseQuery(window.location.hash);\n  const game = queryGame(currentQuery);\n\n  let total = 0;\n  let documented = 0;\n  const groups = getGroups(game);\n\n  const shouldHaveToc = groups.length > 1;\n  let base = \"\";\n  let toc = \"\";\n  let table = \"\";\n  if (shouldHaveToc) {\n    toc += /* html */`<div class='toc'><h3>Navigation</h3><ul>`;\n  }\n\n  for (const group of groups) {\n    if (shouldHaveToc) {\n      const groupAnchor = `group-${group.min}`;\n      const navQuery = Object.assign({}, currentQuery, {a: groupAnchor});\n      const navDest = queryUrl(navQuery);\n      toc += /* html */`<li><a href=\"${navDest}\">${group.title} (${group.min}..)</a></li>`;\n      table += /* html */`\\n<h2 id=\"${groupAnchor}\">${group.min}-${group.max}: ${group.title}</h2>`;\n    }\n\n    table += /* html */`<table class='ins-table'>`;\n    for (let opcode=group.min; opcode<=group.max; ++opcode) {\n      const refObj = getRefByOpcode(game, opcode, tableHandlers);\n      if (refObj == null) continue; // instruction doesn't exist\n\n      // instruction exists, but our docs may suck\n      let {ref, wip} = refObj;\n      // (tricky logic.  ref === null is not an error case, but getDataByRef returning null IS)\n      let data = ref === null ? dummyDataWhenNoRef(game) : getDataByRef(ref, tableHandlers);\n      if (!data) {\n        // instruction is assigned, but ref has no entry in table\n        window.console.error(`ref ${ref} is assigned to ${mainPrefix} number ${game}:${opcode} but has no data`);\n        data = dummyDataWhenNoRef(game);\n      }\n      wip = Math.max(wip, data.wip) as Wip;\n\n      if (wip === 0) {\n        documented += 1;\n      }\n      total += 1;\n      table += tableHandlers.generateTableRowHtml(game, data, opcode);\n    }\n\n    table += \"</table>\";\n  }\n  if (shouldHaveToc) toc += \"</ul></div>\";\n\n  // Even though this is right next to the dropdown, the current game is displayed here for the sake of pages like the var-table\n  // that can refresh so quickly that it can be hard to realize that the page did in fact respond to changing the dropdown selection.\n  base += `Now showing: [game-thlong=${game}]<br>`;\n\n  if (total > 0) {\n    base += `Documented rate: ${documented}/${total} (${(documented/total*100).toFixed(2)}%)<br>`;\n    base += \"[wip=1]Items marked like this are not fully understood.[/wip]<br>[wip=2]Items like this are complete mysteries.[/wip]\";\n  }\n\n  let textAbove;\n  if (textAbove = textBeforeTable(currentQuery)) {\n    base = `${base}<br><br>${textAbove}`;\n  }\n\n  const $out = parseHtmlElement('<div>' + MD.makeHtml(base) + MD.makeHtml(toc) + table + '</div>');\n  postprocessConvertedMarkdown($out);\n  globalNames.transformHtml($out, currentQuery);\n  globalLinks.transformHtml($out, currentQuery);\n  return $out;\n}\n\nfunction parseHtmlElement(html: string) {\n  const $tmp = document.createElement('div');\n  $tmp.innerHTML = html;\n  return $tmp.firstElementChild! as HTMLElement;\n}\n\nfunction generateInsSiggy(ins: InsData, {nameKey}: {nameKey: string}) {\n  const lParen = /* html */`<span class=\"punct\">${\"(\"}</span>`;\n  const rParen = /* html */`<span class=\"punct\">${\")\"}</span>`;\n  const params = /* html */`<span class=\"ins-params\">${generateInsParameters(ins)}</span>`;\n  let name = globalNames.getHtml(nameKey);\n  name = /* html */`<span class=\"ins-name\" data-wip=\"${ins.wip}\">${name}</span>`;\n  return /* html */`<div class=\"ins-siggy-wrapper\">${name}${lParen}${params}${rParen}</div>`;\n}\n\nfunction generateVarHeader(avar: VarData, {nameKey}: {nameKey: string}) {\n  const name = globalNames.getHtml(nameKey);\n  return /* html */`<span class=\"var-header\" data-wip=\"${avar.wip}\">${name}</span>`;\n}\n\n/** @this */ // appease eslint\nfunction generateInsTableRowHtml<D>(this: TableHandlers<D>, game: Game, ins: InsData, opcode: number) {\n  const nameKey = this.getNameKey(game, opcode);\n  let [desc] = handleTipHide(ins.desc, false);\n  desc = postprocessAnmDesc(desc, false);\n\n  return /* html */`\n  <tr class=\"ins-table-entry\" id=\"ins-${opcode}\">\n    <td class=\"col-id\">${opcode}</td>\n    <td class=\"col-name\">${generateInsSiggy(ins, {nameKey})}</td>\n    <td class=\"col-desc\">${desc}</td>\n  </tr>\n  `;\n}\n\n/** @this */ // appease eslint\nfunction generateVarTableRowHtml<D>(this: TableHandlers<D>, game: Game, ins: VarData, opcode: number) {\n  const nameKey = this.getNameKey(game, opcode);\n  let [desc] = handleTipHide(ins.desc, false);\n  desc = postprocessAnmDesc(desc, false);\n\n  // FIXME: add a mutability column.\n  return /* html */`\n  <tr class=\"ins-table-entry\" id=\"var-${opcode}\">\n    <td class=\"col-id\">${opcode}</td>\n    <td class=\"col-name\">${generateVarHeader(ins, {nameKey})}</td>\n    <td class=\"col-desc\">${desc}</td>\n  </tr>\n  `;\n}\n\nfunction generateInsParameters(ins: InsData) {\n  const comma = /* html */`<span class=\"punct\">${\",\"}</span>`;\n  let ret = \"\";\n  for (let i=0; i<ins.args.length; ++i) {\n    switch (i) {\n      // Allow breaking after the opening parenthesis\n      case 0: ret += `<wbr>`; break;\n      default: ret += `${comma} `; break;\n    }\n    ret += ARGTYPES_HTML[ins.sig[i]]!(ins.args[i]);\n  }\n  return ret;\n}\n\nfunction handleTipHide(desc: string, isTip: boolean): [string, boolean] {\n  const hasHidden = !!desc.match(/\\[tiphide\\]/g);\n  // note: we also strip space with *at most* one newline so that [tiphide] or [/tiphide]\n  // sitting on its own line doesn't become a paragraph break in markdown when stripped.\n  if (isTip) {\n    desc = desc.replace(/ *\\n? *\\[tiphide\\][^]*?\\[\\/tiphide\\]/g, '');\n  } else {\n    desc = desc.replace(/ *\\n? *\\[(\\/)?tiphide\\]/g, '');\n  }\n  return [desc, hasHidden];\n}\n\nfunction postprocessAnmDesc(desc: string, isTip: boolean) {\n  let ret = desc;\n  if (isTip) {\n    ret = disableTooltips(ret);\n  }\n  return MD.makeHtml(ret);\n}\n\nfunction disableTooltips(desc: string) {\n  return desc.replace(/\\[ref=/g, \"[ref-notip=\");\n}\n\nfunction getRefByOpcode<D>(game: Game, opcode: number, tableHandlers: TableHandlers<D>) {\n  const {tableByOpcode} = tableHandlers;\n\n  const entry = tableByOpcode.get(game)?.[opcode];\n  if (entry === undefined) return null; // opcode doesn't exist in game\n\n  const out = Object.assign({}, entry);\n  out.wip = out.wip || 0;\n  return out;\n}\n\nfunction stripRefPrefix(prefix: string, ref: Ref) {\n  if (!ref.startsWith(`${prefix}:`)) {\n    throw new Error(`expected ${prefix} ref, got \"${ref}\"`);\n  }\n  return ref.substring(prefix.length + 1);\n}\n\n// Get instruction data for an 'anm:' or 'anmvar:' ref id.\nfunction getDataByRef<D>(ref: string, {mainPrefix, dataTable}: TableHandlers<D>) {\n  const id = stripRefPrefix(mainPrefix, ref);\n\n  const out = dataTable[id];\n  if (out == null) {\n    window.console.warn(`bad ${mainPrefix} crossref: ${id}`);\n    return null;\n  }\n  return out;\n}\n\nfunction generateTip<D extends CommonData>(data: D, ref: Ref, context: Context, tableHandlers: TableHandlers<D>) {\n  const {generateTipHeader} = tableHandlers;\n  const [desc, omittedInfo] = handleTipHide(data.desc, true);\n  const contents = postprocessAnmDesc(desc, true);\n  const heading = generateTipHeader(data, {nameKey: getRefNameKey(ref)});\n  return {heading, contents, omittedInfo};\n}\n\nfunction getUrlByRef<D>(ref: string, context: Context, tableHandlers: TableHandlers<D>) {\n  const {reverseTable, tablePage, formatAnchor, gameRangeTable} = tableHandlers;\n\n  // On the same page: try to preserve full URL except anchor.\n  // On different page: Just preserve things that share meaning across pages.\n  //   (E.g. we want UFO var table to link to UFO ins table rather than WBaWC when possible.)\n  let query: Query;\n  if (queryPageEquals(context, {s: tablePage})) {\n    query = {...context};\n  } else {\n    query = {...queryFilterCommonProps(context), s: tablePage} as any;\n  }\n\n  const game = queryGame(query);\n  let table, opcode;\n  if ((table = reverseTable[game]) && (opcode = table[ref]) != null && opcode != null) {\n    // available in same game, keep context.g exactly as it is\n  } else {\n    // not available in same game, use latest game that has it\n    const data = gameRangeTable[ref];\n    if (!data) return null; // ref does not exist\n\n    // get opcode from latest game\n    opcode = reverseTable[data.maxGame]![ref]!;\n    query.g = data.maxGame;\n  }\n  query.a = formatAnchor(opcode);\n\n  return queryUrl(query);\n}\n\n/**\n * Given a ref that may be for an outdated instruction, get the ref in the latest games.\n *\n * Sometimes instructions are given different refs in different games because they have\n * different signatures, or they work very differently and it is desirable to be able to\n * link to them separately.  This can hinder code that wants to track an instruction across\n * all games, however, so this function can be used to normalize instructions to their\n * latest ref.\n */\nexport function makeRefGameIndependent<D extends CommonData>(ref: string, tableHandlers: TableHandlers<D>) {\n  while (true) {\n    const {succ} = getDataByRef(ref, tableHandlers)!;\n    if (!succ) return ref;\n\n    ref = `${tableHandlers.mainPrefix}:${succ}`;\n  }\n}\n","import {parseQuery, queryPageEquals} from \"./url-format\";\n\nexport type Entry = {\n  label: string,\n  url?: string,\n  newTab?: true,\n  children?: Entry[],\n  cssClasses?: string[],\n};\n\nexport const NAVBAR: Entry[] = [\n  {\n    label: \"Home\",\n    url: \"#/\",\n  },\n\n  {\n    label: \"ANM\",\n    children: [\n      {\n        label: \"General documentation\",\n        children: [\n          {url: \"#/anm/concepts\", label: \"Concepts\"},\n          {url: \"#/anm/interpolation\", label: \"Interpolation modes (easing)\"},\n          {url: \"#/anm/stages-of-rendering\", label: \"Stages of rendering\"},\n          {url: \"#/anm/ontick-ondraw\", label: \"on_tick and on_draw\"},\n        ],\n      },\n      {url: \"#/anm/ins\", label: \"Instruction reference\"},\n      {url: \"#/anm/var\", label: \"Variable reference\"},\n      {url: \"#/std/ins&g=08\", label: \"STD instruction reference\"},\n      {url: \"#/anm/stats\", label: \"Stats!\"},\n    ],\n  },\n\n  {\n    label: \"Links\",\n    children: [\n      {\n        label: \"My dumb blog\",\n        url: \"https://exphp.github.io/\",\n        newTab: true,\n      },\n      {\n        label: \"My Github\",\n        url: \"https://github.com/ExpHP\",\n        newTab: true,\n      },\n      {\n        label: \"Priw8's site\",\n        url: \"https://priw8.github.io/\",\n        newTab: true,\n      },\n      {\n        label: \"Maribel's site\",\n        url: \"https://maribelhearn.com/\",\n        newTab: true,\n      },\n    ],\n  },\n\n  {\n    label: `<div class=\"gear\"></div>`,\n    url: \"#/settings\",\n    cssClasses: ['settings'],\n  },\n];\n\nexport function buildNavbar($root: HTMLElement) {\n  let html = '';\n  for (const entry of NAVBAR) {\n    html += generateNavbarEntryHtml(entry, {inner: false});\n  }\n  $root.innerHTML = html;\n}\n\nfunction generateNavbarEntryHtml(entry: Entry, {inner}: {inner: boolean}) {\n  // two key pieces: a name and an inner list\n  let html = `<div class='navigation-entry-name'>${entry.label}</div>`;\n  if (entry.children) {\n    html += `<div class='navigation-entry-list'>`;\n    for (const child of entry.children) {\n      html += generateNavbarEntryHtml(child, {inner: true});\n    }\n    html += `</div>`;\n  }\n\n  // outer div to hold them\n  const otherClasses = [\n    inner ? 'inner' : 'outermost',\n    ...(entry.cssClasses || []),\n  ];\n  if (entry.children) otherClasses.push('has-children');\n\n  // data-navurl is only for highlighting the entry for the current page\n  const divUrl = entry.url ? `data-navurl=\"${entry.url}\"` : '';\n  html = `<div class='navigation-entry ${otherClasses.join(\" \")}' ${divUrl}>${html}</div>`;\n\n  // optionally wrap in link\n  if (entry.url) {\n    let attr = `href=\"${entry.url}\"`;\n    attr += (entry.newTab) ? ' target=\"_blank\"' : '';\n    html = `<a ${attr}>${html}</a>`;\n  }\n  return html;\n}\n\nexport function highlightCurrentPageInNavbar() {\n  for (const $old of document.querySelectorAll('.navigation-entry')) {\n    $old.classList.remove('active');\n    $old.classList.remove('active-child');\n  }\n\n  const currentQuery = parseQuery(window.location.hash);\n  for (const $elem of document.querySelectorAll<HTMLElement>('.navigation-entry')) {\n    let navurl;\n    if (!(navurl = $elem.dataset.navurl)) continue;\n    if (navurl[0] !== '#') continue; // external link\n    if (queryPageEquals(parseQuery(navurl), currentQuery)) {\n      $elem.classList.add('active');\n\n      let $parent: HTMLElement | null = $elem;\n      while ($parent = $parent.parentElement) {\n        if ($parent.classList.contains('navigation-entry')) {\n          $parent.classList.add('active-child');\n        }\n      }\n      break;\n    }\n  }\n}\n","// https://github.com/substack/deep-freeze/blob/master/index.js\n/** @param {any} obj */\nfunction deepFreeze(obj) {\n  Object.freeze(obj);\n\n  var objIsFunction = typeof obj === 'function';\n\n  Object.getOwnPropertyNames(obj).forEach(function(prop) {\n    if (Object.hasOwnProperty.call(obj, prop)\n    && obj[prop] !== null\n    && (typeof obj[prop] === \"object\" || typeof obj[prop] === \"function\")\n    // IE11 fix: https://github.com/highlightjs/highlight.js/issues/2318\n    // TODO: remove in the future\n    && (objIsFunction ? prop !== 'caller' && prop !== 'callee' && prop !== 'arguments' : true)\n    && !Object.isFrozen(obj[prop])) {\n      deepFreeze(obj[prop]);\n    }\n  });\n\n  return obj;\n}\n\nclass Response {\n  /**\n   * @param {CompiledMode} mode\n   */\n  constructor(mode) {\n    // eslint-disable-next-line no-undefined\n    if (mode.data === undefined) mode.data = {};\n\n    this.data = mode.data;\n  }\n\n  ignoreMatch() {\n    this.ignore = true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {string}\n */\nfunction escapeHTML(value) {\n  return value\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#x27;');\n}\n\n/**\n * performs a shallow merge of multiple objects into one\n *\n * @template T\n * @param {T} original\n * @param {Record<string,any>[]} objects\n * @returns {T} a single new object\n */\nfunction inherit(original, ...objects) {\n  /** @type Record<string,any> */\n  var result = {};\n\n  for (const key in original) {\n    result[key] = original[key];\n  }\n  objects.forEach(function(obj) {\n    for (const key in obj) {\n      result[key] = obj[key];\n    }\n  });\n  return /** @type {T} */ (result);\n}\n\n/* Stream merging */\n\n/**\n * @typedef Event\n * @property {'start'|'stop'} event\n * @property {number} offset\n * @property {Node} node\n */\n\n/**\n * @param {Node} node\n */\nfunction tag(node) {\n  return node.nodeName.toLowerCase();\n}\n\n/**\n * @param {Node} node\n */\nfunction nodeStream(node) {\n  /** @type Event[] */\n  var result = [];\n  (function _nodeStream(node, offset) {\n    for (var child = node.firstChild; child; child = child.nextSibling) {\n      if (child.nodeType === 3) {\n        offset += child.nodeValue.length;\n      } else if (child.nodeType === 1) {\n        result.push({\n          event: 'start',\n          offset: offset,\n          node: child\n        });\n        offset = _nodeStream(child, offset);\n        // Prevent void elements from having an end tag that would actually\n        // double them in the output. There are more void elements in HTML\n        // but we list only those realistically expected in code display.\n        if (!tag(child).match(/br|hr|img|input/)) {\n          result.push({\n            event: 'stop',\n            offset: offset,\n            node: child\n          });\n        }\n      }\n    }\n    return offset;\n  })(node, 0);\n  return result;\n}\n\n/**\n * @param {any} original - the original stream\n * @param {any} highlighted - stream of the highlighted source\n * @param {string} value - the original source itself\n */\nfunction mergeStreams(original, highlighted, value) {\n  var processed = 0;\n  var result = '';\n  var nodeStack = [];\n\n  function selectStream() {\n    if (!original.length || !highlighted.length) {\n      return original.length ? original : highlighted;\n    }\n    if (original[0].offset !== highlighted[0].offset) {\n      return (original[0].offset < highlighted[0].offset) ? original : highlighted;\n    }\n\n    /*\n    To avoid starting the stream just before it should stop the order is\n    ensured that original always starts first and closes last:\n\n    if (event1 == 'start' && event2 == 'start')\n      return original;\n    if (event1 == 'start' && event2 == 'stop')\n      return highlighted;\n    if (event1 == 'stop' && event2 == 'start')\n      return original;\n    if (event1 == 'stop' && event2 == 'stop')\n      return highlighted;\n\n    ... which is collapsed to:\n    */\n    return highlighted[0].event === 'start' ? original : highlighted;\n  }\n\n  /**\n   * @param {Node} node\n   */\n  function open(node) {\n    /** @param {Attr} attr */\n    function attr_str(attr) {\n      return ' ' + attr.nodeName + '=\"' + escapeHTML(attr.value) + '\"';\n    }\n    // @ts-ignore\n    result += '<' + tag(node) + [].map.call(node.attributes, attr_str).join('') + '>';\n  }\n\n  /**\n   * @param {Node} node\n   */\n  function close(node) {\n    result += '</' + tag(node) + '>';\n  }\n\n  /**\n   * @param {Event} event\n   */\n  function render(event) {\n    (event.event === 'start' ? open : close)(event.node);\n  }\n\n  while (original.length || highlighted.length) {\n    var stream = selectStream();\n    result += escapeHTML(value.substring(processed, stream[0].offset));\n    processed = stream[0].offset;\n    if (stream === original) {\n      /*\n      On any opening or closing tag of the original markup we first close\n      the entire highlighted node stack, then render the original tag along\n      with all the following original tags at the same offset and then\n      reopen all the tags on the highlighted stack.\n      */\n      nodeStack.reverse().forEach(close);\n      do {\n        render(stream.splice(0, 1)[0]);\n        stream = selectStream();\n      } while (stream === original && stream.length && stream[0].offset === processed);\n      nodeStack.reverse().forEach(open);\n    } else {\n      if (stream[0].event === 'start') {\n        nodeStack.push(stream[0].node);\n      } else {\n        nodeStack.pop();\n      }\n      render(stream.splice(0, 1)[0]);\n    }\n  }\n  return result + escapeHTML(value.substr(processed));\n}\n\nvar utils = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  escapeHTML: escapeHTML,\n  inherit: inherit,\n  nodeStream: nodeStream,\n  mergeStreams: mergeStreams\n});\n\n/**\n * @typedef {object} Renderer\n * @property {(text: string) => void} addText\n * @property {(node: Node) => void} openNode\n * @property {(node: Node) => void} closeNode\n * @property {() => string} value\n */\n\n/** @typedef {{kind?: string, sublanguage?: boolean}} Node */\n/** @typedef {{walk: (r: Renderer) => void}} Tree */\n/** */\n\nconst SPAN_CLOSE = '</span>';\n\n/**\n * Determines if a node needs to be wrapped in <span>\n *\n * @param {Node} node */\nconst emitsWrappingTags = (node) => {\n  return !!node.kind;\n};\n\n/** @type {Renderer} */\nclass HTMLRenderer {\n  /**\n   * Creates a new HTMLRenderer\n   *\n   * @param {Tree} parseTree - the parse tree (must support `walk` API)\n   * @param {{classPrefix: string}} options\n   */\n  constructor(parseTree, options) {\n    this.buffer = \"\";\n    this.classPrefix = options.classPrefix;\n    parseTree.walk(this);\n  }\n\n  /**\n   * Adds texts to the output stream\n   *\n   * @param {string} text */\n  addText(text) {\n    this.buffer += escapeHTML(text);\n  }\n\n  /**\n   * Adds a node open to the output stream (if needed)\n   *\n   * @param {Node} node */\n  openNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    let className = node.kind;\n    if (!node.sublanguage) {\n      className = `${this.classPrefix}${className}`;\n    }\n    this.span(className);\n  }\n\n  /**\n   * Adds a node close to the output stream (if needed)\n   *\n   * @param {Node} node */\n  closeNode(node) {\n    if (!emitsWrappingTags(node)) return;\n\n    this.buffer += SPAN_CLOSE;\n  }\n\n  /**\n   * returns the accumulated buffer\n  */\n  value() {\n    return this.buffer;\n  }\n\n  // helpers\n\n  /**\n   * Builds a span element\n   *\n   * @param {string} className */\n  span(className) {\n    this.buffer += `<span class=\"${className}\">`;\n  }\n}\n\n/** @typedef {{kind?: string, sublanguage?: boolean, children: Node[]} | string} Node */\n/** @typedef {{kind?: string, sublanguage?: boolean, children: Node[]} } DataNode */\n/**  */\n\nclass TokenTree {\n  constructor() {\n    /** @type DataNode */\n    this.rootNode = { children: [] };\n    this.stack = [this.rootNode];\n  }\n\n  get top() {\n    return this.stack[this.stack.length - 1];\n  }\n\n  get root() { return this.rootNode; }\n\n  /** @param {Node} node */\n  add(node) {\n    this.top.children.push(node);\n  }\n\n  /** @param {string} kind */\n  openNode(kind) {\n    /** @type Node */\n    const node = { kind, children: [] };\n    this.add(node);\n    this.stack.push(node);\n  }\n\n  closeNode() {\n    if (this.stack.length > 1) {\n      return this.stack.pop();\n    }\n    // eslint-disable-next-line no-undefined\n    return undefined;\n  }\n\n  closeAllNodes() {\n    while (this.closeNode());\n  }\n\n  toJSON() {\n    return JSON.stringify(this.rootNode, null, 4);\n  }\n\n  /**\n   * @typedef { import(\"./html_renderer\").Renderer } Renderer\n   * @param {Renderer} builder\n   */\n  walk(builder) {\n    // this does not\n    return this.constructor._walk(builder, this.rootNode);\n    // this works\n    // return TokenTree._walk(builder, this.rootNode);\n  }\n\n  /**\n   * @param {Renderer} builder\n   * @param {Node} node\n   */\n  static _walk(builder, node) {\n    if (typeof node === \"string\") {\n      builder.addText(node);\n    } else if (node.children) {\n      builder.openNode(node);\n      node.children.forEach((child) => this._walk(builder, child));\n      builder.closeNode(node);\n    }\n    return builder;\n  }\n\n  /**\n   * @param {Node} node\n   */\n  static _collapse(node) {\n    if (typeof node === \"string\") return;\n    if (!node.children) return;\n\n    if (node.children.every(el => typeof el === \"string\")) {\n      // node.text = node.children.join(\"\");\n      // delete node.children;\n      node.children = [node.children.join(\"\")];\n    } else {\n      node.children.forEach((child) => {\n        TokenTree._collapse(child);\n      });\n    }\n  }\n}\n\n/**\n  Currently this is all private API, but this is the minimal API necessary\n  that an Emitter must implement to fully support the parser.\n\n  Minimal interface:\n\n  - addKeyword(text, kind)\n  - addText(text)\n  - addSublanguage(emitter, subLanguageName)\n  - finalize()\n  - openNode(kind)\n  - closeNode()\n  - closeAllNodes()\n  - toHTML()\n\n*/\n\n/**\n * @implements {Emitter}\n */\nclass TokenTreeEmitter extends TokenTree {\n  /**\n   * @param {*} options\n   */\n  constructor(options) {\n    super();\n    this.options = options;\n  }\n\n  /**\n   * @param {string} text\n   * @param {string} kind\n   */\n  addKeyword(text, kind) {\n    if (text === \"\") { return; }\n\n    this.openNode(kind);\n    this.addText(text);\n    this.closeNode();\n  }\n\n  /**\n   * @param {string} text\n   */\n  addText(text) {\n    if (text === \"\") { return; }\n\n    this.add(text);\n  }\n\n  /**\n   * @param {Emitter & {root: DataNode}} emitter\n   * @param {string} name\n   */\n  addSublanguage(emitter, name) {\n    /** @type DataNode */\n    const node = emitter.root;\n    node.kind = name;\n    node.sublanguage = true;\n    this.add(node);\n  }\n\n  toHTML() {\n    const renderer = new HTMLRenderer(this, this.options);\n    return renderer.value();\n  }\n\n  finalize() {\n    return true;\n  }\n}\n\n/**\n * @param {string} value\n * @returns {RegExp}\n * */\nfunction escape(value) {\n  return new RegExp(value.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&'), 'm');\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction source(re) {\n  if (!re) return null;\n  if (typeof re === \"string\") return re;\n\n  return re.source;\n}\n\n/**\n * @param {...(RegExp | string) } args\n * @returns {string}\n */\nfunction concat(...args) {\n  const joined = args.map((x) => source(x)).join(\"\");\n  return joined;\n}\n\n/**\n * @param {RegExp} re\n * @returns {number}\n */\nfunction countMatchGroups(re) {\n  return (new RegExp(re.toString() + '|')).exec('').length - 1;\n}\n\n/**\n * Does lexeme start with a regular expression match at the beginning\n * @param {RegExp} re\n * @param {string} lexeme\n */\nfunction startsWith(re, lexeme) {\n  var match = re && re.exec(lexeme);\n  return match && match.index === 0;\n}\n\n// join logically computes regexps.join(separator), but fixes the\n// backreferences so they continue to match.\n// it also places each individual regular expression into it's own\n// match group, keeping track of the sequencing of those match groups\n// is currently an exercise for the caller. :-)\n/**\n * @param {(string | RegExp)[]} regexps\n * @param {string} separator\n * @returns {string}\n */\nfunction join(regexps, separator = \"|\") {\n  // backreferenceRe matches an open parenthesis or backreference. To avoid\n  // an incorrect parse, it additionally matches the following:\n  // - [...] elements, where the meaning of parentheses and escapes change\n  // - other escape sequences, so we do not misparse escape sequences as\n  //   interesting elements\n  // - non-matching or lookahead parentheses, which do not capture. These\n  //   follow the '(' with a '?'.\n  var backreferenceRe = /\\[(?:[^\\\\\\]]|\\\\.)*\\]|\\(\\??|\\\\([1-9][0-9]*)|\\\\./;\n  var numCaptures = 0;\n  var ret = '';\n  for (var i = 0; i < regexps.length; i++) {\n    numCaptures += 1;\n    var offset = numCaptures;\n    var re = source(regexps[i]);\n    if (i > 0) {\n      ret += separator;\n    }\n    ret += \"(\";\n    while (re.length > 0) {\n      var match = backreferenceRe.exec(re);\n      if (match == null) {\n        ret += re;\n        break;\n      }\n      ret += re.substring(0, match.index);\n      re = re.substring(match.index + match[0].length);\n      if (match[0][0] === '\\\\' && match[1]) {\n        // Adjust the backreference.\n        ret += '\\\\' + String(Number(match[1]) + offset);\n      } else {\n        ret += match[0];\n        if (match[0] === '(') {\n          numCaptures++;\n        }\n      }\n    }\n    ret += \")\";\n  }\n  return ret;\n}\n\n// Common regexps\nconst IDENT_RE = '[a-zA-Z]\\\\w*';\nconst UNDERSCORE_IDENT_RE = '[a-zA-Z_]\\\\w*';\nconst NUMBER_RE = '\\\\b\\\\d+(\\\\.\\\\d+)?';\nconst C_NUMBER_RE = '(-?)(\\\\b0[xX][a-fA-F0-9]+|(\\\\b\\\\d+(\\\\.\\\\d*)?|\\\\.\\\\d+)([eE][-+]?\\\\d+)?)'; // 0x..., 0..., decimal, float\nconst BINARY_NUMBER_RE = '\\\\b(0b[01]+)'; // 0b...\nconst RE_STARTERS_RE = '!|!=|!==|%|%=|&|&&|&=|\\\\*|\\\\*=|\\\\+|\\\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\\\?|\\\\[|\\\\{|\\\\(|\\\\^|\\\\^=|\\\\||\\\\|=|\\\\|\\\\||~';\n\n/**\n* @param { Partial<Mode> & {binary?: string | RegExp} } opts\n*/\nconst SHEBANG = (opts = {}) => {\n  const beginShebang = /^#![ ]*\\//;\n  if (opts.binary) {\n    opts.begin = concat(\n      beginShebang,\n      /.*\\b/,\n      opts.binary,\n      /\\b.*/);\n  }\n  return inherit({\n    className: 'meta',\n    begin: beginShebang,\n    end: /$/,\n    relevance: 0,\n    /** @type {ModeCallback} */\n    \"on:begin\": (m, resp) => {\n      if (m.index !== 0) resp.ignoreMatch();\n    }\n  }, opts);\n};\n\n// Common modes\nconst BACKSLASH_ESCAPE = {\n  begin: '\\\\\\\\[\\\\s\\\\S]', relevance: 0\n};\nconst APOS_STRING_MODE = {\n  className: 'string',\n  begin: '\\'',\n  end: '\\'',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst QUOTE_STRING_MODE = {\n  className: 'string',\n  begin: '\"',\n  end: '\"',\n  illegal: '\\\\n',\n  contains: [BACKSLASH_ESCAPE]\n};\nconst PHRASAL_WORDS_MODE = {\n  begin: /\\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\\b/\n};\n/**\n * Creates a comment mode\n *\n * @param {string | RegExp} begin\n * @param {string | RegExp} end\n * @param {Mode | {}} [modeOptions]\n * @returns {Partial<Mode>}\n */\nconst COMMENT = function(begin, end, modeOptions = {}) {\n  var mode = inherit(\n    {\n      className: 'comment',\n      begin,\n      end,\n      contains: []\n    },\n    modeOptions\n  );\n  mode.contains.push(PHRASAL_WORDS_MODE);\n  mode.contains.push({\n    className: 'doctag',\n    begin: '(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):',\n    relevance: 0\n  });\n  return mode;\n};\nconst C_LINE_COMMENT_MODE = COMMENT('//', '$');\nconst C_BLOCK_COMMENT_MODE = COMMENT('/\\\\*', '\\\\*/');\nconst HASH_COMMENT_MODE = COMMENT('#', '$');\nconst NUMBER_MODE = {\n  className: 'number',\n  begin: NUMBER_RE,\n  relevance: 0\n};\nconst C_NUMBER_MODE = {\n  className: 'number',\n  begin: C_NUMBER_RE,\n  relevance: 0\n};\nconst BINARY_NUMBER_MODE = {\n  className: 'number',\n  begin: BINARY_NUMBER_RE,\n  relevance: 0\n};\nconst CSS_NUMBER_MODE = {\n  className: 'number',\n  begin: NUMBER_RE + '(' +\n    '%|em|ex|ch|rem' +\n    '|vw|vh|vmin|vmax' +\n    '|cm|mm|in|pt|pc|px' +\n    '|deg|grad|rad|turn' +\n    '|s|ms' +\n    '|Hz|kHz' +\n    '|dpi|dpcm|dppx' +\n    ')?',\n  relevance: 0\n};\nconst REGEXP_MODE = {\n  // this outer rule makes sure we actually have a WHOLE regex and not simply\n  // an expression such as:\n  //\n  //     3 / something\n  //\n  // (which will then blow up when regex's `illegal` sees the newline)\n  begin: /(?=\\/[^/\\n]*\\/)/,\n  contains: [{\n    className: 'regexp',\n    begin: /\\//,\n    end: /\\/[gimuy]*/,\n    illegal: /\\n/,\n    contains: [\n      BACKSLASH_ESCAPE,\n      {\n        begin: /\\[/,\n        end: /\\]/,\n        relevance: 0,\n        contains: [BACKSLASH_ESCAPE]\n      }\n    ]\n  }]\n};\nconst TITLE_MODE = {\n  className: 'title',\n  begin: IDENT_RE,\n  relevance: 0\n};\nconst UNDERSCORE_TITLE_MODE = {\n  className: 'title',\n  begin: UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\nconst METHOD_GUARD = {\n  // excludes method names from keyword processing\n  begin: '\\\\.\\\\s*' + UNDERSCORE_IDENT_RE,\n  relevance: 0\n};\n\n/**\n * Adds end same as begin mechanics to a mode\n *\n * Your mode must include at least a single () match group as that first match\n * group is what is used for comparison\n * @param {Partial<Mode>} mode\n */\nconst END_SAME_AS_BEGIN = function(mode) {\n  return Object.assign(mode,\n    {\n      /** @type {ModeCallback} */\n      'on:begin': (m, resp) => { resp.data._beginMatch = m[1]; },\n      /** @type {ModeCallback} */\n      'on:end': (m, resp) => { if (resp.data._beginMatch !== m[1]) resp.ignoreMatch(); }\n    });\n};\n\nvar MODES = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  IDENT_RE: IDENT_RE,\n  UNDERSCORE_IDENT_RE: UNDERSCORE_IDENT_RE,\n  NUMBER_RE: NUMBER_RE,\n  C_NUMBER_RE: C_NUMBER_RE,\n  BINARY_NUMBER_RE: BINARY_NUMBER_RE,\n  RE_STARTERS_RE: RE_STARTERS_RE,\n  SHEBANG: SHEBANG,\n  BACKSLASH_ESCAPE: BACKSLASH_ESCAPE,\n  APOS_STRING_MODE: APOS_STRING_MODE,\n  QUOTE_STRING_MODE: QUOTE_STRING_MODE,\n  PHRASAL_WORDS_MODE: PHRASAL_WORDS_MODE,\n  COMMENT: COMMENT,\n  C_LINE_COMMENT_MODE: C_LINE_COMMENT_MODE,\n  C_BLOCK_COMMENT_MODE: C_BLOCK_COMMENT_MODE,\n  HASH_COMMENT_MODE: HASH_COMMENT_MODE,\n  NUMBER_MODE: NUMBER_MODE,\n  C_NUMBER_MODE: C_NUMBER_MODE,\n  BINARY_NUMBER_MODE: BINARY_NUMBER_MODE,\n  CSS_NUMBER_MODE: CSS_NUMBER_MODE,\n  REGEXP_MODE: REGEXP_MODE,\n  TITLE_MODE: TITLE_MODE,\n  UNDERSCORE_TITLE_MODE: UNDERSCORE_TITLE_MODE,\n  METHOD_GUARD: METHOD_GUARD,\n  END_SAME_AS_BEGIN: END_SAME_AS_BEGIN\n});\n\n// keywords that should have no default relevance value\nvar COMMON_KEYWORDS = 'of and for in not or if then'.split(' ');\n\n// compilation\n\n/**\n * Compiles a language definition result\n *\n * Given the raw result of a language definition (Language), compiles this so\n * that it is ready for highlighting code.\n * @param {Language} language\n * @returns {CompiledLanguage}\n */\nfunction compileLanguage(language) {\n  /**\n   * Builds a regex with the case sensativility of the current language\n   *\n   * @param {RegExp | string} value\n   * @param {boolean} [global]\n   */\n  function langRe(value, global) {\n    return new RegExp(\n      source(value),\n      'm' + (language.case_insensitive ? 'i' : '') + (global ? 'g' : '')\n    );\n  }\n\n  /**\n    Stores multiple regular expressions and allows you to quickly search for\n    them all in a string simultaneously - returning the first match.  It does\n    this by creating a huge (a|b|c) regex - each individual item wrapped with ()\n    and joined by `|` - using match groups to track position.  When a match is\n    found checking which position in the array has content allows us to figure\n    out which of the original regexes / match groups triggered the match.\n\n    The match object itself (the result of `Regex.exec`) is returned but also\n    enhanced by merging in any meta-data that was registered with the regex.\n    This is how we keep track of which mode matched, and what type of rule\n    (`illegal`, `begin`, end, etc).\n  */\n  class MultiRegex {\n    constructor() {\n      this.matchIndexes = {};\n      // @ts-ignore\n      this.regexes = [];\n      this.matchAt = 1;\n      this.position = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      opts.position = this.position++;\n      // @ts-ignore\n      this.matchIndexes[this.matchAt] = opts;\n      this.regexes.push([opts, re]);\n      this.matchAt += countMatchGroups(re) + 1;\n    }\n\n    compile() {\n      if (this.regexes.length === 0) {\n        // avoids the need to check length every time exec is called\n        // @ts-ignore\n        this.exec = () => null;\n      }\n      const terminators = this.regexes.map(el => el[1]);\n      this.matcherRe = langRe(join(terminators), true);\n      this.lastIndex = 0;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      this.matcherRe.lastIndex = this.lastIndex;\n      const match = this.matcherRe.exec(s);\n      if (!match) { return null; }\n\n      // eslint-disable-next-line no-undefined\n      const i = match.findIndex((el, i) => i > 0 && el !== undefined);\n      // @ts-ignore\n      const matchData = this.matchIndexes[i];\n      // trim off any earlier non-relevant match groups (ie, the other regex\n      // match groups that make up the multi-matcher)\n      match.splice(0, i);\n\n      return Object.assign(match, matchData);\n    }\n  }\n\n  /*\n    Created to solve the key deficiently with MultiRegex - there is no way to\n    test for multiple matches at a single location.  Why would we need to do\n    that?  In the future a more dynamic engine will allow certain matches to be\n    ignored.  An example: if we matched say the 3rd regex in a large group but\n    decided to ignore it - we'd need to started testing again at the 4th\n    regex... but MultiRegex itself gives us no real way to do that.\n\n    So what this class creates MultiRegexs on the fly for whatever search\n    position they are needed.\n\n    NOTE: These additional MultiRegex objects are created dynamically.  For most\n    grammars most of the time we will never actually need anything more than the\n    first MultiRegex - so this shouldn't have too much overhead.\n\n    Say this is our search group, and we match regex3, but wish to ignore it.\n\n      regex1 | regex2 | regex3 | regex4 | regex5    ' ie, startAt = 0\n\n    What we need is a new MultiRegex that only includes the remaining\n    possibilities:\n\n      regex4 | regex5                               ' ie, startAt = 3\n\n    This class wraps all that complexity up in a simple API... `startAt` decides\n    where in the array of expressions to start doing the matching. It\n    auto-increments, so if a match is found at position 2, then startAt will be\n    set to 3.  If the end is reached startAt will return to 0.\n\n    MOST of the time the parser will be setting startAt manually to 0.\n  */\n  class ResumableMultiRegex {\n    constructor() {\n      // @ts-ignore\n      this.rules = [];\n      // @ts-ignore\n      this.multiRegexes = [];\n      this.count = 0;\n\n      this.lastIndex = 0;\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    getMatcher(index) {\n      if (this.multiRegexes[index]) return this.multiRegexes[index];\n\n      const matcher = new MultiRegex();\n      this.rules.slice(index).forEach(([re, opts]) => matcher.addRule(re, opts));\n      matcher.compile();\n      this.multiRegexes[index] = matcher;\n      return matcher;\n    }\n\n    considerAll() {\n      this.regexIndex = 0;\n    }\n\n    // @ts-ignore\n    addRule(re, opts) {\n      this.rules.push([re, opts]);\n      if (opts.type === \"begin\") this.count++;\n    }\n\n    /** @param {string} s */\n    exec(s) {\n      const m = this.getMatcher(this.regexIndex);\n      m.lastIndex = this.lastIndex;\n      const result = m.exec(s);\n      if (result) {\n        this.regexIndex += result.position + 1;\n        if (this.regexIndex === this.count) { // wrap-around\n          this.regexIndex = 0;\n        }\n      }\n\n      // this.regexIndex = 0;\n      return result;\n    }\n  }\n\n  /**\n   * Given a mode, builds a huge ResumableMultiRegex that can be used to walk\n   * the content and find matches.\n   *\n   * @param {CompiledMode} mode\n   * @returns {ResumableMultiRegex}\n   */\n  function buildModeRegex(mode) {\n    const mm = new ResumableMultiRegex();\n\n    mode.contains.forEach(term => mm.addRule(term.begin, { rule: term, type: \"begin\" }));\n\n    if (mode.terminator_end) {\n      mm.addRule(mode.terminator_end, { type: \"end\" });\n    }\n    if (mode.illegal) {\n      mm.addRule(mode.illegal, { type: \"illegal\" });\n    }\n\n    return mm;\n  }\n\n  // TODO: We need negative look-behind support to do this properly\n  /**\n   * Skip a match if it has a preceding or trailing dot\n   *\n   * This is used for `beginKeywords` to prevent matching expressions such as\n   * `bob.keyword.do()`. The mode compiler automatically wires this up as a\n   * special _internal_ 'on:begin' callback for modes with `beginKeywords`\n   * @param {RegExpMatchArray} match\n   * @param {CallbackResponse} response\n   */\n  function skipIfhasPrecedingOrTrailingDot(match, response) {\n    const before = match.input[match.index - 1];\n    const after = match.input[match.index + match[0].length];\n    if (before === \".\" || after === \".\") {\n      response.ignoreMatch();\n    }\n  }\n\n  /** skip vs abort vs ignore\n   *\n   * @skip   - The mode is still entered and exited normally (and contains rules apply),\n   *           but all content is held and added to the parent buffer rather than being\n   *           output when the mode ends.  Mostly used with `sublanguage` to build up\n   *           a single large buffer than can be parsed by sublanguage.\n   *\n   *             - The mode begin ands ends normally.\n   *             - Content matched is added to the parent mode buffer.\n   *             - The parser cursor is moved forward normally.\n   *\n   * @abort  - A hack placeholder until we have ignore.  Aborts the mode (as if it\n   *           never matched) but DOES NOT continue to match subsequent `contains`\n   *           modes.  Abort is bad/suboptimal because it can result in modes\n   *           farther down not getting applied because an earlier rule eats the\n   *           content but then aborts.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is added to the mode buffer.\n   *             - The parser cursor is moved forward accordingly.\n   *\n   * @ignore - Ignores the mode (as if it never matched) and continues to match any\n   *           subsequent `contains` modes.  Ignore isn't technically possible with\n   *           the current parser implementation.\n   *\n   *             - The mode does not begin.\n   *             - Content matched by `begin` is ignored.\n   *             - The parser cursor is not moved forward.\n   */\n\n  /**\n   * Compiles an individual mode\n   *\n   * This can raise an error if the mode contains certain detectable known logic\n   * issues.\n   * @param {Mode} mode\n   * @param {CompiledMode | null} [parent]\n   * @returns {CompiledMode | never}\n   */\n  function compileMode(mode, parent) {\n    const cmode = /** @type CompiledMode */ (mode);\n    if (mode.compiled) return cmode;\n    mode.compiled = true;\n\n    // __beforeBegin is considered private API, internal use only\n    mode.__beforeBegin = null;\n\n    mode.keywords = mode.keywords || mode.beginKeywords;\n\n    let kw_pattern = null;\n    if (typeof mode.keywords === \"object\") {\n      kw_pattern = mode.keywords.$pattern;\n      delete mode.keywords.$pattern;\n    }\n\n    if (mode.keywords) {\n      mode.keywords = compileKeywords(mode.keywords, language.case_insensitive);\n    }\n\n    // both are not allowed\n    if (mode.lexemes && kw_pattern) {\n      throw new Error(\"ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) \");\n    }\n\n    // `mode.lexemes` was the old standard before we added and now recommend\n    // using `keywords.$pattern` to pass the keyword pattern\n    cmode.keywordPatternRe = langRe(mode.lexemes || kw_pattern || /\\w+/, true);\n\n    if (parent) {\n      if (mode.beginKeywords) {\n        // for languages with keywords that include non-word characters checking for\n        // a word boundary is not sufficient, so instead we check for a word boundary\n        // or whitespace - this does no harm in any case since our keyword engine\n        // doesn't allow spaces in keywords anyways and we still check for the boundary\n        // first\n        mode.begin = '\\\\b(' + mode.beginKeywords.split(' ').join('|') + ')(?=\\\\b|\\\\s)';\n        mode.__beforeBegin = skipIfhasPrecedingOrTrailingDot;\n      }\n      if (!mode.begin) mode.begin = /\\B|\\b/;\n      cmode.beginRe = langRe(mode.begin);\n      if (mode.endSameAsBegin) mode.end = mode.begin;\n      if (!mode.end && !mode.endsWithParent) mode.end = /\\B|\\b/;\n      if (mode.end) cmode.endRe = langRe(mode.end);\n      cmode.terminator_end = source(mode.end) || '';\n      if (mode.endsWithParent && parent.terminator_end) {\n        cmode.terminator_end += (mode.end ? '|' : '') + parent.terminator_end;\n      }\n    }\n    if (mode.illegal) cmode.illegalRe = langRe(mode.illegal);\n    // eslint-disable-next-line no-undefined\n    if (mode.relevance === undefined) mode.relevance = 1;\n    if (!mode.contains) mode.contains = [];\n\n    mode.contains = [].concat(...mode.contains.map(function(c) {\n      return expand_or_clone_mode(c === 'self' ? mode : c);\n    }));\n    mode.contains.forEach(function(c) { compileMode(/** @type Mode */ (c), cmode); });\n\n    if (mode.starts) {\n      compileMode(mode.starts, parent);\n    }\n\n    cmode.matcher = buildModeRegex(cmode);\n    return cmode;\n  }\n\n  // self is not valid at the top-level\n  if (language.contains && language.contains.includes('self')) {\n    throw new Error(\"ERR: contains `self` is not supported at the top-level of a language.  See documentation.\");\n  }\n  return compileMode(/** @type Mode */ (language));\n}\n\n/**\n * Determines if a mode has a dependency on it's parent or not\n *\n * If a mode does have a parent dependency then often we need to clone it if\n * it's used in multiple places so that each copy points to the correct parent,\n * where-as modes without a parent can often safely be re-used at the bottom of\n * a mode chain.\n *\n * @param {Mode | null} mode\n * @returns {boolean} - is there a dependency on the parent?\n * */\nfunction dependencyOnParent(mode) {\n  if (!mode) return false;\n\n  return mode.endsWithParent || dependencyOnParent(mode.starts);\n}\n\n/**\n * Expands a mode or clones it if necessary\n *\n * This is necessary for modes with parental dependenceis (see notes on\n * `dependencyOnParent`) and for nodes that have `variants` - which must then be\n * exploded into their own individual modes at compile time.\n *\n * @param {Mode} mode\n * @returns {Mode | Mode[]}\n * */\nfunction expand_or_clone_mode(mode) {\n  if (mode.variants && !mode.cached_variants) {\n    mode.cached_variants = mode.variants.map(function(variant) {\n      return inherit(mode, { variants: null }, variant);\n    });\n  }\n\n  // EXPAND\n  // if we have variants then essentially \"replace\" the mode with the variants\n  // this happens in compileMode, where this function is called from\n  if (mode.cached_variants) {\n    return mode.cached_variants;\n  }\n\n  // CLONE\n  // if we have dependencies on parents then we need a unique\n  // instance of ourselves, so we can be reused with many\n  // different parents without issue\n  if (dependencyOnParent(mode)) {\n    return inherit(mode, { starts: mode.starts ? inherit(mode.starts) : null });\n  }\n\n  if (Object.isFrozen(mode)) {\n    return inherit(mode);\n  }\n\n  // no special dependency issues, just return ourselves\n  return mode;\n}\n\n/***********************************************\n  Keywords\n***********************************************/\n\n/**\n * Given raw keywords from a language definition, compile them.\n *\n * @param {string | Record<string,string>} rawKeywords\n * @param {boolean} case_insensitive\n */\nfunction compileKeywords(rawKeywords, case_insensitive) {\n  /** @type KeywordDict */\n  var compiled_keywords = {};\n\n  if (typeof rawKeywords === 'string') { // string\n    splitAndCompile('keyword', rawKeywords);\n  } else {\n    Object.keys(rawKeywords).forEach(function(className) {\n      splitAndCompile(className, rawKeywords[className]);\n    });\n  }\n  return compiled_keywords;\n\n  // ---\n\n  /**\n   * Compiles an individual list of keywords\n   *\n   * Ex: \"for if when while|5\"\n   *\n   * @param {string} className\n   * @param {string} keywordList\n   */\n  function splitAndCompile(className, keywordList) {\n    if (case_insensitive) {\n      keywordList = keywordList.toLowerCase();\n    }\n    keywordList.split(' ').forEach(function(keyword) {\n      var pair = keyword.split('|');\n      compiled_keywords[pair[0]] = [className, scoreForKeyword(pair[0], pair[1])];\n    });\n  }\n}\n\n/**\n * Returns the proper score for a given keyword\n *\n * Also takes into account comment keywords, which will be scored 0 UNLESS\n * another score has been manually assigned.\n * @param {string} keyword\n * @param {string} [providedScore]\n */\nfunction scoreForKeyword(keyword, providedScore) {\n  // manual scores always win over common keywords\n  // so you can force a score of 1 if you really insist\n  if (providedScore) {\n    return Number(providedScore);\n  }\n\n  return commonKeyword(keyword) ? 0 : 1;\n}\n\n/**\n * Determines if a given keyword is common or not\n *\n * @param {string} keyword */\nfunction commonKeyword(keyword) {\n  return COMMON_KEYWORDS.includes(keyword.toLowerCase());\n}\n\nvar version = \"10.1.2\";\n\n/*\nSyntax highlighting with language autodetection.\nhttps://highlightjs.org/\n*/\n\nconst escape$1 = escapeHTML;\nconst inherit$1 = inherit;\n\nconst { nodeStream: nodeStream$1, mergeStreams: mergeStreams$1 } = utils;\nconst NO_MATCH = Symbol(\"nomatch\");\n\n/**\n * @param {any} hljs - object that is extended (legacy)\n * @returns {HLJSApi}\n */\nconst HLJS = function(hljs) {\n  // Convenience variables for build-in objects\n  /** @type {unknown[]} */\n  var ArrayProto = [];\n\n  // Global internal variables used within the highlight.js library.\n  /** @type {Record<string, Language>} */\n  var languages = Object.create(null);\n  /** @type {Record<string, string>} */\n  var aliases = Object.create(null);\n  /** @type {HLJSPlugin[]} */\n  var plugins = [];\n\n  // safe/production mode - swallows more errors, tries to keep running\n  // even if a single syntax or parse hits a fatal error\n  var SAFE_MODE = true;\n  var fixMarkupRe = /(^(<[^>]+>|\\t|)+|\\n)/gm;\n  var LANGUAGE_NOT_FOUND = \"Could not find the language '{}', did you forget to load/include a language module?\";\n  /** @type {Language} */\n  const PLAINTEXT_LANGUAGE = { disableAutodetect: true, name: 'Plain text', contains: [] };\n\n  // Global options used when within external APIs. This is modified when\n  // calling the `hljs.configure` function.\n  /** @type HLJSOptions */\n  var options = {\n    noHighlightRe: /^(no-?highlight)$/i,\n    languageDetectRe: /\\blang(?:uage)?-([\\w-]+)\\b/i,\n    classPrefix: 'hljs-',\n    tabReplace: null,\n    useBR: false,\n    languages: null,\n    // beta configuration options, subject to change, welcome to discuss\n    // https://github.com/highlightjs/highlight.js/issues/1086\n    __emitter: TokenTreeEmitter\n  };\n\n  /* Utility functions */\n\n  /**\n   * Tests a language name to see if highlighting should be skipped\n   * @param {string} languageName\n   */\n  function shouldNotHighlight(languageName) {\n    return options.noHighlightRe.test(languageName);\n  }\n\n  /**\n   * @param {HighlightedHTMLElement} block - the HTML element to determine language for\n   */\n  function blockLanguage(block) {\n    var classes = block.className + ' ';\n\n    classes += block.parentNode ? block.parentNode.className : '';\n\n    // language-* takes precedence over non-prefixed class names.\n    const match = options.languageDetectRe.exec(classes);\n    if (match) {\n      var language = getLanguage(match[1]);\n      if (!language) {\n        console.warn(LANGUAGE_NOT_FOUND.replace(\"{}\", match[1]));\n        console.warn(\"Falling back to no-highlight mode for this block.\", block);\n      }\n      return language ? match[1] : 'no-highlight';\n    }\n\n    return classes\n      .split(/\\s+/)\n      .find((_class) => shouldNotHighlight(_class) || getLanguage(_class));\n  }\n\n  /**\n   * Core highlighting function.\n   *\n   * @param {string} languageName - the language to use for highlighting\n   * @param {string} code - the code to highlight\n   * @param {boolean} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   * @param {Mode} [continuation] - current continuation mode, if any\n   *\n   * @returns {HighlightResult} Result - an object that represents the result\n   * @property {string} language - the language name\n   * @property {number} relevance - the relevance score\n   * @property {string} value - the highlighted HTML code\n   * @property {string} code - the original raw code\n   * @property {Mode} top - top of the current mode stack\n   * @property {boolean} illegal - indicates whether any illegal matches were found\n  */\n  function highlight(languageName, code, ignoreIllegals, continuation) {\n    /** @type {{ code: string, language: string, result?: any }} */\n    var context = {\n      code,\n      language: languageName\n    };\n    // the plugin can change the desired language or the code to be highlighted\n    // just be changing the object it was passed\n    fire(\"before:highlight\", context);\n\n    // a before plugin can usurp the result completely by providing it's own\n    // in which case we don't even need to call highlight\n    var result = context.result ?\n      context.result :\n      _highlight(context.language, context.code, ignoreIllegals, continuation);\n\n    result.code = context.code;\n    // the plugin can change anything in result to suite it\n    fire(\"after:highlight\", result);\n\n    return result;\n  }\n\n  /**\n   * private highlight that's used internally and does not fire callbacks\n   *\n   * @param {string} languageName - the language to use for highlighting\n   * @param {string} code - the code to highlight\n   * @param {boolean} [ignoreIllegals] - whether to ignore illegal matches, default is to bail\n   * @param {Mode} [continuation] - current continuation mode, if any\n  */\n  function _highlight(languageName, code, ignoreIllegals, continuation) {\n    var codeToHighlight = code;\n\n    /**\n     * Return keyword data if a match is a keyword\n     * @param {CompiledMode} mode - current mode\n     * @param {RegExpMatchArray} match - regexp match data\n     * @returns {KeywordData | false}\n     */\n    function keywordData(mode, match) {\n      var matchText = language.case_insensitive ? match[0].toLowerCase() : match[0];\n      return Object.prototype.hasOwnProperty.call(mode.keywords, matchText) && mode.keywords[matchText];\n    }\n\n    function processKeywords() {\n      if (!top.keywords) {\n        emitter.addText(mode_buffer);\n        return;\n      }\n\n      let last_index = 0;\n      top.keywordPatternRe.lastIndex = 0;\n      let match = top.keywordPatternRe.exec(mode_buffer);\n      let buf = \"\";\n\n      while (match) {\n        buf += mode_buffer.substring(last_index, match.index);\n        const data = keywordData(top, match);\n        if (data) {\n          const [kind, keywordRelevance] = data;\n          emitter.addText(buf);\n          buf = \"\";\n\n          relevance += keywordRelevance;\n          emitter.addKeyword(match[0], kind);\n        } else {\n          buf += match[0];\n        }\n        last_index = top.keywordPatternRe.lastIndex;\n        match = top.keywordPatternRe.exec(mode_buffer);\n      }\n      buf += mode_buffer.substr(last_index);\n      emitter.addText(buf);\n    }\n\n    function processSubLanguage() {\n      if (mode_buffer === \"\") return;\n      /** @type HighlightResult */\n      var result = null;\n\n      if (typeof top.subLanguage === 'string') {\n        if (!languages[top.subLanguage]) {\n          emitter.addText(mode_buffer);\n          return;\n        }\n        result = _highlight(top.subLanguage, mode_buffer, true, continuations[top.subLanguage]);\n        continuations[top.subLanguage] = result.top;\n      } else {\n        result = highlightAuto(mode_buffer, top.subLanguage.length ? top.subLanguage : null);\n      }\n\n      // Counting embedded language score towards the host language may be disabled\n      // with zeroing the containing mode relevance. Use case in point is Markdown that\n      // allows XML everywhere and makes every XML snippet to have a much larger Markdown\n      // score.\n      if (top.relevance > 0) {\n        relevance += result.relevance;\n      }\n      emitter.addSublanguage(result.emitter, result.language);\n    }\n\n    function processBuffer() {\n      if (top.subLanguage != null) {\n        processSubLanguage();\n      } else {\n        processKeywords();\n      }\n      mode_buffer = '';\n    }\n\n    /**\n     * @param {Mode} mode - new mode to start\n     */\n    function startNewMode(mode) {\n      if (mode.className) {\n        emitter.openNode(mode.className);\n      }\n      top = Object.create(mode, { parent: { value: top } });\n      return top;\n    }\n\n    /**\n     * @param {CompiledMode } mode - the mode to potentially end\n     * @param {RegExpMatchArray} match - the latest match\n     * @param {string} matchPlusRemainder - match plus remainder of content\n     * @returns {CompiledMode | void} - the next mode, or if void continue on in current mode\n     */\n    function endOfMode(mode, match, matchPlusRemainder) {\n      let matched = startsWith(mode.endRe, matchPlusRemainder);\n\n      if (matched) {\n        if (mode[\"on:end\"]) {\n          const resp = new Response(mode);\n          mode[\"on:end\"](match, resp);\n          if (resp.ignore) matched = false;\n        }\n\n        if (matched) {\n          while (mode.endsParent && mode.parent) {\n            mode = mode.parent;\n          }\n          return mode;\n        }\n      }\n      // even if on:end fires an `ignore` it's still possible\n      // that we might trigger the end node because of a parent mode\n      if (mode.endsWithParent) {\n        return endOfMode(mode.parent, match, matchPlusRemainder);\n      }\n    }\n\n    /**\n     * Handle matching but then ignoring a sequence of text\n     *\n     * @param {string} lexeme - string containing full match text\n     */\n    function doIgnore(lexeme) {\n      if (top.matcher.regexIndex === 0) {\n        // no more regexs to potentially match here, so we move the cursor forward one\n        // space\n        mode_buffer += lexeme[0];\n        return 1;\n      } else {\n        // no need to move the cursor, we still have additional regexes to try and\n        // match at this very spot\n        continueScanAtSamePosition = true;\n        return 0;\n      }\n    }\n\n    /**\n     * Handle the start of a new potential mode match\n     *\n     * @param {EnhancedMatch} match - the current match\n     * @returns {number} how far to advance the parse cursor\n     */\n    function doBeginMatch(match) {\n      var lexeme = match[0];\n      var new_mode = match.rule;\n\n      const resp = new Response(new_mode);\n      // first internal before callbacks, then the public ones\n      const beforeCallbacks = [new_mode.__beforeBegin, new_mode[\"on:begin\"]];\n      for (const cb of beforeCallbacks) {\n        if (!cb) continue;\n        cb(match, resp);\n        if (resp.ignore) return doIgnore(lexeme);\n      }\n\n      if (new_mode && new_mode.endSameAsBegin) {\n        new_mode.endRe = escape(lexeme);\n      }\n\n      if (new_mode.skip) {\n        mode_buffer += lexeme;\n      } else {\n        if (new_mode.excludeBegin) {\n          mode_buffer += lexeme;\n        }\n        processBuffer();\n        if (!new_mode.returnBegin && !new_mode.excludeBegin) {\n          mode_buffer = lexeme;\n        }\n      }\n      startNewMode(new_mode);\n      // if (mode[\"after:begin\"]) {\n      //   let resp = new Response(mode);\n      //   mode[\"after:begin\"](match, resp);\n      // }\n      return new_mode.returnBegin ? 0 : lexeme.length;\n    }\n\n    /**\n     * Handle the potential end of mode\n     *\n     * @param {RegExpMatchArray} match - the current match\n     */\n    function doEndMatch(match) {\n      var lexeme = match[0];\n      var matchPlusRemainder = codeToHighlight.substr(match.index);\n\n      var end_mode = endOfMode(top, match, matchPlusRemainder);\n      if (!end_mode) { return NO_MATCH; }\n\n      var origin = top;\n      if (origin.skip) {\n        mode_buffer += lexeme;\n      } else {\n        if (!(origin.returnEnd || origin.excludeEnd)) {\n          mode_buffer += lexeme;\n        }\n        processBuffer();\n        if (origin.excludeEnd) {\n          mode_buffer = lexeme;\n        }\n      }\n      do {\n        if (top.className) {\n          emitter.closeNode();\n        }\n        if (!top.skip && !top.subLanguage) {\n          relevance += top.relevance;\n        }\n        top = top.parent;\n      } while (top !== end_mode.parent);\n      if (end_mode.starts) {\n        if (end_mode.endSameAsBegin) {\n          end_mode.starts.endRe = end_mode.endRe;\n        }\n        startNewMode(end_mode.starts);\n      }\n      return origin.returnEnd ? 0 : lexeme.length;\n    }\n\n    function processContinuations() {\n      var list = [];\n      for (var current = top; current !== language; current = current.parent) {\n        if (current.className) {\n          list.unshift(current.className);\n        }\n      }\n      list.forEach(item => emitter.openNode(item));\n    }\n\n    /** @type {{type?: MatchType, index?: number, rule?: Mode}}} */\n    var lastMatch = {};\n\n    /**\n     *  Process an individual match\n     *\n     * @param {string} textBeforeMatch - text preceeding the match (since the last match)\n     * @param {EnhancedMatch} [match] - the match itself\n     */\n    function processLexeme(textBeforeMatch, match) {\n      var lexeme = match && match[0];\n\n      // add non-matched text to the current mode buffer\n      mode_buffer += textBeforeMatch;\n\n      if (lexeme == null) {\n        processBuffer();\n        return 0;\n      }\n\n      // we've found a 0 width match and we're stuck, so we need to advance\n      // this happens when we have badly behaved rules that have optional matchers to the degree that\n      // sometimes they can end up matching nothing at all\n      // Ref: https://github.com/highlightjs/highlight.js/issues/2140\n      if (lastMatch.type === \"begin\" && match.type === \"end\" && lastMatch.index === match.index && lexeme === \"\") {\n        // spit the \"skipped\" character that our regex choked on back into the output sequence\n        mode_buffer += codeToHighlight.slice(match.index, match.index + 1);\n        if (!SAFE_MODE) {\n          /** @type {AnnotatedError} */\n          const err = new Error('0 width match regex');\n          err.languageName = languageName;\n          err.badRule = lastMatch.rule;\n          throw err;\n        }\n        return 1;\n      }\n      lastMatch = match;\n\n      if (match.type === \"begin\") {\n        return doBeginMatch(match);\n      } else if (match.type === \"illegal\" && !ignoreIllegals) {\n        // illegal match, we do not continue processing\n        /** @type {AnnotatedError} */\n        const err = new Error('Illegal lexeme \"' + lexeme + '\" for mode \"' + (top.className || '<unnamed>') + '\"');\n        err.mode = top;\n        throw err;\n      } else if (match.type === \"end\") {\n        var processed = doEndMatch(match);\n        if (processed !== NO_MATCH) {\n          return processed;\n        }\n      }\n\n      // edge case for when illegal matches $ (end of line) which is technically\n      // a 0 width match but not a begin/end match so it's not caught by the\n      // first handler (when ignoreIllegals is true)\n      if (match.type === \"illegal\" && lexeme === \"\") {\n        // advance so we aren't stuck in an infinite loop\n        return 1;\n      }\n\n      // infinite loops are BAD, this is a last ditch catch all. if we have a\n      // decent number of iterations yet our index (cursor position in our\n      // parsing) still 3x behind our index then something is very wrong\n      // so we bail\n      if (iterations > 100000 && iterations > match.index * 3) {\n        const err = new Error('potential infinite loop, way more iterations than matches');\n        throw err;\n      }\n\n      /*\n      Why might be find ourselves here?  Only one occasion now.  An end match that was\n      triggered but could not be completed.  When might this happen?  When an `endSameasBegin`\n      rule sets the end rule to a specific match.  Since the overall mode termination rule that's\n      being used to scan the text isn't recompiled that means that any match that LOOKS like\n      the end (but is not, because it is not an exact match to the beginning) will\n      end up here.  A definite end match, but when `doEndMatch` tries to \"reapply\"\n      the end rule and fails to match, we wind up here, and just silently ignore the end.\n\n      This causes no real harm other than stopping a few times too many.\n      */\n\n      mode_buffer += lexeme;\n      return lexeme.length;\n    }\n\n    var language = getLanguage(languageName);\n    if (!language) {\n      console.error(LANGUAGE_NOT_FOUND.replace(\"{}\", languageName));\n      throw new Error('Unknown language: \"' + languageName + '\"');\n    }\n\n    var md = compileLanguage(language);\n    var result = '';\n    /** @type {CompiledMode} */\n    var top = continuation || md;\n    /** @type Record<string,Mode> */\n    var continuations = {}; // keep continuations for sub-languages\n    var emitter = new options.__emitter(options);\n    processContinuations();\n    var mode_buffer = '';\n    var relevance = 0;\n    var index = 0;\n    var iterations = 0;\n    var continueScanAtSamePosition = false;\n\n    try {\n      top.matcher.considerAll();\n\n      for (;;) {\n        iterations++;\n        if (continueScanAtSamePosition) {\n          // only regexes not matched previously will now be\n          // considered for a potential match\n          continueScanAtSamePosition = false;\n        } else {\n          top.matcher.lastIndex = index;\n          top.matcher.considerAll();\n        }\n        const match = top.matcher.exec(codeToHighlight);\n        // console.log(\"match\", match[0], match.rule && match.rule.begin)\n        if (!match) break;\n\n        const beforeMatch = codeToHighlight.substring(index, match.index);\n        const processedCount = processLexeme(beforeMatch, match);\n        index = match.index + processedCount;\n      }\n      processLexeme(codeToHighlight.substr(index));\n      emitter.closeAllNodes();\n      emitter.finalize();\n      result = emitter.toHTML();\n\n      return {\n        relevance: relevance,\n        value: result,\n        language: languageName,\n        illegal: false,\n        emitter: emitter,\n        top: top\n      };\n    } catch (err) {\n      if (err.message && err.message.includes('Illegal')) {\n        return {\n          illegal: true,\n          illegalBy: {\n            msg: err.message,\n            context: codeToHighlight.slice(index - 100, index + 100),\n            mode: err.mode\n          },\n          sofar: result,\n          relevance: 0,\n          value: escape$1(codeToHighlight),\n          emitter: emitter\n        };\n      } else if (SAFE_MODE) {\n        return {\n          illegal: false,\n          relevance: 0,\n          value: escape$1(codeToHighlight),\n          emitter: emitter,\n          language: languageName,\n          top: top,\n          errorRaised: err\n        };\n      } else {\n        throw err;\n      }\n    }\n  }\n\n  /**\n   * returns a valid highlight result, without actually doing any actual work,\n   * auto highlight starts with this and it's possible for small snippets that\n   * auto-detection may not find a better match\n   * @param {string} code\n   * @returns {HighlightResult}\n   */\n  function justTextHighlightResult(code) {\n    const result = {\n      relevance: 0,\n      emitter: new options.__emitter(options),\n      value: escape$1(code),\n      illegal: false,\n      top: PLAINTEXT_LANGUAGE\n    };\n    result.emitter.addText(code);\n    return result;\n  }\n\n  /**\n  Highlighting with language detection. Accepts a string with the code to\n  highlight. Returns an object with the following properties:\n\n  - language (detected language)\n  - relevance (int)\n  - value (an HTML string with highlighting markup)\n  - second_best (object with the same structure for second-best heuristically\n    detected language, may be absent)\n\n    @param {string} code\n    @param {Array<string>} [languageSubset]\n    @returns {AutoHighlightResult}\n  */\n  function highlightAuto(code, languageSubset) {\n    languageSubset = languageSubset || options.languages || Object.keys(languages);\n    var result = justTextHighlightResult(code);\n    var secondBest = result;\n    languageSubset.filter(getLanguage).filter(autoDetection).forEach(function(name) {\n      var current = _highlight(name, code, false);\n      current.language = name;\n      if (current.relevance > secondBest.relevance) {\n        secondBest = current;\n      }\n      if (current.relevance > result.relevance) {\n        secondBest = result;\n        result = current;\n      }\n    });\n    if (secondBest.language) {\n      // second_best (with underscore) is the expected API\n      result.second_best = secondBest;\n    }\n    return result;\n  }\n\n  /**\n  Post-processing of the highlighted markup:\n\n  - replace TABs with something more useful\n  - replace real line-breaks with '<br>' for non-pre containers\n\n    @param {string} html\n    @returns {string}\n  */\n  function fixMarkup(html) {\n    if (!(options.tabReplace || options.useBR)) {\n      return html;\n    }\n\n    return html.replace(fixMarkupRe, match => {\n      if (match === '\\n') {\n        return options.useBR ? '<br>' : match;\n      } else if (options.tabReplace) {\n        return match.replace(/\\t/g, options.tabReplace);\n      }\n      return match;\n    });\n  }\n\n  /**\n   * Builds new class name for block given the language name\n   *\n   * @param {string} prevClassName\n   * @param {string} [currentLang]\n   * @param {string} [resultLang]\n   */\n  function buildClassName(prevClassName, currentLang, resultLang) {\n    var language = currentLang ? aliases[currentLang] : resultLang;\n    var result = [prevClassName.trim()];\n\n    if (!prevClassName.match(/\\bhljs\\b/)) {\n      result.push('hljs');\n    }\n\n    if (!prevClassName.includes(language)) {\n      result.push(language);\n    }\n\n    return result.join(' ').trim();\n  }\n\n  /**\n   * Applies highlighting to a DOM node containing code. Accepts a DOM node and\n   * two optional parameters for fixMarkup.\n   *\n   * @param {HighlightedHTMLElement} element - the HTML element to highlight\n  */\n  function highlightBlock(element) {\n    /** @type HTMLElement */\n    let node = null;\n    const language = blockLanguage(element);\n\n    if (shouldNotHighlight(language)) return;\n\n    fire(\"before:highlightBlock\",\n      { block: element, language: language });\n\n    if (options.useBR) {\n      node = document.createElement('div');\n      node.innerHTML = element.innerHTML.replace(/\\n/g, '').replace(/<br[ /]*>/g, '\\n');\n    } else {\n      node = element;\n    }\n    const text = node.textContent;\n    const result = language ? highlight(language, text, true) : highlightAuto(text);\n\n    const originalStream = nodeStream$1(node);\n    if (originalStream.length) {\n      const resultNode = document.createElement('div');\n      resultNode.innerHTML = result.value;\n      result.value = mergeStreams$1(originalStream, nodeStream$1(resultNode), text);\n    }\n    result.value = fixMarkup(result.value);\n\n    fire(\"after:highlightBlock\", { block: element, result: result });\n\n    element.innerHTML = result.value;\n    element.className = buildClassName(element.className, language, result.language);\n    element.result = {\n      language: result.language,\n      // TODO: remove with version 11.0\n      re: result.relevance,\n      relavance: result.relevance\n    };\n    if (result.second_best) {\n      element.second_best = {\n        language: result.second_best.language,\n        // TODO: remove with version 11.0\n        re: result.second_best.relevance,\n        relavance: result.second_best.relevance\n      };\n    }\n  }\n\n  /**\n   * Updates highlight.js global options with the passed options\n   *\n   * @param {{}} userOptions\n   */\n  function configure(userOptions) {\n    options = inherit$1(options, userOptions);\n  }\n\n  /**\n   * Highlights to all <pre><code> blocks on a page\n   *\n   * @type {Function & {called?: boolean}}\n   */\n  const initHighlighting = () => {\n    if (initHighlighting.called) return;\n    initHighlighting.called = true;\n\n    var blocks = document.querySelectorAll('pre code');\n    ArrayProto.forEach.call(blocks, highlightBlock);\n  };\n\n  // Higlights all when DOMContentLoaded fires\n  function initHighlightingOnLoad() {\n    // @ts-ignore\n    window.addEventListener('DOMContentLoaded', initHighlighting, false);\n  }\n\n  /**\n   * Register a language grammar module\n   *\n   * @param {string} languageName\n   * @param {LanguageFn} languageDefinition\n   */\n  function registerLanguage(languageName, languageDefinition) {\n    var lang = null;\n    try {\n      lang = languageDefinition(hljs);\n    } catch (error) {\n      console.error(\"Language definition for '{}' could not be registered.\".replace(\"{}\", languageName));\n      // hard or soft error\n      if (!SAFE_MODE) { throw error; } else { console.error(error); }\n      // languages that have serious errors are replaced with essentially a\n      // \"plaintext\" stand-in so that the code blocks will still get normal\n      // css classes applied to them - and one bad language won't break the\n      // entire highlighter\n      lang = PLAINTEXT_LANGUAGE;\n    }\n    // give it a temporary name if it doesn't have one in the meta-data\n    if (!lang.name) lang.name = languageName;\n    languages[languageName] = lang;\n    lang.rawDefinition = languageDefinition.bind(null, hljs);\n\n    if (lang.aliases) {\n      registerAliases(lang.aliases, { languageName });\n    }\n  }\n\n  /**\n   * @returns {string[]} List of language internal names\n   */\n  function listLanguages() {\n    return Object.keys(languages);\n  }\n\n  /**\n    intended usage: When one language truly requires another\n\n    Unlike `getLanguage`, this will throw when the requested language\n    is not available.\n\n    @param {string} name - name of the language to fetch/require\n    @returns {Language | never}\n  */\n  function requireLanguage(name) {\n    var lang = getLanguage(name);\n    if (lang) { return lang; }\n\n    var err = new Error('The \\'{}\\' language is required, but not loaded.'.replace('{}', name));\n    throw err;\n  }\n\n  /**\n   * @param {string} name - name of the language to retrieve\n   * @returns {Language | undefined}\n   */\n  function getLanguage(name) {\n    name = (name || '').toLowerCase();\n    return languages[name] || languages[aliases[name]];\n  }\n\n  /**\n   *\n   * @param {string|string[]} aliasList - single alias or list of aliases\n   * @param {{languageName: string}} opts\n   */\n  function registerAliases(aliasList, { languageName }) {\n    if (typeof aliasList === 'string') {\n      aliasList = [aliasList];\n    }\n    aliasList.forEach(alias => { aliases[alias] = languageName; });\n  }\n\n  /**\n   * Determines if a given language has auto-detection enabled\n   * @param {string} name - name of the language\n   */\n  function autoDetection(name) {\n    var lang = getLanguage(name);\n    return lang && !lang.disableAutodetect;\n  }\n\n  /**\n   * @param {HLJSPlugin} plugin\n   */\n  function addPlugin(plugin) {\n    plugins.push(plugin);\n  }\n\n  /**\n   *\n   * @param {PluginEvent} event\n   * @param {any} args\n   */\n  function fire(event, args) {\n    var cb = event;\n    plugins.forEach(function(plugin) {\n      if (plugin[cb]) {\n        plugin[cb](args);\n      }\n    });\n  }\n\n  /* Interface definition */\n\n  Object.assign(hljs, {\n    highlight,\n    highlightAuto,\n    fixMarkup,\n    highlightBlock,\n    configure,\n    initHighlighting,\n    initHighlightingOnLoad,\n    registerLanguage,\n    listLanguages,\n    getLanguage,\n    registerAliases,\n    requireLanguage,\n    autoDetection,\n    inherit: inherit$1,\n    addPlugin\n  });\n\n  hljs.debugMode = function() { SAFE_MODE = false; };\n  hljs.safeMode = function() { SAFE_MODE = true; };\n  hljs.versionString = version;\n\n  for (const key in MODES) {\n    // @ts-ignore\n    if (typeof MODES[key] === \"object\") {\n      // @ts-ignore\n      deepFreeze(MODES[key]);\n    }\n  }\n\n  // merge all the modes/regexs into our main object\n  Object.assign(hljs, MODES);\n\n  return hljs;\n};\n\n// export an \"instance\" of the highlighter\nvar highlight = HLJS({});\n\nmodule.exports = highlight;\n","/*\nLanguage: C-like foundation grammar for C/C++ grammars\nAuthor: Ivan Sagalaev <maniac@softwaremaniacs.org>\nContributors: Evgeny Stepanischev <imbolk@gmail.com>, Zaven Muradyan <megalivoithos@gmail.com>, Roel Deckers <admin@codingcat.nl>, Sam Wu <samsam2310@gmail.com>, Jordi Petit <jordi.petit@gmail.com>, Pieter Vantorre <pietervantorre@gmail.com>, Google Inc. (David Benjamin) <davidben@google.com>\nCategory: common, system\n*/\n\n/* In the future the intention is to split out the C/C++ grammars distinctly\nsince they are separate languages.  They will likely share a common foundation\nthough, and this file sets the groundwork for that - so that we get the breaking\nchange in v10 and don't have to change the requirements again later.\n\nSee: https://github.com/highlightjs/highlight.js/issues/2146\n*/\n\n/** @type LanguageFn */\nfunction cLike(hljs) {\n  function optional(s) {\n    return '(?:' + s + ')?';\n  }\n  var DECLTYPE_AUTO_RE = 'decltype\\\\(auto\\\\)';\n  var NAMESPACE_RE = '[a-zA-Z_]\\\\w*::';\n  var TEMPLATE_ARGUMENT_RE = '<.*?>';\n  var FUNCTION_TYPE_RE = '(' +\n    DECLTYPE_AUTO_RE + '|' +\n    optional(NAMESPACE_RE) +'[a-zA-Z_]\\\\w*' + optional(TEMPLATE_ARGUMENT_RE) +\n  ')';\n  var CPP_PRIMITIVE_TYPES = {\n    className: 'keyword',\n    begin: '\\\\b[a-z\\\\d_]*_t\\\\b'\n  };\n\n  // https://en.cppreference.com/w/cpp/language/escape\n  // \\\\ \\x \\xFF \\u2837 \\u00323747 \\374\n  var CHARACTER_ESCAPES = '\\\\\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\\\S)';\n  var STRINGS = {\n    className: 'string',\n    variants: [\n      {\n        begin: '(u8?|U|L)?\"', end: '\"',\n        illegal: '\\\\n',\n        contains: [hljs.BACKSLASH_ESCAPE]\n      },\n      {\n        begin: '(u8?|U|L)?\\'(' + CHARACTER_ESCAPES + \"|.)\", end: '\\'',\n        illegal: '.'\n      },\n      hljs.END_SAME_AS_BEGIN({\n        begin: /(?:u8?|U|L)?R\"([^()\\\\ ]{0,16})\\(/,\n        end: /\\)([^()\\\\ ]{0,16})\"/,\n      })\n    ]\n  };\n\n  var NUMBERS = {\n    className: 'number',\n    variants: [\n      { begin: '\\\\b(0b[01\\']+)' },\n      { begin: '(-?)\\\\b([\\\\d\\']+(\\\\.[\\\\d\\']*)?|\\\\.[\\\\d\\']+)(u|U|l|L|ul|UL|f|F|b|B)' },\n      { begin: '(-?)(\\\\b0[xX][a-fA-F0-9\\']+|(\\\\b[\\\\d\\']+(\\\\.[\\\\d\\']*)?|\\\\.[\\\\d\\']+)([eE][-+]?[\\\\d\\']+)?)' }\n    ],\n    relevance: 0\n  };\n\n  var PREPROCESSOR =       {\n    className: 'meta',\n    begin: /#\\s*[a-z]+\\b/, end: /$/,\n    keywords: {\n      'meta-keyword':\n        'if else elif endif define undef warning error line ' +\n        'pragma _Pragma ifdef ifndef include'\n    },\n    contains: [\n      {\n        begin: /\\\\\\n/, relevance: 0\n      },\n      hljs.inherit(STRINGS, {className: 'meta-string'}),\n      {\n        className: 'meta-string',\n        begin: /<.*?>/, end: /$/,\n        illegal: '\\\\n',\n      },\n      hljs.C_LINE_COMMENT_MODE,\n      hljs.C_BLOCK_COMMENT_MODE\n    ]\n  };\n\n  var TITLE_MODE = {\n    className: 'title',\n    begin: optional(NAMESPACE_RE) + hljs.IDENT_RE,\n    relevance: 0\n  };\n\n  var FUNCTION_TITLE = optional(NAMESPACE_RE) + hljs.IDENT_RE + '\\\\s*\\\\(';\n\n  var CPP_KEYWORDS = {\n    keyword: 'int float while private char char8_t char16_t char32_t catch import module export virtual operator sizeof ' +\n      'dynamic_cast|10 typedef const_cast|10 const for static_cast|10 union namespace ' +\n      'unsigned long volatile static protected bool template mutable if public friend ' +\n      'do goto auto void enum else break extern using asm case typeid wchar_t ' +\n      'short reinterpret_cast|10 default double register explicit signed typename try this ' +\n      'switch continue inline delete alignas alignof constexpr consteval constinit decltype ' +\n      'concept co_await co_return co_yield requires ' +\n      'noexcept static_assert thread_local restrict final override ' +\n      'atomic_bool atomic_char atomic_schar ' +\n      'atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong ' +\n      'atomic_ullong new throw return ' +\n      'and and_eq bitand bitor compl not not_eq or or_eq xor xor_eq',\n    built_in: 'std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream ' +\n      'auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set ' +\n      'unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos ' +\n      'asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp ' +\n      'fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper ' +\n      'isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow ' +\n      'printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp ' +\n      'strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan ' +\n      'vfprintf vprintf vsprintf endl initializer_list unique_ptr _Bool complex _Complex imaginary _Imaginary',\n    literal: 'true false nullptr NULL'\n  };\n\n  var EXPRESSION_CONTAINS = [\n    CPP_PRIMITIVE_TYPES,\n    hljs.C_LINE_COMMENT_MODE,\n    hljs.C_BLOCK_COMMENT_MODE,\n    NUMBERS,\n    STRINGS\n  ];\n\n  var EXPRESSION_CONTEXT = {\n    // This mode covers expression context where we can't expect a function\n    // definition and shouldn't highlight anything that looks like one:\n    // `return some()`, `else if()`, `(x*sum(1, 2))`\n    variants: [\n      {begin: /=/, end: /;/},\n      {begin: /\\(/, end: /\\)/},\n      {beginKeywords: 'new throw return else', end: /;/}\n    ],\n    keywords: CPP_KEYWORDS,\n    contains: EXPRESSION_CONTAINS.concat([\n      {\n        begin: /\\(/, end: /\\)/,\n        keywords: CPP_KEYWORDS,\n        contains: EXPRESSION_CONTAINS.concat(['self']),\n        relevance: 0\n      }\n    ]),\n    relevance: 0\n  };\n\n  var FUNCTION_DECLARATION = {\n    className: 'function',\n    begin: '(' + FUNCTION_TYPE_RE + '[\\\\*&\\\\s]+)+' + FUNCTION_TITLE,\n    returnBegin: true, end: /[{;=]/,\n    excludeEnd: true,\n    keywords: CPP_KEYWORDS,\n    illegal: /[^\\w\\s\\*&:<>]/,\n    contains: [\n\n      { // to prevent it from being confused as the function title\n        begin: DECLTYPE_AUTO_RE,\n        keywords: CPP_KEYWORDS,\n        relevance: 0,\n      },\n      {\n        begin: FUNCTION_TITLE, returnBegin: true,\n        contains: [TITLE_MODE],\n        relevance: 0\n      },\n      {\n        className: 'params',\n        begin: /\\(/, end: /\\)/,\n        keywords: CPP_KEYWORDS,\n        relevance: 0,\n        contains: [\n          hljs.C_LINE_COMMENT_MODE,\n          hljs.C_BLOCK_COMMENT_MODE,\n          STRINGS,\n          NUMBERS,\n          CPP_PRIMITIVE_TYPES,\n          // Count matching parentheses.\n          {\n            begin: /\\(/, end: /\\)/,\n            keywords: CPP_KEYWORDS,\n            relevance: 0,\n            contains: [\n              'self',\n              hljs.C_LINE_COMMENT_MODE,\n              hljs.C_BLOCK_COMMENT_MODE,\n              STRINGS,\n              NUMBERS,\n              CPP_PRIMITIVE_TYPES\n            ]\n          }\n        ]\n      },\n      CPP_PRIMITIVE_TYPES,\n      hljs.C_LINE_COMMENT_MODE,\n      hljs.C_BLOCK_COMMENT_MODE,\n      PREPROCESSOR\n    ]\n  };\n\n  return {\n    aliases: ['c', 'cc', 'h', 'c++', 'h++', 'hpp', 'hh', 'hxx', 'cxx'],\n    keywords: CPP_KEYWORDS,\n    // the base c-like language will NEVER be auto-detected, rather the\n    // derivitives: c, c++, arduino turn auto-detect back on for themselves\n    disableAutodetect: true,\n    illegal: '</',\n    contains: [].concat(\n      EXPRESSION_CONTEXT,\n      FUNCTION_DECLARATION,\n      EXPRESSION_CONTAINS,\n      [\n      PREPROCESSOR,\n      { // containers: ie, `vector <int> rooms (9);`\n        begin: '\\\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\\\s*<', end: '>',\n        keywords: CPP_KEYWORDS,\n        contains: ['self', CPP_PRIMITIVE_TYPES]\n      },\n      {\n        begin: hljs.IDENT_RE + '::',\n        keywords: CPP_KEYWORDS\n      },\n      {\n        className: 'class',\n        beginKeywords: 'class struct', end: /[{;:]/,\n        contains: [\n          {begin: /</, end: />/, contains: ['self']}, // skip generic stuff\n          hljs.TITLE_MODE\n        ]\n      }\n    ]),\n    exports: {\n      preprocessor: PREPROCESSOR,\n      strings: STRINGS,\n      keywords: CPP_KEYWORDS\n    }\n  };\n}\n\nmodule.exports = cLike;\n","/*\nLanguage: C++\nCategory: common, system\nWebsite: https://isocpp.org\nRequires: c-like.js\n*/\n\n/** @type LanguageFn */\nfunction cpp(hljs) {\n  var lang = hljs.getLanguage('c-like').rawDefinition();\n  // return auto-detection back on\n  lang.disableAutodetect = false;\n  lang.name = 'C++';\n  lang.aliases = ['cc', 'c++', 'h++', 'hpp', 'hh', 'hxx', 'cxx'];\n  return lang;\n}\n\nmodule.exports = cpp;\n","const IDENT_RE = '[A-Za-z$_][0-9A-Za-z$_]*';\nconst KEYWORDS = [\n  \"as\", // for exports\n  \"in\",\n  \"of\",\n  \"if\",\n  \"for\",\n  \"while\",\n  \"finally\",\n  \"var\",\n  \"new\",\n  \"function\",\n  \"do\",\n  \"return\",\n  \"void\",\n  \"else\",\n  \"break\",\n  \"catch\",\n  \"instanceof\",\n  \"with\",\n  \"throw\",\n  \"case\",\n  \"default\",\n  \"try\",\n  \"switch\",\n  \"continue\",\n  \"typeof\",\n  \"delete\",\n  \"let\",\n  \"yield\",\n  \"const\",\n  \"class\",\n  // JS handles these with a special rule\n  // \"get\",\n  // \"set\",\n  \"debugger\",\n  \"async\",\n  \"await\",\n  \"static\",\n  \"import\",\n  \"from\",\n  \"export\",\n  \"extends\"\n];\nconst LITERALS = [\n  \"true\",\n  \"false\",\n  \"null\",\n  \"undefined\",\n  \"NaN\",\n  \"Infinity\"\n];\n\nconst TYPES = [\n  \"Intl\",\n  \"DataView\",\n  \"Number\",\n  \"Math\",\n  \"Date\",\n  \"String\",\n  \"RegExp\",\n  \"Object\",\n  \"Function\",\n  \"Boolean\",\n  \"Error\",\n  \"Symbol\",\n  \"Set\",\n  \"Map\",\n  \"WeakSet\",\n  \"WeakMap\",\n  \"Proxy\",\n  \"Reflect\",\n  \"JSON\",\n  \"Promise\",\n  \"Float64Array\",\n  \"Int16Array\",\n  \"Int32Array\",\n  \"Int8Array\",\n  \"Uint16Array\",\n  \"Uint32Array\",\n  \"Float32Array\",\n  \"Array\",\n  \"Uint8Array\",\n  \"Uint8ClampedArray\",\n  \"ArrayBuffer\"\n];\n\nconst ERROR_TYPES = [\n  \"EvalError\",\n  \"InternalError\",\n  \"RangeError\",\n  \"ReferenceError\",\n  \"SyntaxError\",\n  \"TypeError\",\n  \"URIError\"\n];\n\nconst BUILT_IN_GLOBALS = [\n  \"setInterval\",\n  \"setTimeout\",\n  \"clearInterval\",\n  \"clearTimeout\",\n\n  \"require\",\n  \"exports\",\n\n  \"eval\",\n  \"isFinite\",\n  \"isNaN\",\n  \"parseFloat\",\n  \"parseInt\",\n  \"decodeURI\",\n  \"decodeURIComponent\",\n  \"encodeURI\",\n  \"encodeURIComponent\",\n  \"escape\",\n  \"unescape\"\n];\n\nconst BUILT_IN_VARIABLES = [\n  \"arguments\",\n  \"this\",\n  \"super\",\n  \"console\",\n  \"window\",\n  \"document\",\n  \"localStorage\",\n  \"module\",\n  \"global\" // Node.js\n];\n\nconst BUILT_INS = [].concat(\n  BUILT_IN_GLOBALS,\n  BUILT_IN_VARIABLES,\n  TYPES,\n  ERROR_TYPES\n);\n\n/**\n * @param {string} value\n * @returns {RegExp}\n * */\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction source(re) {\n  if (!re) return null;\n  if (typeof re === \"string\") return re;\n\n  return re.source;\n}\n\n/**\n * @param {RegExp | string } re\n * @returns {string}\n */\nfunction lookahead(re) {\n  return concat('(?=', re, ')');\n}\n\n/**\n * @param {...(RegExp | string) } args\n * @returns {string}\n */\nfunction concat(...args) {\n  const joined = args.map((x) => source(x)).join(\"\");\n  return joined;\n}\n\n/*\nLanguage: JavaScript\nDescription: JavaScript (JS) is a lightweight, interpreted, or just-in-time compiled programming language with first-class functions.\nCategory: common, scripting\nWebsite: https://developer.mozilla.org/en-US/docs/Web/JavaScript\n*/\n\nfunction javascript(hljs) {\n  var IDENT_RE$1 = IDENT_RE;\n  var FRAGMENT = {\n    begin: '<>',\n    end: '</>'\n  };\n  var XML_TAG = {\n    begin: /<[A-Za-z0-9\\\\._:-]+/,\n    end: /\\/[A-Za-z0-9\\\\._:-]+>|\\/>/\n  };\n  var KEYWORDS$1 = {\n    $pattern: IDENT_RE,\n    keyword: KEYWORDS.join(\" \"),\n    literal: LITERALS.join(\" \"),\n    built_in: BUILT_INS.join(\" \")\n  };\n  var NUMBER = {\n    className: 'number',\n    variants: [\n      { begin: '\\\\b(0[bB][01]+)n?' },\n      { begin: '\\\\b(0[oO][0-7]+)n?' },\n      { begin: hljs.C_NUMBER_RE + 'n?' }\n    ],\n    relevance: 0\n  };\n  var SUBST = {\n    className: 'subst',\n    begin: '\\\\$\\\\{', end: '\\\\}',\n    keywords: KEYWORDS$1,\n    contains: []  // defined later\n  };\n  var HTML_TEMPLATE = {\n    begin: 'html`', end: '',\n    starts: {\n      end: '`', returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'xml',\n    }\n  };\n  var CSS_TEMPLATE = {\n    begin: 'css`', end: '',\n    starts: {\n      end: '`', returnEnd: false,\n      contains: [\n        hljs.BACKSLASH_ESCAPE,\n        SUBST\n      ],\n      subLanguage: 'css',\n    }\n  };\n  var TEMPLATE_STRING = {\n    className: 'string',\n    begin: '`', end: '`',\n    contains: [\n      hljs.BACKSLASH_ESCAPE,\n      SUBST\n    ]\n  };\n  SUBST.contains = [\n    hljs.APOS_STRING_MODE,\n    hljs.QUOTE_STRING_MODE,\n    HTML_TEMPLATE,\n    CSS_TEMPLATE,\n    TEMPLATE_STRING,\n    NUMBER,\n    hljs.REGEXP_MODE\n  ];\n  var PARAMS_CONTAINS = SUBST.contains.concat([\n    // eat recursive parens in sub expressions\n    { begin: /\\(/, end: /\\)/,\n      contains: [\"self\"].concat(SUBST.contains, [hljs.C_BLOCK_COMMENT_MODE, hljs.C_LINE_COMMENT_MODE])\n    },\n    hljs.C_BLOCK_COMMENT_MODE,\n    hljs.C_LINE_COMMENT_MODE\n  ]);\n  var PARAMS = {\n    className: 'params',\n    begin: /\\(/, end: /\\)/,\n    excludeBegin: true,\n    excludeEnd: true,\n    contains: PARAMS_CONTAINS\n  };\n\n  return {\n    name: 'JavaScript',\n    aliases: ['js', 'jsx', 'mjs', 'cjs'],\n    keywords: KEYWORDS$1,\n    contains: [\n      hljs.SHEBANG({\n        binary: \"node\",\n        relevance: 5\n      }),\n      {\n        className: 'meta',\n        relevance: 10,\n        begin: /^\\s*['\"]use (strict|asm)['\"]/\n      },\n      hljs.APOS_STRING_MODE,\n      hljs.QUOTE_STRING_MODE,\n      HTML_TEMPLATE,\n      CSS_TEMPLATE,\n      TEMPLATE_STRING,\n      hljs.C_LINE_COMMENT_MODE,\n      hljs.COMMENT(\n        '/\\\\*\\\\*',\n        '\\\\*/',\n        {\n          relevance : 0,\n          contains : [\n            {\n              className : 'doctag',\n              begin : '@[A-Za-z]+',\n              contains : [\n                {\n                  className: 'type',\n                  begin: '\\\\{',\n                  end: '\\\\}',\n                  relevance: 0\n                },\n                {\n                  className: 'variable',\n                  begin: IDENT_RE$1 + '(?=\\\\s*(-)|$)',\n                  endsParent: true,\n                  relevance: 0\n                },\n                // eat spaces (not newlines) so we can find\n                // types or variables\n                {\n                  begin: /(?=[^\\n])\\s/,\n                  relevance: 0\n                },\n              ]\n            }\n          ]\n        }\n      ),\n      hljs.C_BLOCK_COMMENT_MODE,\n      NUMBER,\n      { // object attr container\n        begin: concat(/[{,\\n]\\s*/,\n          // we need to look ahead to make sure that we actually have an\n          // attribute coming up so we don't steal a comma from a potential\n          // \"value\" container\n          //\n          // NOTE: this might not work how you think.  We don't actually always\n          // enter this mode and stay.  Instead it might merely match `,\n          // <comments up next>` and then immediately end after the , because it\n          // fails to find any actual attrs. But this still does the job because\n          // it prevents the value contain rule from grabbing this instead and\n          // prevening this rule from firing when we actually DO have keys.\n          lookahead(concat(\n            // we also need to allow for multiple possible comments inbetween\n            // the first key:value pairing\n            /(((\\/\\/.*)|(\\/\\*(.|\\n)*\\*\\/))\\s*)*/,\n            IDENT_RE$1 + '\\\\s*:'))),\n        relevance: 0,\n        contains: [\n          {\n            className: 'attr',\n            begin: IDENT_RE$1 + lookahead('\\\\s*:'),\n            relevance: 0,\n          },\n        ]\n      },\n      { // \"value\" container\n        begin: '(' + hljs.RE_STARTERS_RE + '|\\\\b(case|return|throw)\\\\b)\\\\s*',\n        keywords: 'return throw case',\n        contains: [\n          hljs.C_LINE_COMMENT_MODE,\n          hljs.C_BLOCK_COMMENT_MODE,\n          hljs.REGEXP_MODE,\n          {\n            className: 'function',\n            // we have to count the parens to make sure we actually have the\n            // correct bounding ( ) before the =>.  There could be any number of\n            // sub-expressions inside also surrounded by parens.\n            begin: '(\\\\([^(]*' +\n              '(\\\\([^(]*' +\n                '(\\\\([^(]*' +\n                '\\\\))?' +\n              '\\\\))?' +\n            '\\\\)|' + hljs.UNDERSCORE_IDENT_RE + ')\\\\s*=>', returnBegin: true,\n            end: '\\\\s*=>',\n            contains: [\n              {\n                className: 'params',\n                variants: [\n                  {\n                    begin: hljs.UNDERSCORE_IDENT_RE\n                  },\n                  {\n                    className: null,\n                    begin: /\\(\\s*\\)/,\n                    skip: true\n                  },\n                  {\n                    begin: /\\(/, end: /\\)/,\n                    excludeBegin: true, excludeEnd: true,\n                    keywords: KEYWORDS$1,\n                    contains: PARAMS_CONTAINS\n                  }\n                ]\n              }\n            ]\n          },\n          { // could be a comma delimited list of params to a function call\n            begin: /,/, relevance: 0,\n          },\n          {\n            className: '',\n            begin: /\\s/,\n            end: /\\s*/,\n            skip: true,\n          },\n          { // JSX\n            variants: [\n              { begin: FRAGMENT.begin, end: FRAGMENT.end },\n              { begin: XML_TAG.begin, end: XML_TAG.end }\n            ],\n            subLanguage: 'xml',\n            contains: [\n              {\n                begin: XML_TAG.begin, end: XML_TAG.end, skip: true,\n                contains: ['self']\n              }\n            ]\n          },\n        ],\n        relevance: 0\n      },\n      {\n        className: 'function',\n        beginKeywords: 'function', end: /\\{/, excludeEnd: true,\n        contains: [\n          hljs.inherit(hljs.TITLE_MODE, {begin: IDENT_RE$1}),\n          PARAMS\n        ],\n        illegal: /\\[|%/\n      },\n      {\n        begin: /\\$[(.]/ // relevance booster for a pattern common to JS libs: `$(something)` and `$.something`\n      },\n\n      hljs.METHOD_GUARD,\n      { // ES6 class\n        className: 'class',\n        beginKeywords: 'class', end: /[{;=]/, excludeEnd: true,\n        illegal: /[:\"\\[\\]]/,\n        contains: [\n          {beginKeywords: 'extends'},\n          hljs.UNDERSCORE_TITLE_MODE\n        ]\n      },\n      {\n        beginKeywords: 'constructor', end: /\\{/, excludeEnd: true\n      },\n      {\n        begin: '(get|set)\\\\s+(?=' + IDENT_RE$1 + '\\\\()',\n        end: /{/,\n        keywords: \"get set\",\n        contains: [\n          hljs.inherit(hljs.TITLE_MODE, {begin: IDENT_RE$1}),\n          { begin: /\\(\\)/ }, // eat to avoid empty params\n          PARAMS\n        ]\n\n      }\n    ],\n    illegal: /#(?!!)/\n  };\n}\n\nmodule.exports = javascript;\n","import {MD, postprocessConvertedMarkdown} from \"./markdown.ts\";\nimport {initAnm} from \"./anm/tables.ts\";\nimport {initTips} from \"./tips.ts\";\nimport {initSettings, clearSettingsCache} from \"./settings.ts\";\nimport {globalNames, globalLinks} from \"./resolver.ts\";\nimport {parseQuery, queryEqualsUptoAnchor, queryPageEquals} from \"./url-format.ts\";\nimport {buildNavbar, highlightCurrentPageInNavbar} from \"./navbar.ts\";\n\nimport hljs from \"highlight.js/lib/core\";\nimport hljsCLike from \"highlight.js/lib/languages/c-like\";\nimport hljsCpp from \"highlight.js/lib/languages/cpp\";\nimport hljsJs from \"highlight.js/lib/languages/javascript\";\n\nhljs.registerLanguage('c-like', hljsCLike);\nhljs.registerLanguage('cpp', hljsCpp);\nhljs.registerLanguage('js', hljsJs);\n\n/**\n * Do early initialization before page-specific scripts run.\n */\nexport function init() {\n  window.onContentLoad = function(clb) {\n    contentLoadListeners.push(clb);\n  };\n  initSettings();\n  initAnm();\n  initTips();\n  buildNavbar(document.querySelector(\".header-navigation\"));\n\n  window.addEventListener(\"hashchange\", buildOrScrollToContent, false);\n  buildOrScrollToContent();\n\n  initResize();\n}\n\nconst MAIN_TITLE = `ExpHP's Touhou Pages`;\nconst $content = document.querySelector(\".content-wrapper\");\nexport const $scriptContent = document.querySelector(\".script-wrapper\");\nlet lastQuery = null;\nconst pageMarkdownCache = {};\n\nconst contentLoadListeners = [];\n\nfunction contentLoaded() {\n  for (const func of contentLoadListeners) {\n    func();\n  }\n  contentLoadListeners.length = 0;\n}\n\n// Get the text content of an `.md` file in `content/`.\nfunction getPossiblyCachedContentMd(page, clb, err) {\n  if (pageMarkdownCache[page]) {\n    return clb(pageMarkdownCache[page]);\n  }\n  const xhr = new window.XMLHttpRequest();\n  xhr.open(\"GET\", \"content/\"+page+\".md\");\n  xhr.onreadystatechange = function(...args) {\n    if (this.readyState == 4) {\n      if (this.status == 200) {\n        clb(this.responseText);\n        pageMarkdownCache[page] = this.responseText;\n      } else {\n        err.apply(this, args);\n      }\n    }\n  };\n  xhr.send();\n}\n\n// Load an `.md` file from `content/` and use it to generate the current page's HTML content.\nfunction loadContent(page) {\n  clearSettingsCache();\n\n  getPossiblyCachedContentMd(page, function(md) {\n    loadMd(md);\n  }, function() {\n    loadMd(getErrorString());\n  });\n}\n\nfunction getErrorString() {\n  return `\n# An error has occured while loading the page.\nTry reloading using **CTRL+F5**, or **clearing browser cache** of this site.\nIf the problem persists, contact me on Discord: **ExpHP#4754**.\n`;\n}\n\n// Generate the current page's content from a markdown string.\nfunction loadMd(txt) {\n  resetScroll();\n  setWindowTitle(null);\n\n  $scriptContent.innerHTML = \"\";\n  const html = MD.makeHtml(txt);\n  $content.innerHTML = \"<div class='content'>\" + html + \"</div>\";\n  postprocessConvertedMarkdown($content);\n\n  highlightCurrentPageInNavbar();\n\n  const context = parseQuery(window.location.hash);\n  globalNames.transformHtml($content, context);\n  globalLinks.transformHtml($content, context);\n  contentLoaded();\n}\n\nfunction resetScroll() {\n  document.body.scrollTop = document.documentElement.scrollTop = 0;\n}\n\nexport function setWindowTitle(text) {\n  const sep = text ? \" &mdash; \" : '';\n  text = text || '';\n  document.head.querySelector(\"title\").innerHTML = `${text}${sep}${MAIN_TITLE}`;\n}\n\nfunction buildOrScrollToContent() {\n  const query = parseQuery(window.location.hash);\n\n  // don't reload same page (also works for index, where query.s === '')\n  if (!(lastQuery && queryEqualsUptoAnchor(lastQuery, query))) {\n    if (queryPageEquals(query, {s: ''})) query.s = '/index';\n    loadContent(query.s);\n  }\n\n  lastQuery = query;\n\n  // FIXME this is absolute jank, all I want is for &a= to work like # normally does...\n  if (query.a) {\n    // Don't want to wait forever because the user technically never leaves this page,\n    // and so we don't want to potentially leave behind an \"anchor time-bomb\" that could\n    // suddenly activate at an unexpected time...\n    const trySeveralTimes = (times) => {\n      if (times <= 0) {\n        window.console.error(`Invalid anchor: ${query.a}`);\n        return;\n      }\n\n      const $elem = document.getElementById(query.a);\n      if ($elem) {\n        $elem.scrollIntoView();\n        window.scrollBy(0, -60);\n      } else {\n        setTimeout(() => trySeveralTimes(times - 1), 100);\n      }\n    };\n    trySeveralTimes(50);\n  }\n}\n\nexport function highlightCode(content, lang) {\n  lang = lang || \"cpp\";\n  return hljs.fixMarkup(hljs.highlight(lang, content, true, false).value);\n}\n\nfunction resize() {\n  if (window.screen.width < 540) {\n    document.querySelector(\"#viewport\").setAttribute(\"content\", \"width=540px, user-scalable=no\");\n  } else {\n    // make it actually usable with horizontal orientation\n    let w = \"device-width\";\n    if (window.screen.height < 450) w = \"900px\";\n    document.querySelector(\"#viewport\").setAttribute(\"content\", \"width=\"+w+\", user-scalable=no\");\n  }\n}\n\nfunction initResize() {\n  window.onresize = resize;\n  resize();\n}\n","import {init} from \"./main.js\";\n\ninit();\n"]}